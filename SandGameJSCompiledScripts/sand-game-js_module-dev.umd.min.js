/* Sand Game JS; Patrik Harag, https://harag.cz; all rights reserved */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).SandGameJS_ModuleDev={})}(this,(function(e){"use strict";class t{static addContent(e,t){if(null===t);else if("string"==typeof t)e.textContent=t;else if(t instanceof Node)e.appendChild(t);else{if(!Array.isArray(t))throw"Content type not supported: "+typeof t;for(const a of t)if(a instanceof Node)e.appendChild(a);else if("string"==typeof a)e.insertAdjacentText("beforeend",a);else if(null!==a)throw"Content type not supported: "+typeof a}}static setContent(e,a){e.innerHTML="",t.addContent(e,a)}static putAttributes(e,t){for(const a in t){const n=t[a],r=typeof n;if("string"===r||"boolean"===r||"number"===r)e.setAttribute(a,n);else if("style"===a&&"object"===r)Object.assign(e.style,n);else if(null!==n)throw"Unsupported attribute type: "+typeof n}}static create(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstElementChild}static element(e,a=null,n=null){const r=document.createElement(e);return t.putAttributes(r,a),t.addContent(r,n),r}static div(e=null,a=null){return t.element("div",e,a)}static par(e=null,a=null){return t.element("p",e,a)}static span(e=null,a=null){return t.element("span",a,e)}static link(e,a=null,n=null){const r=t.element("a",a,e);return null!==n&&(r.href="javascript:void(0)",r.addEventListener("click",n)),r}static button(e,a=null,n=null){null===a&&(a={}),a.type="button";const r=t.element("button",a,e);return null!==n&&r.addEventListener("click",n),r}static bootstrapAlertInfo(e){const a=t.div({class:"alert alert-info alert-dismissible fade show",role:"alert"});return t.addContent(a,e),a.append(t.button(null,{type:"button",class:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})),a}static bootstrapCard(e,a,n=null){null===n&&(n={}),void 0===n.class&&(n.class="card");const r=t.div(n);return e&&r.append(t.div({class:"card-header"},e)),r.append(t.div({class:"card-body"},a)),r}static bootstrapCardCollapsable(e,a,n){const r="collapsable_"+Math.floor(999999999*Math.random());return t.div({class:"card"},[t.div({class:"card-header"},[t.element("a",{class:"card-link","data-bs-toggle":"collapse",href:"#"+r},e)]),t.div({id:r,class:a?"collapse":"collapse show"},[t.div({class:"card-body"},n)])])}static bootstrapInitTooltip(e,t){if(void 0===window.bootstrap)return console.error("Bootstrap library not available"),t;const a=new window.bootstrap.Tooltip(t);return a&&a.dispose(),t.setAttribute("data-bs-toggle","tooltip"),t.setAttribute("data-bs-placement","top"),"object"==typeof e?(t.setAttribute("data-bs-html","true"),t.setAttribute("title",e.innerHTML)):t.setAttribute("title",e),new window.bootstrap.Tooltip(t),t}static bootstrapSwitchButton(e,a,n=null){const r="switch-button_"+Math.floor(999999999*Math.random()),o=t.element("input",{type:"checkbox",id:r,class:"form-check-input",role:"switch",checked:a}),i=t.div({class:"form-check form-switch"},[o,t.element("label",{class:"form-check-label",for:r},e)]);return null!==n&&o.addEventListener("click",(()=>{n(o.checked)})),i}static bootstrapToggleButton(e,a,n,r=null){const o="toggle-button_"+Math.floor(999999999*Math.random()),i=t.element("input",{type:"checkbox",class:"btn-check",checked:n,id:o}),s=t.element("label",{class:"btn "+a,for:o},e);return i.addEventListener("change",(e=>{null!==r&&r(i.checked)})),[i,s]}static bootstrapTableBuilder(){return new a}static bootstrapDialogBuilder(){return new n}static bootstrapToastBuilder(){return new r}static bootstrapSimpleFormBuilder(){return new o}}class a{#e=t.element("tbody");addRow(e){this.#e.appendChild(e)}addRowBefore(e){this.#e.insertBefore(e,this.#e.firstChild)}createNode(){const e=t.element("table",{class:"table table-striped"});e.appendChild(this.#e);const a=t.div({class:"table-responsive"});return a.appendChild(e),a}}class n{#t=!1;#a="";#n=null;#r=null;#o=[];#i=null;#s=null;setPersistent(e){this.#t=e}setSizeLarge(){this.#a="modal-lg"}setSizeExtraLarge(){this.#a="modal-xl"}setHeaderContent(e){this.#n="string"==typeof e?t.element("strong",null,e):e}setBodyContent(e){this.#r=e}addCloseButton(e){const a=t.element("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},e);this.#o.push(a)}addSubmitButton(e,a){const n=t.element("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal"},e);n.addEventListener("click",a),this.#o.push(n)}addButton(e){this.#o.push(e)}show(e){void 0!==window.bootstrap?(null===this.#i&&(this.#i=t.div({class:"modal fade",tabindex:"-1",role:"dialog","aria-hidden":"true"},[t.div({class:`modal-dialog modal-dialog-centered ${this.#a}`},[t.div({class:"modal-content"},[t.div({class:"modal-header"},this.#n),t.div({class:"modal-body"},this.#r),t.div({class:"modal-footer"},this.#o)])])]),e.appendChild(this.#i)),this.#s=new window.bootstrap.Modal(this.#i),this.#t||this.#i.addEventListener("hidden.bs.modal",(()=>{e.removeChild(this.#i)})),this.#s.show()):console.error("Bootstrap library not available")}hide(){null!==this.#i&&this.#s.hide()}}class r{#n=null;#r=null;#l=null;#c=null;#d=36e5;setHeaderContent(e){"string"==typeof e&&(e=t.element("strong",e)),this.#n=t.span(e,{class:"me-auto"})}setBodyContent(e){this.#r=e}setDelay(e){this.#d=e}show(e){if(void 0===window.bootstrap)return void console.error("Bootstrap library not available");const a={class:"toast hide",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-delay":this.#d},n=t.div({class:"position-fixed bottom-0 right-0 p-3",style:"z-index: 5; right: 0; bottom: 0;"},[this.#l=t.div(a,[t.div({class:"toast-header"},[this.#n,t.button("",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close"})]),t.div({class:"toast-body"},[this.#r])])]);e.append(n),this.#c=new window.bootstrap.Toast(this.#l),this.#l.addEventListener("hidden.bs.toast",(()=>{e.removeChild(n)})),this.#c.show()}hide(){null!==this.#l&&this.#c.hide()}}class o{#u=[];#h=null;addTextArea(e,a,n="",r=8){let o=t.element("textarea",{class:"form-control",rows:r},n);return this.#u.push({key:a,label:e,input:o}),o}addInput(e,a,n=""){let r=t.element("input",{class:"form-control"});return n&&(r.value=n),this.#u.push({key:a,label:e,input:r}),r}addSubmitButton(e,a){this.#h=t.button(e,{class:"btn btn-primary"},(e=>{a(this.getData())}))}createNode(){let e=t.element("form",{action:"javascript:void(0);"});for(let a of this.#u)e.append(t.div({class:"mb-3"},[t.element("label",null,a.label),a.input]));return this.#h&&e.append(this.#h),e}getData(){let e={};for(let t of this.#u)e[t.key]=t.input.value;return e}}class i{performAction(e){throw"Not implemented"}static create(e){return new s(e)}static createToggle(e,t){let a=e;return new s((function(e){a=!a,t(e,a)}))}}class s extends i{#f;constructor(e){super(),this.#f=e}performAction(e){this.#f(e)}}class l{createNode(e){throw"Not implemented"}}class c extends l{static CLASS_PRIMARY="btn-primary";static CLASS_SECONDARY="btn-secondary";static CLASS_INFO="btn-info";static CLASS_SUCCESS="btn-success";static CLASS_WARNING="btn-warning";static CLASS_LIGHT="btn-light";static CLASS_OUTLINE_PRIMARY="btn-outline-primary";static CLASS_OUTLINE_SECONDARY="btn-outline-secondary";static CLASS_OUTLINE_INFO="btn-outline-info";static CLASS_OUTLINE_SUCCESS="btn-outline-success";static CLASS_OUTLINE_WARNING="btn-outline-warning";static CLASS_OUTLINE_LIGHT="btn-outline-light";#g;#p;#m;constructor(e,t,a){super(),this.#g=e,this.#p="function"==typeof a?i.create(a):a,this.#m=null==t?c.CLASS_PRIMARY:t}createNode(e){return t.button(this.#g,{class:"btn "+this.#m},(t=>{this.#p.performAction(e)}))}}class d{trigger(e,t){throw"Not implemented"}render(e){throw"Not implemented"}}class u extends d{constructor(){super()}trigger(e,t){}render(e){}}class h{getContextType(){throw"Not implemented"}initialize(e,t,a){throw"Not implemented"}}class f extends h{constructor(){super()}getContextType(){return"2d"}initialize(e,t,a){return new u}}class g{apply(e,t,a,n){throw"Not implemented"}}class p{static FIELD_TYPE_CLASS_SIZE=3;static TYPE_AIR=0;static TYPE_EFFECT=1;static TYPE_GAS=2;static TYPE_POWDER_FLOATING=3;static TYPE_FLUID=4;static TYPE_POWDER=5;static TYPE_POWDER_WET=6;static TYPE_STATIC=7;static FIELD_TYPE_MODIFIERS_SIZE=5;static FIELD_BEHAVIOUR_SIZE=4;static BEHAVIOUR_NONE=0;static BEHAVIOUR_SOIL=1;static BEHAVIOUR_GRASS=2;static BEHAVIOUR_3=3;static BEHAVIOUR_4=4;static BEHAVIOUR_TREE=5;static BEHAVIOUR_TREE_ROOT=6;static BEHAVIOUR_TREE_TRUNK=7;static BEHAVIOUR_TREE_LEAF=8;static BEHAVIOUR_FIRE=9;static BEHAVIOUR_FIRE_SOURCE=10;static BEHAVIOUR_METEOR=11;static BEHAVIOUR_LIQUID=12;static BEHAVIOUR_ENTITY=13;static BEHAVIOUR_E=14;static BEHAVIOUR_F=15;static FIELD_SPECIAL_SIZE=4;static SPECIAL_LIQUID_WATER=0;static SPECIAL_LIQUID_LIGHT_OIL=5;static SPECIAL_LIQUID_HEAVY_MOLTEN=10;static FIELD_HMI_SIZE=8;static FIELD_TEMPERATURE_SIZE=8;static of(e,t=0,a=0,n=0){let r=n<<8;return r=(r|a)<<8,r=(r|t)<<8,r|=e,r}static type8(e,t=0){return e|t<<3}static type8Powder(e,t=0,a=0,n=0){let r=t<<1;return r=(r|n)<<1,r=(r|a)<<3,r|=e,r}static type8Fluid(e){return e}static type8Solid(e,t=0,a=!0){let n=t<<1;return n=(n|(a?0:1))<<3,n|=e,n}static behaviour8(e=0,t=0){return e|t<<4}static modifiers8(e=0){return e}static getType(e){return 255&e}static getTypeClass(e){return 7&e}static getTypeModifierPowderSliding(e){return e>>3&1}static getTypeModifierPowderDirection(e){return e>>4&1}static getTypeModifierPowderMomentum(e){return e>>5&7}static getTypeModifierSolidNeighbourhoodType(e){return e>>3&1}static getTypeModifierSolidBodyId(e){return e>>4&15}static getBehaviour(e){return e>>8&15}static getSpecial(e){return e>>12&15}static getHeatModIndex(e){return e>>16&255}static getTemperature(e){return e>>24&255}static setType(e,t){return 4294967040&e|t}static setTypeClass(e,t){return 4294967288&e|t}static setTypeModifierPowderSliding(e,t){return 4294967287&e|t<<3}static setTypeModifierPowderDirection(e,t){return 4294967279&e|t<<4}static setTypeModifierPowderMomentum(e,t){return 4294967071&e|t<<5}static setTypeModifierSolidNeighbourhoodType(e,t){return 4294967287&e|t<<3}static setTypeModifierSolidBodyId(e,t){return 4294967055&e|t<<4}static setBehaviour(e,t){return 4294963455&e|t<<8}static setSpecial(e,t){return 4294905855&e|t<<12}static setHeatModIndex(e,t){return 4278255615&e|t<<16}static setTemperature(e,t){return 16777215&e|t<<24}static#T=16;static#E=Array(p.#T);static#b({i:e,conductiveIndex:t=.2,heatLossChanceTo10000:a=2500,flammableChanceTo10000:n=0,selfIgnitionChanceTo10000:r=0,flameHeat:o=0,burnDownChanceTo10000:i=0,meltingTemperature:s=256,meltingHMI:l=0,hardeningTemperature:c=0,hardeningHMI:d=0}){const u=Array(10);return u[0]=t,u[1]=a,u[2]=n,u[3]=r,u[4]=o,u[5]=i,u[6]=s,u[7]=l,u[8]=c,u[9]=d,p.#E[e]=u,e}static HMI_DEFAULT=p.#b({i:0});static HMI_CONDUCTIVE_1=p.#b({i:1,conductiveIndex:.25,heatLossChanceTo10000:500});static HMI_CONDUCTIVE_2=p.#b({i:2,conductiveIndex:.3,heatLossChanceTo10000:20});static HMI_CONDUCTIVE_3=p.#b({i:3,conductiveIndex:.45,heatLossChanceTo10000:10});static HMI_GRASS_LIKE=p.#b({i:4,flammableChanceTo10000:4500,selfIgnitionChanceTo10000:3,flameHeat:165,burnDownChanceTo10000:1e3});static HMI_WOOD_LIKE=p.#b({i:5,flammableChanceTo10000:100,selfIgnitionChanceTo10000:2,flameHeat:165,burnDownChanceTo10000:2});static HMI_LEAF_LIKE=p.#b({i:6,flammableChanceTo10000:4500,selfIgnitionChanceTo10000:3,flameHeat:165,burnDownChanceTo10000:100});static HMI_METAL=p.#b({i:7,conductiveIndex:.45,heatLossChanceTo10000:10,meltingTemperature:200,meltingHMI:8});static HMI_MOLTEN=p.#b({i:8,conductiveIndex:.45,heatLossChanceTo10000:10,hardeningTemperature:150,hardeningHMI:7});static HMI_COAL=p.#b({i:9,conductiveIndex:.3,heatLossChanceTo10000:20,flammableChanceTo10000:500,selfIgnitionChanceTo10000:3,flameHeat:190,burnDownChanceTo10000:50});static HMI_THERMITE=p.#b({i:10,conductiveIndex:.45,heatLossChanceTo10000:10,flammableChanceTo10000:8e3,selfIgnitionChanceTo10000:500,flameHeat:250,burnDownChanceTo10000:1e3});static HMI_OIL=p.#b({i:11,conductiveIndex:.45,heatLossChanceTo10000:10,flammableChanceTo10000:1e4,selfIgnitionChanceTo10000:2500,flameHeat:220,burnDownChanceTo10000:1e3});static{for(let e=0;e<p.#T;e++)void 0===p.#E[e]&&p.#b(e)}static hmiToConductiveIndex(e){return p.#E[15&e][0]}static hmiToHeatLossChanceTo10000(e){return p.#E[15&e][1]}static hmiToFlammableChanceTo10000(e){return p.#E[15&e][2]}static hmiToSelfIgnitionChanceTo10000(e){return p.#E[15&e][3]}static hmiToFlameHeat(e){return p.#E[15&e][4]}static hmiToBurnDownChanceTo10000(e){return p.#E[15&e][5]}static hmiToMeltingTemperature(e){return p.#E[15&e][6]}static hmiToMeltingHMI(e){return p.#E[15&e][7]}static hmiToHardeningTemperature(e){return p.#E[15&e][8]}static hmiToHardeningHMI(e){return p.#E[15&e][9]}}class m extends g{constructor(){super()}#A(e){switch(p.getTypeClass(e)){case p.TYPE_AIR:return[255,255,255];case p.TYPE_STATIC:return[0,0,0];case p.TYPE_FLUID:return[0,0,255];case p.TYPE_POWDER:case p.TYPE_POWDER_WET:case p.TYPE_POWDER_FLOATING:if(1===p.getTypeModifierPowderSliding(e))return 1===p.getTypeModifierPowderDirection(e)?[232,137,70]:[255,0,0];switch(p.getTypeClass(e)){case p.TYPE_POWDER:return[36,163,57];case p.TYPE_POWDER_WET:return[44,122,57];case p.TYPE_POWDER_FLOATING:return[16,194,45]}default:return[255,0,125]}}apply(e,t,a,n){const[r,o,i]=this.#A(a);return e[t]=r,e[t+1]=o,e[t+2]=i,!1}}class T{static asImageData(e,t=void 0,a=void 0){return new Promise(((n,r)=>{try{let o=new Image;o.onload=()=>{let e=document.createElement("canvas"),[r,i]=function(e,n){let r=e,o=n;if(void 0!==t&&r>t){const e=r/t;r=t,o/=e}if(void 0!==a&&o>a){const e=o/a;o=a,r/=e}return[Math.trunc(r),Math.trunc(o)]}(o.width,o.height);e.width=r,e.height=i;let s=e.getContext("2d");s.drawImage(o,0,0,e.width,e.height);let l=s.getImageData(0,0,e.width,e.height);n(l)},o.onerror=()=>{r("Cannot load image")},o.src=e}catch(e){r(e)}}))}}class E extends g{#w=null;constructor(){super(),T.asImageData("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAABCAIAAACnnMvDAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTUlEQVQ4T22QUZIjMQhDHzhH32PHYj/UZoiTLlcXloQQfsE/AF6QsM6/i4CABa9T5Kj5RPqfkL9s29y2l6e75lBff33Nx2h6AcfGxxP6ykjU+Exkw5m3YxqfbnPRucfPSFev1+p64rbqrm9NAif2xfYiPc5UCz5sixRLZLF2poDMylSmcilcLxkBMhShpBIlCirZiwoEGDz4U/tqxPqg1oMrqcEqkak2sW2g9WlrK2DiBsfQJ1JQi90ZAuLIEnmdwbrwXg+42ImggvpK8mQ+UTvMh//Fdh6D/Xrt1uITqc77/C2SUlRFKaVUpSpFbFKECAEgEGwo2CCog3Bwawy6qNNrZOJumV3XiIu98I4xRztMt7Smz1zkW3YtcmnMXtTPqK35yZ4RJd4bQELiLarYG4m9nwltsMe61/COY6rgfWa+x8xmO1FbWd91P5Lr/2afRpQBYZvbAAAAAElFTkSuQmCC").then((e=>this.#w=e))}apply(e,t,a,n){if(null!==this.#w)if(0===a)e[t]=0,e[t+1]=0,e[t+2]=0;else{const n=p.getTemperature(a),r=4*Math.trunc(n/(1<<p.FIELD_TEMPERATURE_SIZE)*this.#w.width);e[t]=this.#w.data[r],e[t+1]=this.#w.data[r+1],e[t+2]=this.#w.data[r+2]}}}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},A={};!function(e,t){!function(){function t(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function a(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(a){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof b&&b.global===b?b:void 0,i=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,i){var s=o.URL||o.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):n(l.href)?a(e,t,i):r(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,i){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),o);else if(n(e))a(e,o,i);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){r(s)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return a(e,t,n);var s="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l||i)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},d.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,h=u.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout((function(){u.revokeObjectURL(h)}),4e4)}});o.saveAs=s.saveAs=s,e.exports=s}()}({get exports(){return A},set exports(e){A=e}});var w=A,S=Uint8Array,_=Uint16Array,C=Uint32Array,v=new S([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y=new S([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),I=new S([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R=function(e,t){for(var a=new _(31),n=0;n<31;++n)a[n]=t+=1<<e[n-1];var r=new C(a[30]);for(n=1;n<30;++n)for(var o=a[n];o<a[n+1];++o)r[o]=o-a[n]<<5|n;return[a,r]},M=R(v,2),L=M[0],O=M[1];L[28]=258,O[258]=28;for(var N=R(y,0)[1],B=new _(32768),D=0;D<32768;++D){var H=(43690&D)>>>1|(21845&D)<<1;H=(61680&(H=(52428&H)>>>2|(13107&H)<<2))>>>4|(3855&H)<<4,B[D]=((65280&H)>>>8|(255&H)<<8)>>>1}var F=function(e,t,a){for(var n=e.length,r=0,o=new _(t);r<n;++r)e[r]&&++o[e[r]-1];var i,s=new _(t);for(r=0;r<t;++r)s[r]=s[r-1]+o[r-1]<<1;if(a){i=new _(1<<t);var l=15-t;for(r=0;r<n;++r)if(e[r])for(var c=r<<4|e[r],d=t-e[r],u=s[e[r]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)i[B[u]>>>l]=c}else for(i=new _(n),r=0;r<n;++r)e[r]&&(i[r]=B[s[e[r]-1]++]>>>15-e[r]);return i},U=new S(288);for(D=0;D<144;++D)U[D]=8;for(D=144;D<256;++D)U[D]=9;for(D=256;D<280;++D)U[D]=7;for(D=280;D<288;++D)U[D]=8;var P=new S(32);for(D=0;D<32;++D)P[D]=5;var G=F(U,9,0),x=F(P,5,0),k=function(e){return(e+7)/8|0},Y=function(e,t,a){(null==t||t<0)&&(t=0),(null==a||a>e.length)&&(a=e.length);var n=new(2==e.BYTES_PER_ELEMENT?_:4==e.BYTES_PER_ELEMENT?C:S)(a-t);return n.set(e.subarray(t,a)),n},W=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],z=function(e,t,a){var n=new Error(t||W[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,z),!a)throw n;return n},V=function(e,t,a){a<<=7&t;var n=t/8|0;e[n]|=a,e[n+1]|=a>>>8},Z=function(e,t,a){a<<=7&t;var n=t/8|0;e[n]|=a,e[n+1]|=a>>>8,e[n+2]|=a>>>16},j=function(e,t){for(var a=[],n=0;n<e.length;++n)e[n]&&a.push({s:n,f:e[n]});var r=a.length,o=a.slice();if(!r)return[ee,0];if(1==r){var i=new S(a[0].s+1);return i[a[0].s]=1,[i,1]}a.sort((function(e,t){return e.f-t.f})),a.push({s:-1,f:25001});var s=a[0],l=a[1],c=0,d=1,u=2;for(a[0]={s:-1,f:s.f+l.f,l:s,r:l};d!=r-1;)s=a[a[c].f<a[u].f?c++:u++],l=a[c!=d&&a[c].f<a[u].f?c++:u++],a[d++]={s:-1,f:s.f+l.f,l:s,r:l};var h=o[0].s;for(n=1;n<r;++n)o[n].s>h&&(h=o[n].s);var f=new _(h+1),g=K(a[d-1],f,0);if(g>t){n=0;var p=0,m=g-t,T=1<<m;for(o.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));n<r;++n){var E=o[n].s;if(!(f[E]>t))break;p+=T-(1<<g-f[E]),f[E]=t}for(p>>>=m;p>0;){var b=o[n].s;f[b]<t?p-=1<<t-f[b]++-1:++n}for(;n>=0&&p;--n){var A=o[n].s;f[A]==t&&(--f[A],++p)}g=t}return[new S(f),g]},K=function(e,t,a){return-1==e.s?Math.max(K(e.l,t,a+1),K(e.r,t,a+1)):t[e.s]=a},Q=function(e){for(var t=e.length;t&&!e[--t];);for(var a=new _(++t),n=0,r=e[0],o=1,i=function(e){a[n++]=e},s=1;s<=t;++s)if(e[s]==r&&s!=t)++o;else{if(!r&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(r),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(r);o=1,r=e[s]}return[a.subarray(0,n),t]},q=function(e,t){for(var a=0,n=0;n<t.length;++n)a+=e[n]*t[n];return a},J=function(e,t,a){var n=a.length,r=k(t+2);e[r]=255&n,e[r+1]=n>>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var o=0;o<n;++o)e[r+o+4]=a[o];return 8*(r+4+n)},$=function(e,t,a,n,r,o,i,s,l,c,d){V(t,d++,a),++r[256];for(var u=j(r,15),h=u[0],f=u[1],g=j(o,15),p=g[0],m=g[1],T=Q(h),E=T[0],b=T[1],A=Q(p),w=A[0],S=A[1],C=new _(19),R=0;R<E.length;++R)C[31&E[R]]++;for(R=0;R<w.length;++R)C[31&w[R]]++;for(var M=j(C,7),L=M[0],O=M[1],N=19;N>4&&!L[I[N-1]];--N);var B,D,H,k,Y=c+5<<3,W=q(r,U)+q(o,P)+i,z=q(r,h)+q(o,p)+i+14+3*N+q(C,L)+(2*C[16]+3*C[17]+7*C[18]);if(Y<=W&&Y<=z)return J(t,d,e.subarray(l,l+c));if(V(t,d,1+(z<W)),d+=2,z<W){B=F(h,f,0),D=h,H=F(p,m,0),k=p;var K=F(L,O,0);V(t,d,b-257),V(t,d+5,S-1),V(t,d+10,N-4),d+=14;for(R=0;R<N;++R)V(t,d+3*R,L[I[R]]);d+=3*N;for(var $=[E,w],X=0;X<2;++X){var ee=$[X];for(R=0;R<ee.length;++R){var te=31&ee[R];V(t,d,K[te]),d+=L[te],te>15&&(V(t,d,ee[R]>>>5&127),d+=ee[R]>>>12)}}}else B=G,D=U,H=x,k=P;for(R=0;R<s;++R)if(n[R]>255){te=n[R]>>>18&31;Z(t,d,B[te+257]),d+=D[te+257],te>7&&(V(t,d,n[R]>>>23&31),d+=v[te]);var ae=31&n[R];Z(t,d,H[ae]),d+=k[ae],ae>3&&(Z(t,d,n[R]>>>5&8191),d+=y[ae])}else Z(t,d,B[n[R]]),d+=D[n[R]];return Z(t,d,B[256]),d+D[256]},X=new C([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ee=new S(0),te=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var a=t,n=9;--n;)a=(1&a&&-306674912)^a>>>1;e[t]=a}return e}(),ae=function(){var e=-1;return{p:function(t){for(var a=e,n=0;n<t.length;++n)a=te[255&a^t[n]]^a>>>8;e=a},d:function(){return~e}}},ne=function(e,t,a,n,r){return function(e,t,a,n,r,o){var i=e.length,s=new S(n+i+5*(1+Math.ceil(i/7e3))+r),l=s.subarray(n,s.length-r),c=0;if(!t||i<8)for(var d=0;d<=i;d+=65535){var u=d+65535;u>=i&&(l[c>>3]=o),c=J(l,c+1,e.subarray(d,u))}else{for(var h=X[t-1],f=h>>>13,g=8191&h,p=(1<<a)-1,m=new _(32768),T=new _(p+1),E=Math.ceil(a/3),b=2*E,A=function(t){return(e[t]^e[t+1]<<E^e[t+2]<<b)&p},w=new C(25e3),I=new _(288),R=new _(32),M=0,L=0,B=(d=0,0),D=0,H=0;d<i;++d){var F=A(d),U=32767&d,P=T[F];if(m[U]=P,T[F]=U,D<=d){var G=i-d;if((M>7e3||B>24576)&&G>423){c=$(e,l,0,w,I,R,L,B,H,d-H,c),B=M=L=0,H=d;for(var x=0;x<286;++x)I[x]=0;for(x=0;x<30;++x)R[x]=0}var W=2,z=0,V=g,Z=U-P&32767;if(G>2&&F==A(d-Z))for(var j=Math.min(f,G)-1,K=Math.min(32767,d),Q=Math.min(258,G);Z<=K&&--V&&U!=P;){if(e[d+W]==e[d+W-Z]){for(var q=0;q<Q&&e[d+q]==e[d+q-Z];++q);if(q>W){if(W=q,z=Z,q>j)break;var te=Math.min(Z,q-2),ae=0;for(x=0;x<te;++x){var ne=d-Z+x+32768&32767,re=ne-m[ne]+32768&32767;re>ae&&(ae=re,P=ne)}}}Z+=(U=P)-(P=m[U])+32768&32767}if(z){w[B++]=268435456|O[W]<<18|N[z];var oe=31&O[W],ie=31&N[z];L+=v[oe]+y[ie],++I[257+oe],++R[ie],D=d+W,++M}else w[B++]=e[d],++I[e[d]]}}c=$(e,l,o,w,I,R,L,B,H,d-H,c),!o&&7&c&&(c=J(l,c+1,ee))}return Y(s,0,n+k(c)+r)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,a,n,!r)},re=function(e,t){var a={};for(var n in e)a[n]=e[n];for(var n in t)a[n]=t[n];return a},oe=function(e,t,a){for(;a;++t)e[t]=a,a>>>=8};function ie(e,t){return ne(e,t||{},0,0)}var se=function(e,t,a,n){for(var r in e){var o=e[r],i=t+r,s=n;Array.isArray(o)&&(s=re(n,o[1]),o=o[0]),o instanceof S?a[i]=[o,s]:(a[i+="/"]=[new S(0),s],se(o,i,a,n))}},le="undefined"!=typeof TextEncoder&&new TextEncoder,ce="undefined"!=typeof TextDecoder&&new TextDecoder;try{ce.decode(ee,{stream:!0}),1}catch(e){}function de(e,t){if(t){for(var a=new S(e.length),n=0;n<e.length;++n)a[n]=e.charCodeAt(n);return a}if(le)return le.encode(e);var r=e.length,o=new S(e.length+(e.length>>1)),i=0,s=function(e){o[i++]=e};for(n=0;n<r;++n){if(i+5>o.length){var l=new S(i+8+(r-n<<1));l.set(o),o=l}var c=e.charCodeAt(n);c<128||t?s(c):c<2048?(s(192|c>>6),s(128|63&c)):c>55295&&c<57344?(s(240|(c=65536+(1047552&c)|1023&e.charCodeAt(++n))>>18),s(128|c>>12&63),s(128|c>>6&63),s(128|63&c)):(s(224|c>>12),s(128|c>>6&63),s(128|63&c))}return Y(o,0,i)}var ue=function(e){var t=0;if(e)for(var a in e){var n=e[a].length;n>65535&&z(9),t+=n+4}return t},he=function(e,t,a,n,r,o,i,s){var l=n.length,c=a.extra,d=s&&s.length,u=ue(c);oe(e,t,null!=i?33639248:67324752),t+=4,null!=i&&(e[t++]=20,e[t++]=a.os),e[t]=20,t+=2,e[t++]=a.flag<<1|(o<0&&8),e[t++]=r&&8,e[t++]=255&a.compression,e[t++]=a.compression>>8;var h=new Date(null==a.mtime?Date.now():a.mtime),f=h.getFullYear()-1980;if((f<0||f>119)&&z(10),oe(e,t,f<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),t+=4,-1!=o&&(oe(e,t,a.crc),oe(e,t+4,o<0?-o-2:o),oe(e,t+8,a.size)),oe(e,t+12,l),oe(e,t+14,u),t+=16,null!=i&&(oe(e,t,d),oe(e,t+6,a.attrs),oe(e,t+10,i),t+=14),e.set(n,t),t+=l,u)for(var g in c){var p=c[g],m=p.length;oe(e,t,+g),oe(e,t+2,m),e.set(p,t+4),t+=4+m}return d&&(e.set(s,t),t+=d),t};function fe(e,t){t||(t={});var a={},n=[];se(e,"",a,t);var r=0,o=0;for(var i in a){var s=a[i],l=s[0],c=s[1],d=0==c.level?0:8,u=(C=de(i)).length,h=c.comment,f=h&&de(h),g=f&&f.length,p=ue(c.extra);u>65535&&z(11);var m=d?ie(l,c):l,T=m.length,E=ae();E.p(l),n.push(re(c,{size:l.length,crc:E.d(),c:m,f:C,m:f,u:u!=i.length||f&&h.length!=g,o:r,compression:d})),r+=30+u+p+T,o+=76+2*(u+p)+(g||0)+T}for(var b=new S(o+22),A=r,w=o-r,_=0;_<n.length;++_){var C=n[_];he(b,C.o,C,C.f,C.u,C.c.length);var v=30+C.f.length+ue(C.extra);b.set(C.c,C.o+v),he(b,r,C,C.f,C.u,C.c.length,C.o,C.m),r+=16+v+(C.m?C.m.length:0)}return function(e,t,a,n,r){oe(e,t,101010256),oe(e,t+8,a),oe(e,t+10,a),oe(e,t+12,n),oe(e,t+16,r)}(b,r,n.length,w,A),b}class ge extends i{#S=!1;#_=!1;#C=null;performAction(e){if(this.#S||(e.addOnBeforeClosed((()=>{null!==this.#C&&this.#v()})),e.addOnInitialized((e=>{this.#_=!1})),this.#S=!0),null===this.#C){if(this.#C={},!this.#_){let t=!1,a=0,n=!1;e.getSandGame().addOnProcessed((e=>{t=!0,a=e})),e.getSandGame().addOnRendered((()=>{null!==this.#C&&t&&!n&&(n=!0,this.#y(e,a,(()=>n=!1)),t=!1)})),this.#_=!0}}else this.#v()}#y(e,t,a){const n=e.getCanvas();null!==n&&n.toBlob((e=>{e.arrayBuffer().then((e=>{const a=new Uint8Array(e);null!==this.#C&&(this.#C[`iteration_${String(t).padStart(6,"0")}.png`]=a)})).finally((()=>{a()}))}))}#v(){this.#I(this.#C,"frames.zip"),this.#C=null}#I(e,t){const a=fe(e,{level:0});w.saveAs(new Blob([a]),t)}}class pe extends i{performAction(e){const t=e.getCanvas();null!==t&&t.toBlob((e=>{w.saveAs(e,this.#R(new Date)+".png")}))}#R(e){let t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0");return`${e.getFullYear()}-${a}-${t}_${String(e.getHours()).padStart(2,"0")}-${String(e.getMinutes()).padStart(2,"0")}`}}const me=window.SandGameJS.Scenes;class Te extends i{performAction(e){new Ee(e,(a=>{let n=t.bootstrapDialogBuilder();n.setHeaderContent("Benchmark results"),n.setBodyContent([t.par(null,"IPS AVG: "+a.ipsAvg.toFixed(2)),t.par(null,"IPS MIN: "+a.ipsMin)]),n.addCloseButton("Close"),n.addButton(t.button("Download results",{type:"button",class:"btn btn-primary"},(e=>{const t=JSON.stringify(a,null,"  "),n=new Blob([t],{type:"application/json;charset=utf-8"}),r=this.#R(new Date);w.saveAs(n,`${r}.benchmark.json`)}))),n.show(e.getDialogAnchor())})).start()}#R(e){let t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0");return`${e.getFullYear()}-${a}-${t}_${String(e.getHours()).padStart(2,"0")}-${String(e.getMinutes()).padStart(2,"0")}`}}class Ee{static WAITING_GAP=300;#M;#L;constructor(e,t){this.#M=e,this.#L=t}start(){let e=me.custom("Benchmark",(e=>this.#O(e)));this.#M.openScene(e),this.#M.start()}#O(e){const t=[],a=[...Ee.BENCHMARKS];let n=0,r=Ee.WAITING_GAP,o=0,i=Number.MAX_SAFE_INTEGER;e.addOnProcessed((()=>{if(r>0)return void r--;if(0===a.length)return;const s=a[0];0===n&&console.log("Running benchmark: "+s.name),s.nextIteration(e,n),n++;const l=e.getIterationsPerSecond();if(o+=l,i=Math.min(i,l),s.iterations===n){const l=o/s.iterations;t.push({name:s.name,ipsAvg:l,ipsMin:i}),a.shift(),n=0,o=0,i=Number.MAX_SAFE_INTEGER,r=Ee.WAITING_GAP,e.graphics().fill(e.getBrushCollection().byCodeName("air")),0===a.length&&this.#L(this.#N(e,t))}}))}#N(e,t){const a=t.map((e=>e.ipsAvg)).reduce(((e,t)=>e+t),0)/t.length,n=t.map((e=>e.ipsMin)).reduce(((e,t)=>Math.min(e,t)),Number.MAX_SAFE_INTEGER);return{version:1,date:(new Date).toString(),ipsAvg:a,ipsMin:n,benchmarks:t,scene:{width:e.getWidth(),height:e.getHeight()}}}static#B(e,t,a){if(t<=0)throw"Number of iterations must be a positive number";return{name:e,iterations:t,nextIteration:a}}static BENCHMARKS=[Ee.#B("sand-fall-q",500,(function(e,t){const a=e.getBrushCollection().byCodeName("sand");e.graphics().drawRectangle(0,0,-1,1,a,!0)})),Ee.#B("sand-fall-s",2e3,(function(e,t){if(t%10==0){const t=e.getBrushCollection().byCodeName("sand");e.graphics().drawRectangle(0,0,-1,1,t,!0)}})),Ee.#B("sand-fill",1e3,(function(e,t){if(0===t){const t=e.getBrushCollection().byCodeName("sand");e.graphics().drawRectangle(0,0,-1,-1,t,!0)}})),Ee.#B("soil-fall-q",500,(function(e,t){const a=e.getBrushCollection().byCodeName("soil");e.graphics().drawRectangle(0,0,-1,1,a,!0)})),Ee.#B("soil-fall-s",2e3,(function(e,t){if(t%10==0){const t=e.getBrushCollection().byCodeName("soil");e.graphics().drawRectangle(0,0,-1,1,t,!0)}})),Ee.#B("soil-fill",1e3,(function(e,t){if(0===t){const t=e.getBrushCollection().byCodeName("soil");e.graphics().drawRectangle(0,0,-1,-1,t,!0)}})),Ee.#B("water-fall-q",500,(function(e,t){const a=e.getBrushCollection().byCodeName("water");e.graphics().drawRectangle(0,0,-1,1,a,!0)})),Ee.#B("water-fall-s",2e3,(function(e,t){if(t%10==0){const t=e.getBrushCollection().byCodeName("water");e.graphics().drawRectangle(0,0,-1,1,t,!0)}})),Ee.#B("water-fill",1e3,(function(e,t){if(0===t){const t=e.getBrushCollection().byCodeName("water");e.graphics().drawRectangle(0,0,-1,-1,t,!0)}})),Ee.#B("sand-into-water",1e3,(function(e,t){if(0===t){const t=e.getBrushCollection().byCodeName("sand"),a=e.getBrushCollection().byCodeName("water");e.graphics().drawRectangle(0,0,-1,31,t,!0),e.graphics().drawRectangle(0,60,-1,-1,a,!0)}})),Ee.#B("soil-into-water",1e3,(function(e,t){if(0===t){const t=e.getBrushCollection().byCodeName("soil"),a=e.getBrushCollection().byCodeName("water");e.graphics().drawRectangle(0,0,-1,31,t,!0),e.graphics().drawRectangle(0,60,-1,-1,a,!0)}}))]}class be extends i{performAction(e){const t=e.getSandGame();if(null===t)return;const a=e.getToolManager().getPrimaryTool();a.isAreaModeEnabled()&&a.applyArea(0,0,t.getWidth(),t.getHeight(),t.graphics(),!1)}}const Ae=window.SandGameJS.BrushDefs;class we{static ALL_MATERIALS=function(e){let t=e.getSandGame();if(null===t)return;const a=["ash","sand","soil","gravel","wall","rock","metal","wood","water"];let n=Math.ceil(t.getWidth()/a.length);for(let e=0;e<a.length;e++){const r=Ae.byCodeName(a[e]);t.graphics().drawRectangle(e*n,0,(e+1)*n,-1,r,!0)}};static TREE_SPAWN_TEST=function(e){let t=e.getSandGame();null!==t&&(t.graphics().fill(Ae.AIR),t.layeredTemplate().layer(Math.trunc(t.getHeight()/2),!1,Ae.AIR).layer(1,!0,Ae.WALL).layer(10,!0,Ae.SOIL).grass(),t.layeredTemplate().layer(1,!0,Ae.WALL).layer(10,!0,Ae.SOIL).grass())};static treeGrowTest(e=-1){return function(t){let a=t.getSandGame();if(null===a)return;a.graphics().fill(Ae.AIR);let n=Math.trunc(a.getWidth()/8);const r=a.layeredTemplate();r.layer(Math.trunc(a.getHeight()/2),!1,Ae.AIR),r.layer(1,!0,Ae.WALL),r.layer(10,!0,Ae.SOIL);for(let t=0;t<8;t++)r.tree(Math.trunc((t+.5)*n),t%8,e);r.grass();const o=a.layeredTemplate();o.layer(1,!0,Ae.WALL),o.layer(10,!0,Ae.SOIL);for(let t=0;t<8;t++)o.tree(Math.trunc((t+.5)*n),(t+8)%8,e);o.grass()}}}class Se extends i{static#D="chunk";#H=!1;#F=!1;performAction(e){if(this.#F=!this.#F,!this.#H){if(null!==e.getSandGame()){e.getSandGame().addOnRendered((t=>{this.#U(e,t)}))}e.addOnInitialized((t=>{t.addOnRendered((t=>{this.#U(e,t)}))})),this.#H=!0}}#U(e,t){this.#F?this.#P(e,t):this.#P(e,null)}#P(e,t){this.#G(e),this.#x(e,t)}#x(e,t){const a=e.getSandGame(),n=a.getChunkSize(),r=Math.ceil(a.getWidth()/n),o=Math.ceil(a.getHeight()/n),i=a.overlay().getMarkers(Se.#D);if(null===t)for(let e=0;e<o;e++)for(let t=0;t<r;t++){i[e*r+t].setVisible(!1)}else for(let e=0;e<o;e++)for(let a=0;a<r;a++){const n=e*r+a,o=i[n];t[n]?o.setVisible(!0):o.setVisible(!1)}}#G(e){const t=e.getSandGame();if(0===t.overlay().getMarkers(Se.#D).length){const e=t.getChunkSize(),a=Math.ceil(t.getWidth()/e),n=Math.ceil(t.getHeight()/e);for(let r=0;r<n;r++)for(let n=0;n<a;n++)t.overlay().createRectangleWH(n*e,r*e,e,e,{visible:!1,group:Se.#D,style:{outline:"rgb(0, 255, 0) 1px solid"}});t.overlay().createRectangleWH(0,0,100,20,{visible:!0,group:Se.#D,style:{color:"rgb(18,121,18)"},label:"Chunks: "+a*n})}}}const _e=window.SandGameJS.Tools,Ce=window.SandGameJS.ToolDefs,ve=window.SandGameJS.BrushDefs;class ye{static DEFAULT_SIZE=6;static CATEGORY_NONE=void 0;static CATEGORY_POWDER="powders";static CATEGORY_FLUIDS="fluids";static CATEGORY_SOLIDS="solids";static CATEGORY_EFFECTS="effects";static CATEGORY_BIOLOGICAL="biological";static TEST_TOOLS=[_e.pointBrushTool(ve.GRASS,{codeName:"grass",displayName:"Grass",category:ye.CATEGORY_BIOLOGICAL}),_e.pointBrushTool(ve.TREE,{codeName:"tree",displayName:"Tree",category:ye.CATEGORY_BIOLOGICAL}),Ce.BIRD,Ce.BUTTERFLY,Ce.FISH,_e.actionTool(((e,t,a)=>{a.entities().assignWaypoint(e,t)}),{codeName:"entity_waypoint",displayName:"Waypoint",category:ye.CATEGORY_BIOLOGICAL}),_e.roundBrushTool(ve.EFFECT_BURNT,ye.DEFAULT_SIZE,{codeName:"effect_burnt",displayName:"Burnt",category:ye.CATEGORY_EFFECTS}),_e.roundBrushTool(ve.EFFECT_NOISE_SM,ye.DEFAULT_SIZE,{codeName:"effect_noise_sm",displayName:"Noise SM",category:ye.CATEGORY_EFFECTS}),_e.roundBrushTool(ve.EFFECT_NOISE_MD,ye.DEFAULT_SIZE,{codeName:"effect_noise_md",displayName:"Noise MD",category:ye.CATEGORY_EFFECTS}),_e.roundBrushTool(ve.EFFECT_NOISE_LG,ye.DEFAULT_SIZE,{codeName:"effect_noise_lg",displayName:"Noise LG",category:ye.CATEGORY_EFFECTS}),_e.roundBrushTool(ve.EFFECT_TEMP_0,ye.DEFAULT_SIZE,{codeName:"effect_temp_0",displayName:"Temp 0",category:ye.CATEGORY_EFFECTS}),_e.roundBrushTool(ve.EFFECT_TEMP_127,ye.DEFAULT_SIZE,{codeName:"effect_temp_127",displayName:"Temp 127",category:ye.CATEGORY_EFFECTS}),_e.roundBrushTool(ve.EFFECT_TEMP_200,ye.DEFAULT_SIZE,{codeName:"effect_temp_200",displayName:"Temp 200",category:ye.CATEGORY_EFFECTS}),_e.roundBrushTool(ve.EFFECT_TEMP_255,ye.DEFAULT_SIZE,{codeName:"effect_temp_255",displayName:"Temp 255",category:ye.CATEGORY_EFFECTS}),_e.roundBrushTool(ve.ASH,ye.DEFAULT_SIZE,{codeName:"ash",displayName:"Ash",category:ye.CATEGORY_POWDER})];static _LIST={};static{for(const e of ye.TEST_TOOLS)ye._LIST[e.getInfo().getCodeName()]=e}static byCodeName(e){const t=ye._LIST[e];return void 0!==t?t:null}}const Ie=window.SandGameJS.RendererInitializerDefs;window.SandGameJS.BrushDefs;class Re extends l{createNode(e){const a=c.CLASS_OUTLINE_SECONDARY,n=c.CLASS_OUTLINE_INFO,r=c.CLASS_OUTLINE_PRIMARY,o=c.CLASS_OUTLINE_SUCCESS;let s=[new c("All materials",a,we.ALL_MATERIALS),new c("Tree spawn",a,we.TREE_SPAWN_TEST),new c("Tree grow",a,we.treeGrowTest(0)),new c("Tree grown",a,we.treeGrowTest(-1)),new c("Fill",a,new be),new c("Benchmark",r,new Te),new c("Record (start/stop)",r,new ge),new c("Screenshot",r,new pe),new c("Chunks",n,new Se),new c("M/webgl",n,i.create((e=>e.setRendererInitializer(Ie.canvasWebGL())))),new c("M/classic",n,i.create((e=>e.setRendererInitializer(Ie.canvas2d(null))))),new c("M/heatmap",n,i.create((e=>e.setRendererInitializer(Ie.canvas2d(new E))))),new c("M/type",n,i.create((e=>e.setRendererInitializer(Ie.canvas2d(new m))))),new c("M/null",n,i.create((e=>e.setRendererInitializer(new f)))),new c("Pixelated",n,i.createToggle(!0,((e,t)=>e.setCanvasImageRenderingStyle(t?"pixelated":"auto"))))];for(let e of ye.TEST_TOOLS){let t=i.create((t=>t.getToolManager().setPrimaryTool(e)));s.push(new c(e.getInfo().getDisplayName(),o,t))}let l=t.div({class:"test-tools"},[]);for(let t of s)l.append(t.createNode(e));return l}}e.createComponent=function(){return new Re},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sand-game-js_module-dev.umd.min.js.map
