<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Sand Game JS</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
        rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <style>
      /* override xx-large breakpoint */
      @media (min-width: 1400px)  {
          .container {
              max-width: 1140px;
          }
      }
  </style>
<script>/* Sand Game JS; Patrik Harag, https://harag.cz; all rights reserved */ ! function(e, t) {
  "object" == typeof exports && "undefined" != typeof module ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : t((e = "undefined" != typeof globalThis ? globalThis : e || self).SandGameJS = {})
}(this, (function(e) {
  "use strict";
  class t {
      static #e(e) {
          let t;
          t = window.innerWidth <= 575 ? window.innerWidth : e.clientWidth;
          let n = Math.min(1400, t),
              r = Math.min(800, Math.trunc(.7 * window.innerHeight));
          return n / r < .75 && (r = Math.trunc(n / .75)), {
              width: n,
              height: r
          }
      }
      static #t() {
          return navigator.maxTouchPoints || "ontouchstart" in document.documentElement ? 75e3 : window.screen.width >= 2560 && window.screen.height >= 1440 ? 2e5 : window.screen.width >= 2048 && window.screen.height >= 1080 ? 175e3 : window.screen.width >= 1920 && window.screen.height >= 1080 ? 15e4 : 125e3
      }
      static #n(e, t, n) {
          function r(n) {
              return Math.trunc(e * n) * Math.trunc(t * n)
          }
          return r(.75) < n ? .75 : r(.5) < n ? .5 : r(.375) < n ? .375 : .25
      }
      static determineOptimalSizes(e) {
          const {
              width: n,
              height: r
          } = t.#e(e);
          return {
              width: n,
              height: r,
              scale: t.#n(n, r, t.#t())
          }
      }
  }
  class n {
      elementHead;
      elementTail;
      constructor(e = 0, t = 0) {
          this.elementHead = e, this.elementTail = t
      }
  }
  class r {
      static FIELD_TYPE_CLASS_SIZE = 3;
      static TYPE_AIR = 0;
      static TYPE_EFFECT = 1;
      static TYPE_GAS = 2;
      static TYPE_POWDER_FLOATING = 3;
      static TYPE_FLUID = 4;
      static TYPE_FLUID_HOT = 14;
      static TYPE_POWDER = 5;
      static TYPE_POWDER_WET = 6;
      static TYPE_STATIC = 7;
      static FIELD_TYPE_MODIFIERS_SIZE = 5;
      static FIELD_BEHAVIOUR_SIZE = 4;
      static BEHAVIOUR_NONE = 0;
      static BEHAVIOUR_SOIL = 1;
      static BEHAVIOUR_GRASS = 2;
      static BEHAVIOUR_FISH = 3;
      static BEHAVIOUR_FISH_BODY = 4;
      static BEHAVIOUR_TREE = 5;
      static BEHAVIOUR_TREE_ROOT = 6;
      static BEHAVIOUR_TREE_TRUNK = 7;
      static BEHAVIOUR_TREE_LEAF = 8;
      static BEHAVIOUR_FIRE = 9;
      static BEHAVIOUR_FIRE_SOURCE = 10;
      static BEHAVIOUR_METEOR = 11;
      static BEHAVIOUR_WATER = 12;
      static FIELD_SPECIAL_SIZE = 4;
      static FIELD_FLAMMABLE_TYPE_SIZE = 2;
      static FLAMMABLE_TYPE_NONE = 0;
      static FLAMMABLE_TYPE_SLOW = 1;
      static FLAMMABLE_TYPE_MEDIUM = 2;
      static FLAMMABLE_TYPE_FAST = 3;
      static FIELD_FLAME_HEAT_TYPE_SIZE = 2;
      static FLAME_HEAT_TYPE_NONE = 0;
      static FLAME_HEAT_TYPE_MEDIUM = 1;
      static FLAME_HEAT_TYPE_HIGH = 2;
      static FLAME_HEAT_TYPE_EXTREME = 3;
      static FIELD_BURNABLE_TYPE_SIZE = 2;
      static BURNABLE_TYPE_NEVER = 0;
      static BURNABLE_TYPE_SLOW = 1;
      static BURNABLE_TYPE_MEDIUM = 2;
      static BURNABLE_TYPE_FAST = 3;
      static FIELD_T_CONDUCTIVITY_TYPE_SIZE = 2;
      static FIELD_TEMPERATURE_SIZE = 8;
      static of (e, t = 0, n = 0, r = 0) {
          let s = r << 8;
          return s = (s | n) << 8, s = (s | t) << 8, s |= e, s
      }
      static type8(e, t = 0) {
          return e | t << 3
      }
      static type8Powder(e, t = 0, n = 0, r = 0) {
          let s = t << 1;
          return s = (s | r) << 1, s = (s | n) << 3, s |= e, s
      }
      static type8Fluid(e) {
          return e
      }
      static behaviour8(e = 0, t = 0) {
          return e | t << 4
      }
      static modifiers8(e = 0, t = 0, n = 0, r = 0) {
          let s = r << 2;
          return s = (s | n) << 2, s = (s | t) << 2, s |= e, s
      }
      static getType(e) {
          return 255 & e
      }
      static getTypeClass(e) {
          return 7 & e
      }
      static getTypeModifierPowderSliding(e) {
          return e >> 3 & 1
      }
      static getTypeModifierPowderDirection(e) {
          return e >> 4 & 1
      }
      static getTypeModifierPowderMomentum(e) {
          return e >> 5 & 7
      }
      static getBehaviour(e) {
          return e >> 8 & 15
      }
      static getSpecial(e) {
          return e >> 12 & 15
      }
      static getFlammableType(e) {
          return e >> 16 & 3
      }
      static getFlameHeatType(e) {
          return e >> 18 & 3
      }
      static getBurnableType(e) {
          return e >> 20 & 3
      }
      static getConductivityType(e) {
          return e >> 22 & 3
      }
      static getTemperature(e) {
          return e >> 24 & 255
      }
      static setType(e, t) {
          return 4294967040 & e | t
      }
      static setTypeClass(e, t) {
          return 4294967288 & e | t
      }
      static setTypeModifierPowderSliding(e, t) {
          return 4294967287 & e | t << 3
      }
      static setTypeModifierPowderDirection(e, t) {
          return 4294967279 & e | t << 4
      }
      static setTypeModifierPowderMomentum(e, t) {
          return 4294967071 & e | t << 5
      }
      static setBehaviour(e, t) {
          return 4294963455 & e | t << 8
      }
      static setSpecial(e, t) {
          return 4294905855 & e | t << 12
      }
      static setTemperature(e, t) {
          return 16777215 & e | t << 24
      }
  }
  class s {
      static DEFAULT = new s(106244033);
      static next(e) {
          let t = e + 1831565813;
          return t = Math.imul(t ^ t >>> 15, 1 | t), t ^= t + Math.imul(t ^ t >>> 7, 61 | t), ((t ^ t >>> 14) >>> 0) / 4294967296
      }
      #r;
      constructor(e) {
          this.#r = e
      }
      next() {
          let e = this.#r += 1831565813;
          return e = Math.imul(e ^ e >>> 15, 1 | e), e ^= e + Math.imul(e ^ e >>> 7, 61 | e), ((e ^ e >>> 14) >>> 0) / 4294967296
      }
      nextInt(e) {
          return Math.trunc(this.next() * e)
      }
      getState() {
          return this.#r
      }
  }
  class i {
      static BLUR_TYPE_NONE = 0;
      static BLUR_TYPE_BACKGROUND = 1;
      static BLUR_TYPE_1 = 2;
      static HEAT_EFFECT_NONE = 0;
      static HEAT_EFFECT_1 = 1;
      static HEAT_EFFECT_2 = 2;
      static HEAT_EFFECT_3 = 3;
      static of (e, t, n, r = i.BLUR_TYPE_NONE, s = 0, a = 0) {
          let o = 0;
          return o = (o | 3 & s) << 2, o = (o | 3 & a) << 2, o = (o | 3 & r) << 8, o = (o | 255 & e) << 8, o = (o | 255 & t) << 8, o |= 255 & n, o
      }
      static getColorRed(e) {
          return e >> 16 & 255
      }
      static getColorGreen(e) {
          return e >> 8 & 255
      }
      static getColorBlue(e) {
          return 255 & e
      }
      static getBlurType(e) {
          return e >> 24 & 3
      }
      static getBurntLevel(e) {
          return e >> 26 & 3
      }
      static getHeatEffect(e) {
          return e >> 28 & 3
      }
      static setColor(e, t, n, r) {
          return e = -256 & (e = -65281 & (e = -16711681 & e | t << 16) | n << 8) | r
      }
      static setBurntLevel(e, t) {
          return 4093640703 & e | t << 26
      }
  }
  const a = .5 * (Math.sqrt(3) - 1),
      o = (3 - Math.sqrt(3)) / 6,
      l = e => 0 | Math.floor(e),
      h = new Float64Array([1, 1, -1, 1, 1, -1, -1, -1, 1, 0, -1, 0, 1, 0, -1, 0, 0, 1, 0, -1, 0, 1, 0, -1]);

  function c(e = Math.random) {
      const t = function(e) {
              const t = 512,
                  n = new Uint8Array(t);
              for (let e = 0; e < t / 2; e++) n[e] = e;
              for (let r = 0; r < t / 2 - 1; r++) {
                  const t = r + ~~(e() * (256 - r)),
                      s = n[r];
                  n[r] = n[t], n[t] = s
              }
              for (let e = 256; e < t; e++) n[e] = n[e - 256];
              return n
          }(e),
          n = new Float64Array(t).map((e => h[e % 12 * 2])),
          r = new Float64Array(t).map((e => h[e % 12 * 2 + 1]));
      return function(e, s) {
          let i = 0,
              h = 0,
              c = 0;
          const d = (e + s) * a,
              u = l(e + d),
              E = l(s + d),
              A = (u + E) * o,
              m = e - (u - A),
              g = s - (E - A);
          let p, T;
          m > g ? (p = 1, T = 0) : (p = 0, T = 1);
          const f = m - p + o,
              C = g - T + o,
              R = m - 1 + 2 * o,
              S = g - 1 + 2 * o,
              v = 255 & u,
              w = 255 & E;
          let O = .5 - m * m - g * g;
          if (O >= 0) {
              const e = v + t[w];
              O *= O, i = O * O * (n[e] * m + r[e] * g)
          }
          let I = .5 - f * f - C * C;
          if (I >= 0) {
              const e = v + p + t[w + T];
              I *= I, h = I * I * (n[e] * f + r[e] * C)
          }
          let y = .5 - R * R - S * S;
          if (y >= 0) {
              const e = v + 1 + t[w + 1];
              y *= y, c = y * y * (n[e] * R + r[e] * S)
          }
          return 70 * (i + h + c)
      }
  }
  class d {
      static isVisualBurnApplicable(e) {
          const t = r.getTypeClass(e);
          return t > r.TYPE_FLUID || t === r.TYPE_POWDER_FLOATING
      }
      static visualBurn(e, t = 1, n = 3) {
          const r = i.getBurntLevel(e);
          if (r > 2) return e;
          let s = e,
              a = r + t;
          a = Math.min(a, n), a = Math.max(a, 0);
          const o = a - r;
          if (o > 0) {
              s = i.setBurntLevel(s, a);
              let t = i.getColorRed(e),
                  n = i.getColorGreen(e),
                  r = i.getColorBlue(e),
                  l = 1.8 - .5 * Math.random();
              o > 1 && (l *= 1.8 - .5 * Math.random()), o > 2 && (l *= 1.8 - .5 * Math.random()), t = Math.trunc(t / l), n = Math.trunc(n / l), r = Math.trunc(r / l), s = i.setColor(s, t, n, r)
          }
          return s
      }
      static visualNoiseProvider(e) {
          return new u(e)
      }
  }
  class u {
      #s;
      constructor(e) {
          const t = new s(e);
          this.#s = c((() => t.next()))
      }
      visualNoise(e, t, n, r = 1, s = .5, a = .1, o = 0, l = 0, h = 0) {
          let c = (this.#s(t / r, n / r) + 1) / 2;
          if (c < s) return e;
          c = 1 / (1 - s) * (c - s);
          const d = 1 - c * a;
          let u = i.getColorRed(e),
              E = i.getColorGreen(e),
              A = i.getColorBlue(e);
          return u = Math.trunc(u * d) + o * (1 - d), E = Math.trunc(E * d) + l * (1 - d), A = Math.trunc(A * d) + h * (1 - d), i.setColor(e, u, E, A)
      }
  }
  class E {
      apply(e, t, n = void 0, r = void 0) {
          throw "Not implemented"
      }
  }
  class A extends E {
      #i;
      constructor(e) {
          super(), this.#i = e
      }
      apply(e, t, n, r) {
          if (this.#i.length > 1) {
              const e = (n || s.DEFAULT).nextInt(this.#i.length);
              return this.#i[e]
          }
          return this.#i[0]
      }
  }
  class m extends E {
      #a;
      #o;
      constructor(e, t) {
          super(), this.#a = e, this.#o = t
      }
      apply(e, t, n, r) {
          const a = this.#a.apply(e, t, n);
          if (null === a) return null;
          const o = (n || s.DEFAULT).nextInt(this.#o.length),
              [l, h, c] = this.#o[o];
          return a.elementTail = i.setColor(a.elementTail, l, h, c), a
      }
  }
  class g {
      static asImageData(e, t = void 0, n = void 0) {
          return new Promise(((r, s) => {
              try {
                  let i = new Image;
                  i.onload = () => {
                      let e = document.createElement("canvas"),
                          [s, a] = function(e, r) {
                              let s = e,
                                  i = r;
                              if (void 0 !== t && s > t) {
                                  const e = s / t;
                                  s = t, i /= e
                              }
                              if (void 0 !== n && i > n) {
                                  const e = i / n;
                                  i = n, s /= e
                              }
                              return [Math.trunc(s), Math.trunc(i)]
                          }(i.width, i.height);
                      e.width = s, e.height = a;
                      let o = e.getContext("2d");
                      o.drawImage(i, 0, 0, e.width, e.height);
                      let l = o.getImageData(0, 0, e.width, e.height);
                      r(l)
                  }, i.onerror = () => {
                      s("Cannot load image")
                  }, i.src = e
              } catch (e) {
                  s(e)
              }
          }))
      }
  }
  class p extends E {
      #a;
      #l = null;
      constructor(e, t) {
          super(), this.#a = e, g.asImageData(t).then((e => this.#l = e))
      }
      apply(e, t, n, r) {
          const s = this.#a.apply(e, t, n);
          if (null === s) return null;
          if (null != this.#l) {
              const n = e % this.#l.width,
                  r = 4 * (t % this.#l.height * this.#l.width + n),
                  a = this.#l.data[r],
                  o = this.#l.data[r + 1],
                  l = this.#l.data[r + 2];
              s.elementTail = i.setColor(s.elementTail, a, o, l)
          }
          return s
      }
  }
  class T extends E {
      #h;
      constructor(e) {
          super(), this.#h = e
      }
      apply(e, t, n, r) {
          return this.#h(e, t, n, r)
      }
  }
  class f extends E {
      static #c = function(e, t) {
          return !1
      };
      #d;
      #u = 0;
      #E = 0;
      constructor(e = f.#c) {
          super(), this.#d = e
      }
      apply(e, t, n, r) {
          return this.#E++, null !== r && this.#d(r.elementHead, r.elementTail) && this.#u++, null
      }
      getPositives() {
          return this.#u
      }
      getTotal() {
          return this.#E
      }
      reset() {
          this.#E = 0, this.#u = 0
      }
  }
  class C {
      static counting(e) {
          return new f(e)
      }
      static random(e) {
          return new A(e)
      }
      static textureBrush(e, t) {
          return new p(t, e)
      }
      static paletteBrush(e, t) {
          return "string" == typeof e && (e = e.split("\n").map((e => e.split(",").map(Number)))), new m(t, e)
      }
      static custom(e) {
          return new T(e)
      }
      static withIntensity(e, t) {
          return C.custom(((n, r, i, a) => (i || s.DEFAULT).next() < e ? t.apply(n, r, i, a) : null))
      }
      static gentle(e) {
          return C.custom(((t, n, s, i) => r.getTypeClass(i.elementHead) === r.TYPE_AIR ? e.apply(t, n, s, i) : null))
      }
      static physical(e) {
          return C.custom(((t, n, s, i) => {
              if (null === i) return null;
              switch (r.getTypeClass(i.elementHead)) {
                  case r.TYPE_POWDER:
                  case r.TYPE_POWDER_WET:
                  case r.TYPE_POWDER_FLOATING:
                  case r.TYPE_FLUID:
                  case r.TYPE_GAS:
                  case r.TYPE_STATIC:
                      return e.apply(t, n, s, i);
                  default:
                      return null
              }
          }))
      }
      static temperature(e) {
          return C.custom(((t, s, i, a) => {
              if (null === a) return null;
              const o = r.setTemperature(a.elementHead, 255 & e);
              return new n(o, a.elementTail)
          }))
      }
      static temperatureOrBrush(e, t) {
          return C.custom(((s, i, a, o) => {
              if (null === o) return t.apply(s, i, a, null);
              switch (r.getTypeClass(o.elementHead)) {
                  case r.TYPE_AIR:
                  case r.TYPE_EFFECT:
                      return t.apply(s, i, a, o);
                  case r.TYPE_POWDER:
                  case r.TYPE_POWDER_WET:
                  case r.TYPE_POWDER_FLOATING:
                  case r.TYPE_FLUID:
                  case r.TYPE_GAS:
                  case r.TYPE_STATIC:
                      const l = r.setTemperature(o.elementHead, 255 & e);
                      return new n(l, o.elementTail);
                  default:
                      return t.apply(s, i, a, null)
              }
          }))
      }
      static concat(e, t) {
          return C.custom(((n, r, s, i) => {
              const a = e.apply(n, r, s, i),
                  o = t.apply(n, r, s, null !== a ? a : i);
              return null !== o ? o : a
          }))
      }
      static noise(e = 0, t, r, s, i, a, o) {
          const l = d.visualNoiseProvider(e);
          return C.custom(((e, h, c, d) => {
              if (null === d) return null;
              const u = l.visualNoise(d.elementTail, e, h, t, r, s, i, a, o);
              return new n(d.elementHead, u)
          }))
      }
  }
  class R {
      getWidth() {
          throw "Not implemented"
      }
      getHeight() {
          throw "Not implemented"
      }
  }
  class S {
      #A;
      constructor(e) {
          this.#A = e
      }
      getInfo() {
          return this.#A
      }
      hasCursor() {
          return !1
      }
      createCursor() {
          return null
      }
      isRepeatingEnabled() {
          return !1
      }
      applyPoint(e, t, n, r) {}
      isLineModeEnabled() {
          return !1
      }
      onDragStart(e, t, n, r) {}
      onDragEnd(e, t, n, r) {}
      applyStroke(e, t, n, r, s, i) {}
      isAreaModeEnabled() {
          return !1
      }
      applyArea(e, t, n, r, s, i) {}
      applySpecial(e, t, n, r) {}
      isSecondaryActionEnabled() {
          return !1
      }
      applySecondaryAction(e, t, n, r) {}
  }
  class v extends S {
      #m;
      #g;
      #p;
      constructor(e, t, n) {
          super(e), this.#m = t, this.#g = C.gentle(t), this.#p = n
      }
      getBrush() {
          return this.#m
      }
      isLineModeEnabled() {
          return !0
      }
      isAreaModeEnabled() {
          return !0
      }
      isRepeatingEnabled() {
          return !0
      }
      applyPoint(e, t, n, r) {
          this.applyStroke(e, t, e, t, n, r)
      }
      applyStroke(e, t, n, r, s, i) {
          const a = i ? this.#g : this.#m;
          s.drawLine(e, t, n, r, this.#p, a, !0)
      }
      applyArea(e, t, n, r, s, i) {
          const a = i ? this.#g : this.#m;
          s.drawRectangle(e, t, n, r, a)
      }
      applySpecial(e, t, n, r) {
          const s = r ? this.#g : this.#m;
          n.floodFill(e, t, s, 1)
      }
  }
  class w extends S {
      #m;
      constructor(e, t) {
          super(e), this.#m = t
      }
      applyPoint(e, t, n, r) {
          n.draw(e, t, this.#m)
      }
  }
  class O extends S {
      #T;
      #f;
      constructor(e, t, n) {
          super(e), this.#T = t, this.#f = n
      }
      applyPoint(e, t, n, r) {
          n.draw(e, t, this.#T), n.draw(e + 1, t, this.#f)
      }
  }
  var I = [{
          entriesCount: 310,
          entries: [
              [0, -1, 4],
              [0, 1, 1],
              [0, 2, 1],
              [0, 3, 1],
              [0, 4, 1],
              [0, 5, 1],
              [0, 6, 1],
              [0, 7, 1],
              [0, 8, 1],
              [0, 9, 1],
              [0, 10, 1],
              [0, 11, 1],
              [0, 12, 1],
              [0, 13, 1],
              [0, 14, 1],
              [0, 15, 1],
              [0, 16, 1],
              [0, 17, 1],
              [-1, 17, 1],
              [0, 18, 1],
              [1, 18, 1],
              [2, 18, 1],
              [3, 19, 1],
              [4, 20, 1],
              [5, 21, 2],
              [0, 19, 1],
              [0, 20, 1],
              [0, 21, 1],
              [0, 22, 1],
              [0, 23, 1],
              [-1, 23, 1],
              [-2, 23, 1],
              [-3, 24, 1],
              [-4, 25, 1],
              [-5, 25, 1],
              [-6, 25, 1],
              [-7, 25, 2],
              [0, 24, 1],
              [1, 25, 1],
              [1, 26, 1],
              [1, 27, 1],
              [2, 28, 1],
              [3, 29, 1],
              [4, 30, 1],
              [5, 30, 2],
              [0, 28, 1],
              [0, 29, 1],
              [-1, 30, 1, [
                  [-2, 31, 1],
                  [-3, 31, 1],
                  [-4, 31, 2],
                  [-2, 32, 1],
                  [-1, 33, 1],
                  [-1, 34, 1],
                  [0, 35, 1],
                  [0, 36, 2]
              ]],
              [1, -1, 4],
              [1, 0, 1],
              [1, 1, 1],
              [1, 2, 1],
              [1, 3, 1],
              [1, 4, 1],
              [1, 5, 1],
              [1, 6, 1],
              [1, 7, 1],
              [1, 8, 1],
              [1, 9, 1],
              [1, 10, 1],
              [1, 11, 1],
              [1, 12, 1],
              [1, 13, 1],
              [1, 14, 1],
              [1, 15, 1],
              [1, 16, 1],
              [1, 17, 1],
              [2, 19, 1],
              [1, 19, 1],
              [1, 20, 1],
              [1, 21, 1],
              [1, 22, 1],
              [1, 23, 1],
              [1, 24, 1],
              [2, 25, 1],
              [2, 26, 1],
              [2, 27, 1],
              [1, 28, 1],
              [1, 29, 1],
              [1, 30, 1],
              [1, 31, 1],
              [2, 32, 1],
              [2, 33, 1],
              [2, 34, 1],
              [3, 34, 1],
              [3, 35, 1],
              [4, 35, 1],
              [5, 35, 1],
              [6, 36, 1, [
                  [7, 36, 1],
                  [8, 37, 1],
                  [8, 38, 2],
                  [9, 38, 1],
                  [10, 39, 1],
                  [11, 39, 1],
                  [12, 40, 1],
                  [13, 40, 1],
                  [14, 40, 1],
                  [15, 40, 1],
                  [16, 40, 2]
              ]],
              [3, 36, 1],
              [3, 37, 1],
              [4, 38, 1],
              [5, 39, 1, [
                  [6, 40, 1],
                  [6, 41, 1],
                  [6, 42, 1],
                  [7, 43, 1],
                  [8, 44, 2]
              ]],
              [2, 38, 1, [
                  [1, 39, 1],
                  [0, 39, 1],
                  [-1, 40, 1],
                  [-2, 40, 1],
                  [-2, 41, 2],
                  [-3, 41, 1],
                  [-4, 41, 1],
                  [-5, 42, 1],
                  [-6, 42, 1],
                  [-7, 43, 1],
                  [-8, 43, 1],
                  [-9, 43, 2]
              ]],
              [3, 20, 1],
              [4, 21, 1],
              [5, 21, 2],
              [5, 22, 1],
              [6, 23, 1],
              [7, 24, 1],
              [8, 25, 1],
              [8, 26, 2],
              [9, 26, 1, []],
              [-1, -1, 4],
              [-1, 0, 1],
              [-1, 1, 1],
              [-1, 2, 1],
              [-1, 3, 1],
              [-1, 4, 1],
              [-1, 5, 1],
              [-1, 6, 1],
              [-1, 7, 1],
              [-1, 8, 1],
              [-1, 9, 1],
              [-1, 10, 1],
              [-1, 11, 1],
              [-1, 12, 1],
              [-1, 13, 1],
              [-1, 14, 1],
              [-1, 15, 1],
              [-1, 16, 1],
              [-1, 24, 1],
              [-2, 25, 1],
              [-3, 26, 1],
              [-4, 27, 1],
              [-5, 27, 1],
              [-6, 28, 1],
              [-7, 29, 1],
              [-8, 30, 1],
              [-9, 31, 1],
              [-10, 31, 1, [
                  [-9, 32, 1],
                  [-9, 33, 1],
                  [-9, 34, 1],
                  [-9, 35, 1],
                  [-8, 36, 1],
                  [-7, 36, 1],
                  [-6, 36, 1],
                  [-5, 37, 2],
                  [-8, 37, 1],
                  [-7, 38, 1],
                  [-7, 39, 1],
                  [-6, 40, 1],
                  [-6, 41, 1],
                  [-9, 38, 1],
                  [-10, 38, 2]
              ]],
              [9, 27, 1],
              [10, 28, 1],
              [11, 29, 1],
              [12, 30, 1],
              [13, 31, 1],
              [13, 32, 1],
              [14, 33, 2],
              [10, 30, 1],
              [10, 31, 1],
              [9, 32, 1],
              [8, 33, 2],
              [12, 41, 1],
              [12, 42, 1],
              [13, 43, 1],
              [13, 44, 1],
              [13, 45, 1],
              [14, 46, 2],
              [-6, 43, 1],
              [-5, 44, 1],
              [-4, 44, 1],
              [-3, 45, 1],
              [-2, 46, 1],
              [-1, 46, 1],
              [0, 47, 1],
              [1, 48, 1],
              [2, 48, 1],
              [3, 48, 2],
              [-3, 47, 2],
              [-2, -1, 4],
              [-2, 0, 1],
              [-2, 1, 1],
              [-2, 2, 1],
              [-2, 3, 1],
              [-2, 4, 1],
              [-2, 5, 1],
              [-2, 6, 1],
              [-2, 7, 1],
              [-2, 8, 1],
              [-2, 9, 1],
              [-2, 10, 1],
              [-2, 11, 1],
              [-2, 12, 1],
              [-2, 13, 1],
              [-2, 14, 1],
              [-2, 15, 1],
              [-2, 16, 1],
              [-2, 17, 1],
              [-1, 18, 1],
              [-1, 19, 1],
              [-1, 20, 1],
              [-1, 21, 1],
              [-1, 22, 1],
              [-2, 24, 1],
              [-3, 25, 1],
              [-4, 26, 1],
              [-5, 26, 1],
              [-6, 27, 1],
              [-7, 28, 1],
              [-8, 29, 1],
              [-9, 30, 1],
              [-10, 30, 2],
              [-10, 31, 1, [
                  [-11, 32, 1],
                  [-12, 32, 1],
                  [-13, 33, 1],
                  [-14, 34, 1],
                  [-15, 35, 1],
                  [-16, 35, 1],
                  [-17, 35, 2],
                  [-14, 36, 1],
                  [-14, 37, 1],
                  [-14, 38, 1],
                  [-14, 39, 1],
                  [-15, 40, 1],
                  [-15, 41, 1],
                  [-16, 41, 2],
                  [-15, 42, 1],
                  [-15, 43, 1, [
                      [-16, 44, 1],
                      [-16, 45, 1],
                      [-15, 45, 1],
                      [-14, 46, 1],
                      [-13, 46, 1],
                      [-12, 47, 1],
                      [-12, 48, 2],
                      [-11, 48, 1],
                      [-10, 49, 1],
                      [-9, 49, 1],
                      [-8, 50, 1],
                      [-7, 51, 1],
                      [-6, 52, 2],
                      [-16, 46, 1],
                      [-16, 47, 1],
                      [-17, 48, 1],
                      [-17, 49, 1],
                      [-18, 50, 2]
                  ]]
              ]],
              [4, 39, 1],
              [4, 40, 1],
              [4, 41, 1],
              [4, 42, 1],
              [3, 42, 1],
              [4, 43, 1],
              [5, 44, 1],
              [5, 45, 1],
              [5, 46, 1],
              [6, 47, 1],
              [7, 48, 1],
              [8, 49, 1],
              [8, 50, 2],
              [5, 48, 1, [
                  [4, 49, 1],
                  [3, 50, 1],
                  [2, 51, 1],
                  [1, 52, 1],
                  [1, 53, 1],
                  [0, 53, 2],
                  [0, 54, 1],
                  [0, 55, 1],
                  [0, 56, 1],
                  [1, 57, 1],
                  [2, 57, 1],
                  [3, 57, 1],
                  [4, 58, 2],
                  [-1, 57, 1],
                  [-2, 57, 1],
                  [-3, 58, 1],
                  [-4, 59, 2]
              ]],
              [2, 43, 2]
          ]
      }, {
          entriesCount: 319,
          entries: [
              [0, -1, 4],
              [0, 1, 1],
              [0, 2, 1],
              [0, 3, 1],
              [0, 4, 1],
              [0, 5, 1],
              [0, 6, 1],
              [0, 7, 1],
              [0, 8, 1],
              [0, 9, 1],
              [0, 10, 1],
              [0, 11, 1],
              [0, 12, 1],
              [0, 13, 1],
              [0, 14, 1],
              [0, 15, 1],
              [0, 16, 1],
              [0, 17, 1],
              [0, 18, 1],
              [-1, 18, 1],
              [-2, 18, 1],
              [-3, 19, 1],
              [-4, 20, 1],
              [-5, 21, 2],
              [0, 19, 1],
              [0, 20, 1],
              [0, 21, 1],
              [0, 22, 1],
              [0, 23, 1],
              [1, 23, 1],
              [2, 23, 1],
              [3, 24, 1],
              [4, 25, 1],
              [5, 25, 1],
              [6, 25, 1],
              [7, 25, 2],
              [0, 24, 1],
              [-1, 25, 1],
              [-1, 26, 1],
              [-1, 27, 1],
              [0, 28, 1],
              [0, 29, 1],
              [1, 30, 1, [
                  [2, 31, 1],
                  [3, 31, 1],
                  [4, 31, 2],
                  [2, 32, 1],
                  [1, 33, 1],
                  [1, 34, 1],
                  [0, 35, 1],
                  [0, 36, 2]
              ]],
              [-2, 28, 1],
              [-3, 29, 1],
              [-4, 30, 1],
              [-5, 30, 2],
              [-1, -1, 4],
              [-1, 0, 1],
              [-1, 1, 1],
              [-1, 2, 1],
              [-1, 3, 1],
              [-1, 4, 1],
              [-1, 5, 1],
              [-1, 6, 1],
              [-1, 7, 1],
              [-1, 8, 1],
              [-1, 9, 1],
              [-1, 10, 1],
              [-1, 11, 1],
              [-1, 12, 1],
              [-1, 13, 1],
              [-1, 14, 1],
              [-1, 15, 1],
              [-1, 16, 1],
              [-1, 17, 1],
              [-1, 19, 1],
              [-2, 19, 1],
              [-1, 20, 1],
              [-1, 21, 1],
              [-1, 22, 1],
              [-1, 23, 1],
              [-1, 24, 1],
              [-2, 25, 1],
              [-2, 26, 1],
              [-2, 27, 1],
              [-1, 28, 1],
              [-1, 29, 1],
              [-1, 30, 1],
              [-1, 31, 1],
              [-2, 32, 1],
              [-2, 33, 1],
              [-2, 34, 1],
              [-3, 34, 1],
              [-3, 35, 1],
              [-4, 35, 1],
              [-5, 35, 1],
              [-6, 36, 1, [
                  [-7, 36, 1],
                  [-8, 37, 1],
                  [-9, 38, 1],
                  [-9, 39, 2],
                  [-10, 39, 1],
                  [-11, 39, 1],
                  [-12, 40, 1],
                  [-13, 40, 1],
                  [-14, 40, 1],
                  [-15, 40, 1],
                  [-16, 40, 2]
              ]],
              [-3, 36, 1],
              [-3, 37, 1],
              [-2, 38, 1, [
                  [-1, 39, 1],
                  [0, 39, 1],
                  [1, 40, 1],
                  [2, 40, 1],
                  [3, 41, 1],
                  [4, 41, 1],
                  [5, 42, 1],
                  [6, 42, 1],
                  [7, 43, 1],
                  [8, 43, 1],
                  [9, 44, 2],
                  [3, 42, 2],
                  [-2, 40, 2]
              ]],
              [-4, 38, 1],
              [-5, 39, 1, [
                  [-6, 40, 1],
                  [-6, 41, 1],
                  [-6, 42, 1],
                  [-7, 43, 1],
                  [-7, 44, 2]
              ]],
              [-3, 20, 1],
              [-4, 21, 1],
              [-5, 21, 2],
              [-5, 22, 1],
              [-6, 23, 1],
              [-7, 24, 1],
              [-8, 25, 1],
              [-8, 26, 2],
              [-9, 26, 1, []],
              [1, -1, 4],
              [1, 0, 1],
              [1, 1, 1],
              [1, 2, 1],
              [1, 3, 1],
              [1, 4, 1],
              [1, 5, 1],
              [1, 6, 1],
              [1, 7, 1],
              [1, 8, 1],
              [1, 9, 1],
              [1, 10, 1],
              [1, 11, 1],
              [1, 12, 1],
              [1, 13, 1],
              [1, 14, 1],
              [1, 15, 1],
              [1, 16, 1],
              [1, 17, 1],
              [1, 18, 1],
              [1, 19, 1],
              [1, 24, 1],
              [2, 25, 1],
              [3, 26, 1],
              [4, 27, 1],
              [5, 27, 1],
              [6, 28, 1],
              [7, 29, 1],
              [8, 30, 1],
              [9, 31, 1],
              [9, 32, 1],
              [9, 33, 1],
              [9, 34, 1],
              [8, 34, 2],
              [9, 35, 1],
              [8, 36, 1],
              [7, 36, 1],
              [6, 36, 1],
              [5, 37, 2],
              [8, 37, 1],
              [9, 38, 1],
              [7, 38, 1],
              [7, 39, 1],
              [6, 40, 1],
              [6, 41, 1],
              [-9, 27, 1],
              [-10, 28, 1],
              [-11, 29, 1],
              [-12, 30, 1],
              [-13, 31, 1],
              [-13, 32, 1],
              [-14, 33, 2],
              [-12, 41, 1],
              [-12, 42, 1],
              [-13, 43, 1],
              [-13, 44, 1],
              [-13, 45, 1],
              [-14, 46, 2],
              [6, 43, 1],
              [5, 44, 1],
              [4, 44, 1],
              [3, 45, 1],
              [2, 45, 1],
              [1, 45, 1],
              [0, 45, 2],
              [1, 46, 1],
              [0, 47, 1],
              [-1, 48, 1],
              [-2, 48, 1],
              [-3, 48, 2],
              [4, 46, 1],
              [5, 47, 2],
              [2, -1, 4],
              [2, 0, 1],
              [2, 1, 1],
              [2, 2, 1],
              [2, 3, 1],
              [2, 4, 1],
              [2, 5, 1],
              [2, 6, 1],
              [2, 7, 1],
              [2, 8, 1],
              [2, 9, 1],
              [2, 10, 1],
              [2, 11, 1],
              [2, 12, 1],
              [2, 13, 1],
              [2, 14, 1],
              [2, 15, 1],
              [2, 16, 1],
              [2, 17, 1],
              [2, 18, 1],
              [2, 19, 1],
              [2, 20, 1],
              [1, 20, 1],
              [1, 21, 1],
              [1, 22, 1],
              [2, 24, 1],
              [3, 25, 1],
              [4, 26, 1],
              [5, 26, 1],
              [6, 27, 1],
              [7, 28, 1],
              [8, 29, 1],
              [9, 30, 1],
              [10, 30, 2],
              [10, 31, 1],
              [11, 32, 1],
              [12, 33, 1],
              [13, 34, 1],
              [14, 35, 1],
              [15, 35, 1],
              [16, 35, 2],
              [14, 36, 1],
              [14, 37, 1],
              [14, 38, 1],
              [14, 39, 1],
              [15, 40, 1],
              [15, 41, 1],
              [16, 41, 2],
              [8, 38, 1],
              [9, 39, 1],
              [10, 40, 1],
              [11, 40, 1],
              [12, 41, 1],
              [12, 42, 1],
              [13, 43, 1],
              [14, 44, 1],
              [15, 45, 1],
              [16, 46, 1],
              [16, 47, 1],
              [17, 48, 1],
              [17, 49, 1],
              [18, 50, 2],
              [14, 46, 1],
              [13, 46, 1],
              [12, 47, 1],
              [12, 48, 2],
              [11, 48, 1],
              [10, 49, 1],
              [9, 49, 1],
              [8, 50, 1],
              [7, 51, 1],
              [6, 52, 2],
              [-4, 39, 1],
              [-5, 39, 1, [
                  [-4, 40, 1],
                  [-4, 41, 1],
                  [-4, 42, 1],
                  [-4, 43, 1],
                  [-5, 44, 1],
                  [-5, 45, 1],
                  [-5, 46, 1],
                  [-6, 47, 1],
                  [-6, 48, 1],
                  [-6, 49, 1],
                  [-6, 50, 1],
                  [-7, 50, 2],
                  [-6, 51, 1],
                  [-7, 52, 1],
                  [-8, 52, 1],
                  [-9, 53, 1],
                  [-9, 54, 1],
                  [-10, 55, 2]
              ]],
              [-2, 49, 1],
              [-2, 50, 1],
              [-2, 51, 1],
              [-2, 52, 1],
              [-1, 53, 1],
              [-1, 54, 1],
              [0, 54, 2],
              [-1, 55, 1],
              [0, 56, 1],
              [1, 56, 1],
              [2, 57, 1],
              [3, 58, 2],
              [-2, 56, 1],
              [-3, 56, 1],
              [-4, 56, 1],
              [-5, 57, 2]
          ]
      }, {
          entriesCount: 269,
          entries: [
              [0, -1, 4],
              [0, 1, 1],
              [0, 2, 1],
              [0, 3, 1],
              [0, 4, 1],
              [0, 5, 1],
              [0, 6, 1],
              [0, 7, 1],
              [0, 8, 1],
              [0, 9, 1],
              [0, 10, 1],
              [0, 11, 1],
              [0, 12, 1],
              [0, 13, 1],
              [0, 14, 1],
              [0, 15, 1],
              [0, 16, 1],
              [0, 17, 1],
              [0, 18, 1],
              [0, 19, 1],
              [0, 20, 1, [
                  [-1, 20, 1],
                  [0, 21, 1],
                  [1, 21, 1],
                  [2, 22, 1],
                  [2, 23, 1],
                  [3, 24, 1],
                  [3, 25, 1],
                  [2, 25, 2],
                  [4, 26, 1],
                  [5, 27, 1],
                  [6, 28, 1],
                  [7, 28, 1],
                  [8, 29, 1],
                  [9, 30, 1],
                  [10, 31, 1],
                  [11, 32, 2],
                  [3, 27, 1],
                  [3, 28, 1],
                  [3, 29, 1],
                  [2, 30, 1],
                  [1, 31, 1],
                  [0, 31, 2],
                  [0, 22, 1],
                  [0, 23, 1],
                  [-1, 24, 1],
                  [-2, 25, 1],
                  [-2, 26, 1],
                  [-3, 27, 1],
                  [-4, 28, 1],
                  [-5, 29, 1],
                  [-6, 29, 2],
                  [-5, 30, 1],
                  [-6, 31, 1],
                  [-7, 31, 1],
                  [-8, 31, 1],
                  [-9, 32, 1],
                  [-10, 32, 1],
                  [-11, 33, 2],
                  [-2, 21, 1],
                  [-3, 22, 1],
                  [-4, 23, 1],
                  [-5, 23, 2]
              ]],
              [1, -1, 4],
              [1, 0, 1],
              [1, 1, 1],
              [1, 2, 1],
              [1, 3, 1],
              [1, 4, 1],
              [1, 5, 1],
              [1, 6, 1],
              [1, 7, 1],
              [1, 8, 1],
              [1, 9, 1],
              [1, 10, 1],
              [1, 11, 1],
              [1, 12, 1],
              [1, 13, 1],
              [1, 14, 1],
              [1, 15, 1],
              [1, 16, 1],
              [1, 17, 1],
              [1, 18, 1],
              [1, 19, 1],
              [1, 20, 1],
              [0, 20, 1, [
                  [-1, 21, 1],
                  [-1, 22, 1],
                  [-1, 23, 1]
              ]],
              [-1, 25, 1],
              [-1, 26, 1],
              [-1, 27, 1],
              [-2, 27, 1],
              [-3, 28, 1],
              [-4, 29, 1],
              [0, 28, 1, [
                  [1, 29, 1],
                  [1, 30, 1],
                  [2, 31, 1],
                  [3, 32, 1],
                  [3, 33, 1],
                  [3, 34, 1],
                  [4, 35, 1],
                  [4, 36, 1],
                  [4, 37, 1],
                  [3, 37, 2],
                  [0, 31, 2]
              ]],
              [-5, 31, 1],
              [-5, 32, 1],
              [-5, 33, 1],
              [-6, 34, 1, [
                  [-7, 35, 1],
                  [-8, 36, 1],
                  [-8, 37, 2],
                  [-9, 37, 1],
                  [-10, 38, 1],
                  [-10, 39, 1],
                  [-11, 40, 1],
                  [-12, 41, 1],
                  [-11, 42, 2]
              ]],
              [-1, -1, 4],
              [-1, 0, 1],
              [-1, 1, 1],
              [-1, 2, 1],
              [-1, 3, 1],
              [-1, 4, 1],
              [-1, 5, 1],
              [-1, 6, 1],
              [-1, 7, 1],
              [-1, 8, 1],
              [-1, 9, 1],
              [-1, 10, 1],
              [-1, 11, 1],
              [-1, 12, 1],
              [-1, 13, 1],
              [-1, 14, 1],
              [-1, 15, 1],
              [-1, 16, 1],
              [-1, 17, 1],
              [-1, 18, 1],
              [-1, 19, 1],
              [0, 20, 1, []],
              [2, 21, 1],
              [3, 22, 1],
              [3, 23, 1],
              [4, 24, 1],
              [4, 25, 1],
              [5, 26, 1],
              [6, 27, 1],
              [6, 29, 1],
              [6, 30, 1],
              [7, 31, 1],
              [7, 32, 1],
              [7, 33, 1],
              [8, 34, 1],
              [8, 35, 1],
              [8, 36, 1],
              [8, 37, 1],
              [9, 37, 2],
              [8, 38, 1],
              [8, 39, 1],
              [9, 40, 1],
              [9, 41, 1],
              [9, 42, 1],
              [10, 43, 2],
              [-4, 34, 1],
              [-4, 35, 1],
              [-4, 36, 1],
              [-4, 37, 1],
              [-3, 38, 1],
              [-2, 38, 2],
              [-3, 39, 1],
              [-3, 40, 1],
              [-3, 41, 1],
              [-3, 42, 1],
              [-2, 42, 1],
              [-1, 42, 1],
              [0, 43, 1],
              [1, 43, 1],
              [2, 43, 1],
              [3, 44, 2],
              [-3, 43, 1],
              [-4, 44, 2],
              [2, -1, 4],
              [2, 0, 1],
              [2, 1, 1],
              [2, 2, 1],
              [2, 3, 1],
              [2, 4, 1],
              [-2, 5, 1],
              [-2, 6, 1],
              [-2, 7, 1],
              [-2, 8, 1],
              [-2, 9, 1],
              [-2, 10, 1],
              [-2, 11, 1],
              [-2, 12, 1],
              [2, 13, 1],
              [2, 14, 1],
              [2, 15, 1],
              [2, 16, 1],
              [2, 17, 1],
              [2, 18, 1],
              [2, 19, 1],
              [2, 20, 1],
              [-5, 27, 1],
              [-6, 27, 1],
              [-7, 28, 1],
              [-8, 28, 1],
              [-9, 29, 1],
              [-10, 29, 1],
              [-11, 29, 1],
              [-12, 29, 1],
              [-13, 29, 1],
              [-14, 29, 2],
              [-14, 30, 1],
              [-15, 31, 1],
              [-15, 32, 1],
              [-16, 33, 1],
              [-16, 34, 1],
              [-17, 35, 1],
              [-17, 36, 1],
              [-18, 37, 2],
              [-6, 29, 2],
              [9, 34, 1],
              [10, 35, 1],
              [11, 35, 1],
              [12, 36, 1],
              [13, 37, 1],
              [14, 37, 1],
              [15, 38, 1],
              [16, 38, 1],
              [17, 38, 2],
              [-5, 38, 1],
              [-6, 39, 1],
              [-6, 40, 1],
              [-7, 41, 1],
              [-7, 42, 1],
              [-8, 43, 1],
              [-8, 44, 1],
              [-9, 45, 1],
              [-9, 46, 1],
              [-8, 47, 2],
              [-10, 47, 1],
              [-10, 48, 1],
              [-11, 49, 1],
              [-11, 50, 1],
              [-12, 51, 2],
              [7, 39, 1],
              [7, 40, 1],
              [6, 41, 1],
              [6, 42, 1],
              [6, 43, 1],
              [6, 44, 1],
              [5, 45, 1],
              [5, 46, 1],
              [5, 47, 1],
              [4, 47, 1],
              [5, 48, 1],
              [5, 49, 1],
              [4, 50, 1],
              [3, 51, 2],
              [3, 48, 1],
              [2, 48, 1],
              [1, 48, 1],
              [0, 48, 1],
              [-1, 49, 1],
              [-2, 49, 1],
              [-3, 49, 2]
          ]
      }, {
          entriesCount: 268,
          entries: [
              [0, -1, 4],
              [0, 1, 1],
              [0, 2, 1],
              [0, 3, 1],
              [0, 4, 1],
              [0, 5, 1],
              [0, 6, 1],
              [0, 7, 1],
              [0, 8, 1],
              [0, 9, 1],
              [0, 10, 1],
              [0, 11, 1],
              [0, 12, 1],
              [0, 13, 1],
              [0, 14, 1],
              [0, 15, 1],
              [0, 16, 1],
              [0, 17, 1],
              [0, 18, 1],
              [0, 19, 1],
              [0, 20, 1, [
                  [1, 20, 1],
                  [2, 21, 1],
                  [3, 22, 1],
                  [4, 23, 1],
                  [5, 23, 2],
                  [0, 21, 1],
                  [-1, 21, 1],
                  [0, 22, 1],
                  [0, 23, 1],
                  [1, 24, 1],
                  [2, 25, 1],
                  [2, 26, 1],
                  [3, 27, 1],
                  [4, 28, 1],
                  [5, 29, 1],
                  [6, 29, 2],
                  [5, 30, 1],
                  [6, 31, 1],
                  [7, 31, 1],
                  [8, 31, 1],
                  [9, 32, 1],
                  [10, 32, 1],
                  [11, 33, 2],
                  [-2, 22, 1],
                  [-2, 23, 1],
                  [-3, 24, 1],
                  [-3, 25, 1],
                  [-2, 25, 2],
                  [-4, 26, 1],
                  [-3, 27, 1],
                  [-3, 28, 1],
                  [-3, 29, 1],
                  [-2, 30, 1],
                  [-1, 31, 1],
                  [0, 31, 2],
                  [-5, 27, 1],
                  [-6, 28, 1],
                  [-7, 28, 1],
                  [-8, 29, 1],
                  [-9, 30, 1],
                  [-10, 31, 1],
                  [-11, 31, 1],
                  [-12, 31, 1],
                  [-13, 31, 2]
              ]],
              [-1, -1, 4],
              [-1, 0, 1],
              [-1, 1, 1],
              [-1, 2, 1],
              [-1, 3, 1],
              [-1, 4, 1],
              [-1, 5, 1],
              [-1, 6, 1],
              [-1, 7, 1],
              [-1, 8, 1],
              [-1, 9, 1],
              [-1, 10, 1],
              [-1, 11, 1],
              [-1, 12, 1],
              [-1, 13, 1],
              [-1, 14, 1],
              [-1, 15, 1],
              [-1, 16, 1],
              [-1, 17, 1],
              [-1, 18, 1],
              [-1, 19, 1],
              [-1, 20, 1],
              [0, 20, 1, [
                  [1, 21, 1],
                  [1, 22, 1],
                  [1, 23, 1]
              ]],
              [1, 25, 1],
              [1, 26, 1],
              [2, 27, 1],
              [3, 28, 1],
              [4, 29, 1],
              [4, 30, 1],
              [5, 31, 1],
              [5, 32, 1],
              [5, 33, 1],
              [6, 34, 1, [
                  [7, 35, 1],
                  [8, 36, 1],
                  [8, 37, 2],
                  [9, 37, 1],
                  [10, 38, 1],
                  [10, 39, 1],
                  [11, 40, 1],
                  [12, 41, 2]
              ]],
              [-4, 27, 1],
              [-4, 28, 1],
              [-4, 29, 1],
              [-4, 30, 1],
              [-4, 31, 1],
              [-3, 32, 1],
              [-3, 33, 1],
              [-3, 34, 1],
              [-3, 35, 1],
              [-3, 36, 1],
              [-3, 37, 2],
              [1, -1, 4],
              [1, 0, 1],
              [1, 1, 1],
              [1, 2, 1],
              [1, 3, 1],
              [1, 4, 1],
              [1, 5, 1],
              [1, 6, 1],
              [1, 7, 1],
              [1, 8, 1],
              [1, 9, 1],
              [1, 10, 1],
              [1, 11, 1],
              [1, 12, 1],
              [1, 13, 1],
              [1, 14, 1],
              [1, 15, 1],
              [1, 16, 1],
              [1, 17, 1],
              [1, 18, 1],
              [1, 19, 1],
              [0, 20, 1, []],
              [-2, 21, 1],
              [-3, 22, 1],
              [-3, 23, 1],
              [-4, 24, 1],
              [-4, 25, 1],
              [-5, 26, 1],
              [-6, 27, 1],
              [-6, 29, 1],
              [-6, 30, 1],
              [-7, 31, 1],
              [-7, 32, 1],
              [-7, 33, 1],
              [-8, 34, 1],
              [-8, 35, 1],
              [-8, 36, 1],
              [-8, 37, 1],
              [-9, 37, 2],
              [-8, 38, 1],
              [-8, 39, 1],
              [-9, 40, 1],
              [-9, 41, 1],
              [-9, 42, 1],
              [-10, 43, 2],
              [4, 34, 1],
              [4, 35, 1],
              [4, 36, 1],
              [4, 37, 1],
              [3, 38, 1],
              [2, 38, 2],
              [3, 39, 1],
              [3, 40, 1],
              [3, 41, 1],
              [3, 42, 1],
              [2, 42, 1],
              [1, 42, 1],
              [0, 43, 1],
              [-1, 43, 1],
              [-2, 43, 1],
              [-3, 44, 2],
              [3, 43, 1],
              [4, 44, 2],
              [-2, -1, 4],
              [-2, 0, 1],
              [-2, 1, 1],
              [-2, 2, 1],
              [-2, 3, 1],
              [-2, 4, 1],
              [-2, 5, 1],
              [-2, 6, 1],
              [-2, 7, 1],
              [-2, 8, 1],
              [-2, 9, 1],
              [-2, 10, 1],
              [-2, 11, 1],
              [-2, 12, 1],
              [-2, 13, 1],
              [-2, 14, 1],
              [-2, 15, 1],
              [-2, 16, 1],
              [-2, 17, 1],
              [-2, 18, 1],
              [-2, 19, 1],
              [-2, 20, 1],
              [6, 25, 1],
              [5, 25, 1],
              [4, 25, 1],
              [3, 25, 1],
              [7, 26, 1],
              [8, 26, 1],
              [9, 27, 1],
              [10, 27, 1],
              [11, 27, 2],
              [11, 28, 1],
              [12, 28, 1],
              [13, 29, 1],
              [14, 30, 1],
              [15, 31, 1],
              [16, 31, 2],
              [15, 32, 1],
              [16, 33, 1],
              [16, 34, 1],
              [17, 35, 1],
              [17, 36, 1],
              [17, 37, 2],
              [-9, 34, 1],
              [-10, 35, 1],
              [-11, 35, 1],
              [-12, 36, 1],
              [-13, 37, 1],
              [-14, 37, 1],
              [-15, 38, 1],
              [-16, 39, 2],
              [5, 38, 1],
              [6, 39, 1],
              [6, 40, 1],
              [7, 41, 1],
              [7, 42, 1],
              [8, 43, 1],
              [8, 44, 1],
              [9, 45, 1],
              [9, 46, 1],
              [10, 47, 1],
              [10, 48, 1],
              [11, 49, 1],
              [11, 50, 1],
              [12, 51, 2],
              [8, 47, 2],
              [-7, 39, 1],
              [-7, 40, 1],
              [-6, 41, 1],
              [-6, 42, 1],
              [-6, 43, 1],
              [-6, 44, 1],
              [-5, 45, 1],
              [-5, 46, 1],
              [-5, 47, 1],
              [-5, 48, 1],
              [-4, 49, 1],
              [-3, 49, 1],
              [-2, 49, 1],
              [-1, 49, 1],
              [0, 49, 1],
              [1, 49, 1],
              [2, 49, 2],
              [-4, 50, 1],
              [-5, 51, 2]
          ]
      }, {
          entriesCount: 169,
          entries: [
              [0, -1, 4],
              [0, 1, 1],
              [0, 2, 1],
              [0, 3, 1],
              [0, 4, 1],
              [0, 5, 1],
              [0, 6, 1],
              [0, 7, 1],
              [0, 8, 1],
              [0, 9, 1],
              [0, 10, 1],
              [0, 11, 1],
              [0, 12, 1],
              [0, 13, 1],
              [0, 14, 1],
              [0, 15, 1],
              [0, 16, 1],
              [0, 17, 1],
              [0, 18, 1],
              [0, 19, 1],
              [0, 20, 1, [
                  [-1, 20, 1],
                  [0, 21, 1],
                  [1, 21, 1],
                  [2, 22, 1],
                  [2, 23, 1],
                  [3, 24, 1],
                  [3, 25, 1],
                  [3, 26, 1],
                  [4, 27, 1],
                  [4, 28, 1],
                  [4, 29, 2],
                  [0, 22, 1],
                  [0, 23, 1],
                  [0, 24, 2],
                  [-2, 21, 1],
                  [-3, 22, 1],
                  [-4, 23, 1],
                  [-4, 24, 1],
                  [-5, 25, 1],
                  [-6, 26, 2]
              ]],
              [1, -1, 4],
              [1, 0, 1],
              [1, 1, 1],
              [1, 2, 1],
              [1, 3, 1],
              [1, 4, 1],
              [1, 5, 1],
              [1, 6, 1],
              [1, 7, 1],
              [1, 8, 1],
              [1, 9, 1],
              [1, 10, 1],
              [1, 11, 1],
              [1, 12, 1],
              [1, 13, 1],
              [1, 14, 1],
              [1, 15, 1],
              [1, 16, 1],
              [1, 17, 1],
              [1, 18, 1],
              [1, 19, 1],
              [1, 20, 1],
              [0, 20, 1, [
                  [-1, 21, 1],
                  [-1, 22, 1],
                  [-1, 23, 1],
                  [-1, 24, 1],
                  [0, 24, 2],
                  [-2, 25, 1],
                  [-2, 26, 1],
                  [-2, 27, 1],
                  [-2, 28, 1],
                  [-3, 29, 1],
                  [-4, 30, 1],
                  [-5, 30, 1],
                  [-4, 31, 1],
                  [-4, 32, 1],
                  [-3, 33, 1],
                  [-2, 34, 1],
                  [-2, 35, 1],
                  [-1, 36, 1],
                  [0, 36, 1],
                  [1, 36, 2],
                  [-5, 33, 2],
                  [-6, 31, 1],
                  [-7, 31, 1],
                  [-8, 31, 1],
                  [-9, 31, 1],
                  [-10, 31, 2]
              ]],
              [-1, -1, 4],
              [-1, 0, 1],
              [-1, 1, 1],
              [-1, 2, 1],
              [-1, 3, 1],
              [-1, 4, 1],
              [-1, 5, 1],
              [-1, 6, 1],
              [-1, 7, 1],
              [-1, 8, 1],
              [-1, 9, 1],
              [-1, 10, 1],
              [-1, 11, 1],
              [-1, 12, 1],
              [-1, 13, 1],
              [-1, 14, 1],
              [-1, 15, 1],
              [-1, 16, 1],
              [-1, 17, 1],
              [-1, 18, 1],
              [-1, 19, 1],
              [0, 20, 1, []],
              [-5, 24, 1],
              [-6, 24, 1],
              [-7, 24, 1],
              [-8, 24, 1],
              [-9, 24, 1],
              [-10, 24, 1],
              [-11, 24, 2],
              [6, 25, 1],
              [5, 25, 1],
              [4, 25, 1],
              [7, 26, 1],
              [8, 26, 1],
              [9, 26, 2],
              [-1, 25, 1],
              [-1, 26, 1],
              [-1, 27, 1],
              [-1, 28, 1],
              [0, 28, 1],
              [1, 29, 1],
              [2, 30, 1],
              [3, 31, 1],
              [4, 32, 1],
              [5, 32, 1],
              [6, 33, 1],
              [7, 33, 1],
              [8, 34, 1],
              [9, 34, 2],
              [5, 34, 1],
              [5, 35, 1],
              [5, 36, 1],
              [5, 37, 1],
              [5, 38, 1],
              [6, 39, 2],
              [-1, 29, 1],
              [-1, 30, 1],
              [-1, 31, 1],
              [-1, 32, 1],
              [-1, 33, 1],
              [-1, 34, 1],
              [-1, 35, 1],
              [-3, 35, 1],
              [-4, 36, 1],
              [-5, 37, 1],
              [-6, 38, 1],
              [-7, 39, 2],
              [-1, 37, 1],
              [-1, 38, 1],
              [-1, 39, 1],
              [-1, 40, 1],
              [-2, 40, 1],
              [-1, 41, 1],
              [-1, 42, 2],
              [-3, 41, 1],
              [-4, 42, 1],
              [-5, 42, 1],
              [-6, 43, 1],
              [-7, 43, 2]
          ]
      }, {
          entriesCount: 73,
          entries: [
              [0, -1, 4],
              [0, 1, 1],
              [0, 2, 1],
              [0, 3, 1],
              [0, 4, 1],
              [0, 5, 1],
              [0, 6, 1],
              [0, 7, 1],
              [0, 8, 1],
              [0, 9, 1],
              [0, 10, 1],
              [0, 11, 1],
              [0, 12, 1],
              [0, 13, 1],
              [0, 14, 1],
              [-1, 14, 1, [
                  [-2, 14, 1],
                  [-3, 14, 1],
                  [-4, 15, 1],
                  [-5, 16, 2],
                  [0, 15, 1],
                  [0, 16, 1],
                  [0, 17, 1],
                  [0, 18, 1],
                  [1, 18, 1, [
                      [2, 18, 1],
                      [3, 19, 1],
                      [4, 20, 1],
                      [5, 20, 2],
                      [0, 19, 1],
                      [-1, 20, 1],
                      [-1, 21, 1],
                      [-1, 22, 1],
                      [0, 23, 1],
                      [0, 24, 1],
                      [1, 25, 1],
                      [2, 26, 1],
                      [3, 26, 1],
                      [4, 26, 2],
                      [-1, 25, 1],
                      [-1, 26, 1],
                      [-1, 27, 1],
                      [-1, 28, 1],
                      [0, 29, 1],
                      [0, 30, 1],
                      [0, 31, 2],
                      [-2, 23, 1],
                      [-3, 24, 1],
                      [-4, 25, 1],
                      [-5, 25, 2]
                  ]]
              ]],
              [1, -1, 4],
              [1, 0, 1],
              [1, 1, 1],
              [1, 2, 1],
              [1, 3, 1],
              [1, 4, 1],
              [1, 5, 1],
              [1, 6, 1],
              [1, 7, 1],
              [1, 8, 1],
              [1, 9, 1],
              [1, 10, 1],
              [1, 11, 1],
              [1, 12, 1],
              [1, 13, 1],
              [1, 14, 1],
              [1, 15, 1],
              [1, 16, 1],
              [1, 17, 1],
              [1, 18, 1, []],
              [0, 20, 1],
              [0, 21, 1],
              [0, 22, 1]
          ]
      }, {
          entriesCount: 60,
          entries: [
              [0, -1, 4],
              [0, 1, 1],
              [0, 2, 1],
              [0, 3, 1],
              [0, 4, 1],
              [0, 5, 1],
              [0, 6, 1],
              [0, 7, 1],
              [0, 8, 1],
              [0, 9, 1],
              [0, 10, 1],
              [0, 11, 1],
              [0, 12, 1],
              [0, 13, 1],
              [0, 14, 1],
              [0, 15, 1],
              [-1, 15, 1],
              [0, 16, 1],
              [0, 17, 1],
              [1, 18, 1],
              [2, 19, 1],
              [3, 20, 1],
              [4, 20, 2],
              [1, 20, 1],
              [0, 21, 1],
              [0, 22, 1],
              [-1, 22, 1],
              [-2, 23, 1],
              [-3, 24, 2],
              [1, 23, 1],
              [2, 24, 1],
              [2, 25, 1],
              [3, 26, 2],
              [-2, 16, 1],
              [-3, 17, 1],
              [-3, 18, 1],
              [-3, 19, 2],
              [1, -1, 4],
              [1, 0, 1],
              [1, 1, 1],
              [1, 2, 1],
              [1, 3, 1],
              [1, 4, 1],
              [-1, 4, 1],
              [-1, 5, 1],
              [-1, 6, 1],
              [-1, 7, 1],
              [-1, 8, 1],
              [-1, 9, 1],
              [-1, 10, 1],
              [1, 10, 1],
              [1, 11, 1],
              [1, 12, 1],
              [1, 13, 1],
              [1, 14, 1],
              [1, 15, 1],
              [1, 16, 1],
              [1, 17, 1],
              [0, 18, 1],
              [1, 19, 1]
          ]
      }, {
          entriesCount: 55,
          entries: [
              [0, -1, 4],
              [0, 1, 1],
              [0, 2, 1],
              [0, 3, 1],
              [0, 4, 1],
              [0, 5, 1],
              [0, 6, 1],
              [0, 7, 1],
              [-1, 7, 1],
              [-1, 8, 1],
              [-1, 9, 1],
              [-1, 10, 1],
              [-1, 11, 1],
              [-1, 12, 1],
              [-1, 13, 1],
              [-1, 14, 1],
              [-1, 15, 1],
              [0, 15, 1, [
                  [1, 16, 1],
                  [2, 17, 1],
                  [3, 18, 2],
                  [-1, 16, 1],
                  [-1, 17, 1],
                  [-1, 18, 1],
                  [-1, 19, 1],
                  [-1, 20, 1],
                  [-1, 21, 1],
                  [-1, 22, 1],
                  [0, 23, 1],
                  [1, 24, 1],
                  [2, 25, 2],
                  [-2, 23, 1],
                  [-3, 24, 1],
                  [-4, 25, 2]
              ]],
              [-2, 15, 1, [
                  [-3, 16, 1],
                  [-4, 17, 1],
                  [-5, 18, 2]
              ]],
              [-1, -1, 4],
              [-1, 0, 1],
              [-1, 1, 1],
              [-1, 2, 1],
              [-1, 3, 1],
              [-1, 4, 1],
              [-1, 5, 1],
              [-1, 6, 1],
              [-2, 7, 1],
              [-2, 8, 1],
              [-2, 9, 1],
              [-2, 10, 1],
              [-2, 11, 1],
              [-2, 12, 1],
              [-2, 13, 1],
              [-2, 14, 1],
              [-2, 15, 1, []]
          ]
      }],
      y = [{
          entriesCount: 49,
          entries: [
              [1, 0, 3, [
                  [2, 0, 3],
                  [1, -1, 3],
                  [2, -1, 3],
                  [3, 0, 3],
                  [2, 1, 3],
                  [3, -1, 3],
                  [3, 1, 3],
                  [4, 0, 3],
                  [3, -2, 3],
                  [3, 2, 3],
                  [4, 1, 3],
                  [4, -2, 3]
              ]],
              [-1, 0, 3, [
                  [-2, 0, 3],
                  [-3, 0, 3],
                  [-2, 1, 3],
                  [-2, -1, 3],
                  [-3, 1, 3],
                  [-3, -1, 3],
                  [-4, 0, 3],
                  [-2, 2, 3],
                  [-3, 2, 3],
                  [-2, 3, 3]
              ]],
              [0, -1, 3, [
                  [-1, -1, 3],
                  [0, -2, 3],
                  [-1, -2, 3],
                  [0, -3, 3],
                  [1, -2, 3],
                  [-2, -2, 3],
                  [-1, -3, 3],
                  [1, -3, 3],
                  [2, -2, 3],
                  [2, -3, 3],
                  [3, -3, 3]
              ]],
              [0, 1, 3, [
                  [1, 1, 3],
                  [-1, 1, 3],
                  [0, 2, 3],
                  [1, 2, 3],
                  [-1, 2, 3],
                  [0, 3, 3],
                  [2, 2, 3],
                  [1, 3, 3],
                  [2, 3, 3],
                  [1, 4, 3],
                  [3, 3, 3],
                  [2, 4, 3]
              ]]
          ]
      }, {
          entriesCount: 55,
          entries: [
              [0, -1, 3, [
                  [0, -2, 3],
                  [-1, -1, 3],
                  [0, -3, 3],
                  [-1, -2, 3],
                  [1, -2, 3],
                  [-1, -3, 3],
                  [1, -3, 3],
                  [-2, -2, 3],
                  [2, -2, 3]
              ]],
              [-1, 0, 3, [
                  [-2, 0, 3],
                  [-2, -1, 3],
                  [-3, 0, 3],
                  [-3, -1, 3],
                  [-4, 0, 3],
                  [-3, 1, 3],
                  [-4, -1, 3],
                  [-3, -2, 3],
                  [-4, 1, 3],
                  [-3, 2, 3],
                  [-4, -2, 3]
              ]],
              [1, 0, 3, [
                  [1, -1, 3],
                  [1, 1, 3],
                  [2, 0, 3],
                  [2, -1, 3],
                  [2, 1, 3],
                  [3, 0, 3],
                  [3, -1, 3],
                  [3, 1, 3],
                  [4, 0, 3],
                  [4, -1, 3],
                  [3, -2, 3],
                  [4, 1, 3],
                  [5, 0, 3],
                  [5, -1, 3],
                  [4, -2, 3]
              ]],
              [0, 1, 3, [
                  [0, 2, 3],
                  [-1, 1, 3],
                  [1, 2, 3],
                  [-1, 2, 3],
                  [0, 3, 3],
                  [-2, 1, 3],
                  [2, 2, 3],
                  [1, 3, 3],
                  [-2, 2, 3],
                  [-1, 3, 3],
                  [0, 4, 3],
                  [2, 3, 3],
                  [3, 2, 3],
                  [1, 4, 3],
                  [-1, 4, 3],
                  [0, 5, 3]
              ]]
          ]
      }, {
          entriesCount: 82,
          entries: [
              [-1, 0, 3, [
                  [-2, 0, 3],
                  [-2, 1, 3],
                  [-3, 0, 3],
                  [-3, 1, 3],
                  [-4, 0, 3],
                  [-3, -1, 3],
                  [-4, 1, 3],
                  [-4, -1, 3],
                  [-5, 0, 3],
                  [-5, 1, 3],
                  [-4, 2, 3],
                  [-5, -1, 3],
                  [-4, -2, 3],
                  [-6, 0, 3],
                  [-5, 2, 3],
                  [-6, 1, 3],
                  [-4, 3, 3],
                  [-5, 3, 3]
              ]],
              [0, 1, 3, [
                  [0, 2, 3],
                  [-1, 1, 3],
                  [1, 1, 3],
                  [-1, 2, 3],
                  [1, 2, 3],
                  [0, 3, 3],
                  [-2, 2, 3],
                  [-1, 3, 3],
                  [1, 3, 3],
                  [2, 2, 3],
                  [0, 4, 3],
                  [-2, 3, 3],
                  [-1, 4, 3],
                  [1, 4, 3],
                  [2, 3, 3],
                  [0, 5, 3],
                  [3, 3, 3],
                  [0, 6, 3],
                  [3, 4, 3]
              ]],
              [0, -1, 3, [
                  [1, -1, 3],
                  [0, -2, 3],
                  [-1, -1, 3],
                  [1, -2, 3],
                  [-1, -2, 3],
                  [0, -3, 3],
                  [-2, -1, 3],
                  [2, -2, 3],
                  [1, -3, 3],
                  [-1, -3, 3],
                  [-2, -2, 3],
                  [0, -4, 3],
                  [2, -3, 3],
                  [-1, -4, 3],
                  [-3, -2, 3],
                  [3, -3, 3],
                  [4, -3, 3]
              ]],
              [1, 0, 3, [
                  [2, 0, 3],
                  [3, 0, 3],
                  [2, 1, 3],
                  [2, -1, 3],
                  [3, 1, 3],
                  [3, -1, 3],
                  [4, 0, 3],
                  [4, 1, 3],
                  [3, 2, 3],
                  [4, -1, 3],
                  [3, -2, 3],
                  [5, 0, 3],
                  [4, 2, 3],
                  [5, 1, 3],
                  [5, -1, 3],
                  [4, -2, 3],
                  [6, 0, 3],
                  [4, 3, 3],
                  [6, -1, 3],
                  [7, 0, 3],
                  [4, 4, 3],
                  [7, -1, 3],
                  [5, 4, 3],
                  [4, 5, 3]
              ]]
          ]
      }, {
          entriesCount: 63,
          entries: [
              [1, 0, 3, [
                  [2, 0, 3],
                  [2, 1, 3],
                  [2, -1, 3],
                  [3, 0, 3],
                  [3, 1, 3],
                  [3, -1, 3],
                  [4, 0, 3],
                  [4, 1, 3],
                  [4, -1, 3],
                  [3, -2, 3],
                  [5, 0, 3],
                  [5, 1, 3],
                  [5, -1, 3],
                  [6, 0, 3]
              ]],
              [0, -1, 3, [
                  [-1, -1, 3],
                  [0, -2, 3],
                  [1, -1, 3],
                  [-2, -1, 3],
                  [-1, -2, 3],
                  [0, -3, 3],
                  [1, -2, 3],
                  [-2, -2, 3],
                  [-1, -3, 3],
                  [1, -3, 3],
                  [2, -2, 3],
                  [-3, -2, 3],
                  [2, -3, 3]
              ]],
              [0, 1, 3, [
                  [1, 1, 3],
                  [-1, 1, 3],
                  [0, 2, 3],
                  [1, 2, 3],
                  [-1, 2, 3],
                  [0, 3, 3],
                  [2, 2, 3],
                  [1, 3, 3],
                  [-1, 3, 3],
                  [-2, 2, 3],
                  [3, 2, 3],
                  [-2, 3, 3],
                  [-1, 4, 3],
                  [-3, 2, 3],
                  [-3, 3, 3],
                  [-2, 4, 3],
                  [-4, 2, 3],
                  [-4, 3, 3]
              ]],
              [-1, 0, 3, [
                  [-2, 0, 3],
                  [-2, 1, 3],
                  [-3, 0, 3],
                  [-3, 1, 3],
                  [-3, -1, 3],
                  [-4, 0, 3],
                  [-4, 1, 3],
                  [-4, -1, 3],
                  [-5, 0, 3],
                  [-5, 1, 3],
                  [-5, -1, 3],
                  [-6, 0, 3],
                  [-6, 1, 3],
                  [-5, 2, 3]
              ]]
          ]
      }, {
          entriesCount: 48,
          entries: [
              [-1, 0, 3, [
                  [-1, -1, 3],
                  [-2, 0, 3],
                  [-2, -1, 3],
                  [-3, 0, 3],
                  [-3, -1, 3],
                  [-4, 0, 3],
                  [-3, 1, 3],
                  [-4, -1, 3],
                  [-3, -2, 3],
                  [-4, 1, 3],
                  [-3, -3, 3]
              ]],
              [0, -1, 3, [
                  [1, -1, 3],
                  [0, -2, 3],
                  [1, -2, 3],
                  [0, -3, 3],
                  [-1, -2, 3],
                  [2, -2, 3],
                  [0, -4, 3],
                  [-1, -3, 3],
                  [-2, -2, 3],
                  [2, -3, 3],
                  [-1, -4, 3],
                  [-2, -3, 3]
              ]],
              [0, 1, 3, [
                  [0, 2, 3],
                  [-1, 1, 3],
                  [1, 2, 3],
                  [0, 3, 3],
                  [-1, 2, 3],
                  [-2, 1, 3],
                  [-1, 3, 3],
                  [-2, 2, 3],
                  [-3, 2, 3]
              ]],
              [1, 0, 3, [
                  [1, 1, 3],
                  [2, 0, 3],
                  [2, 1, 3],
                  [3, 0, 3],
                  [2, -1, 3],
                  [3, 1, 3],
                  [2, 2, 3],
                  [4, 0, 3],
                  [3, -1, 3],
                  [4, 1, 3],
                  [3, 2, 3],
                  [5, 1, 3]
              ]]
          ]
      }, {
          entriesCount: 57,
          entries: [
              [0, 1, 3, [
                  [1, 1, 3],
                  [0, 2, 3],
                  [1, 2, 3],
                  [-1, 2, 3],
                  [0, 3, 3],
                  [1, 3, 3],
                  [2, 2, 3],
                  [-1, 3, 3],
                  [0, 4, 3],
                  [2, 3, 3],
                  [1, 4, 3],
                  [-1, 4, 3],
                  [-2, 3, 3],
                  [0, 5, 3],
                  [3, 3, 3],
                  [2, 4, 3],
                  [-1, 5, 3],
                  [3, 4, 3]
              ]],
              [-1, 0, 3, [
                  [-2, 0, 3],
                  [-1, -1, 3],
                  [-1, 1, 3],
                  [-2, 1, 3],
                  [-3, 0, 3],
                  [-2, -1, 3],
                  [-2, 2, 3],
                  [-3, 1, 3],
                  [-3, -1, 3],
                  [-2, -2, 3]
              ]],
              [0, -1, 3, [
                  [0, -2, 3],
                  [-1, -2, 3],
                  [0, -3, 3],
                  [1, -2, 3],
                  [-1, -3, 3],
                  [1, -3, 3],
                  [0, -4, 3],
                  [-1, -4, 3],
                  [-2, -3, 3],
                  [2, -3, 3],
                  [1, -4, 3],
                  [0, -5, 3],
                  [-2, -4, 3],
                  [-1, -5, 3],
                  [3, -3, 3],
                  [2, -4, 3],
                  [1, -5, 3],
                  [3, -4, 3]
              ]],
              [1, 0, 3, [
                  [1, -1, 3],
                  [2, 0, 3],
                  [2, -1, 3],
                  [3, 0, 3],
                  [2, 1, 3],
                  [2, -2, 3],
                  [3, 1, 3]
              ]]
          ]
      }, {
          entriesCount: 86,
          entries: [
              [0, 1, 3, [
                  [0, 2, 3],
                  [-1, 1, 3],
                  [0, 3, 3],
                  [1, 2, 3],
                  [-1, 2, 3],
                  [1, 3, 3],
                  [-1, 3, 3],
                  [2, 2, 3],
                  [-2, 2, 3],
                  [2, 3, 3],
                  [-2, 3, 3],
                  [-3, 2, 3]
              ]],
              [1, 0, 3, [
                  [1, 1, 3],
                  [2, 0, 3],
                  [2, 1, 3],
                  [3, 0, 3],
                  [3, 1, 3],
                  [3, -1, 3],
                  [4, 0, 3],
                  [4, 1, 3],
                  [3, 2, 3],
                  [4, -1, 3],
                  [5, 0, 3],
                  [4, 2, 3],
                  [4, -2, 3],
                  [5, -1, 3],
                  [5, -2, 3],
                  [4, -3, 3],
                  [6, -1, 3],
                  [5, -3, 3],
                  [6, -2, 3],
                  [4, -4, 3],
                  [7, -1, 3],
                  [6, -3, 3],
                  [5, -4, 3],
                  [7, -2, 3],
                  [4, -5, 3],
                  [5, -5, 3]
              ]],
              [-1, 0, 3, [
                  [-2, 0, 3],
                  [-1, -1, 3],
                  [-3, 0, 3],
                  [-2, 1, 3],
                  [-2, -1, 3],
                  [-4, 0, 3],
                  [-3, -1, 3],
                  [-3, 1, 3],
                  [-2, -2, 3],
                  [-4, 1, 3],
                  [-4, -1, 3],
                  [-3, -2, 3],
                  [-4, -2, 3],
                  [-3, -3, 3],
                  [-4, -3, 3],
                  [-5, -2, 3],
                  [-4, -4, 3],
                  [-5, -3, 3],
                  [-5, -4, 3],
                  [-6, -3, 3],
                  [-6, -4, 3]
              ]],
              [0, -1, 3, [
                  [1, -1, 3],
                  [0, -2, 3],
                  [1, -2, 3],
                  [2, -1, 3],
                  [-1, -2, 3],
                  [0, -3, 3],
                  [1, -3, 3],
                  [2, -2, 3],
                  [-1, -3, 3],
                  [1, -4, 3],
                  [2, -3, 3],
                  [3, -2, 3],
                  [-1, -4, 3],
                  [-2, -3, 3],
                  [2, -4, 3],
                  [3, -3, 3],
                  [-2, -4, 3],
                  [-1, -5, 3],
                  [2, -5, 3],
                  [-2, -5, 3],
                  [-3, -4, 3],
                  [-3, -5, 3],
                  [-2, -6, 3]
              ]]
          ]
      }, {
          entriesCount: 41,
          entries: [
              [1, 0, 3, [
                  [2, 0, 3],
                  [1, 1, 3],
                  [3, 0, 3],
                  [2, 1, 3],
                  [2, -1, 3],
                  [3, 1, 3],
                  [3, -1, 3],
                  [4, 0, 3],
                  [2, 2, 3],
                  [4, 1, 3],
                  [3, -2, 3],
                  [4, -2, 3]
              ]],
              [-1, 0, 3, [
                  [-2, 0, 3],
                  [-3, 0, 3],
                  [-2, 1, 3],
                  [-3, 1, 3],
                  [-4, 1, 3],
                  [-4, 2, 3]
              ]],
              [0, 1, 3, [
                  [0, 2, 3],
                  [-1, 1, 3],
                  [-1, 2, 3],
                  [-1, 3, 3],
                  [-2, 2, 3],
                  [-2, 3, 3],
                  [-3, 2, 3],
                  [-2, 4, 3],
                  [-3, 3, 3],
                  [-3, 4, 3]
              ]],
              [0, -1, 3, [
                  [0, -2, 3],
                  [1, -1, 3],
                  [-1, -1, 3],
                  [-1, -2, 3],
                  [1, -2, 3],
                  [2, -2, 3],
                  [2, -3, 3],
                  [3, -3, 3],
                  [3, -4, 3]
              ]]
          ]
      }, {
          entriesCount: 47,
          entries: [
              [0, 1, 3, [
                  [0, 2, 3],
                  [1, 1, 3],
                  [1, 2, 3],
                  [-1, 2, 3],
                  [1, 3, 3],
                  [2, 2, 3],
                  [-2, 2, 3]
              ]],
              [-1, 0, 3, [
                  [-1, -1, 3],
                  [-1, 1, 3],
                  [-2, 0, 3],
                  [-2, -1, 3],
                  [-2, 1, 3],
                  [-3, 0, 3],
                  [-3, -1, 3],
                  [-3, 1, 3],
                  [-4, 0, 3],
                  [-4, -1, 3],
                  [-4, 1, 3],
                  [-5, 0, 3],
                  [-5, 1, 3]
              ]],
              [0, -1, 3, [
                  [1, -1, 3],
                  [0, -2, 3],
                  [1, -2, 3],
                  [-1, -2, 3],
                  [0, -3, 3],
                  [1, -3, 3],
                  [2, -2, 3],
                  [2, -3, 3],
                  [3, -2, 3],
                  [2, -4, 3],
                  [3, -3, 3],
                  [4, -2, 3],
                  [3, -4, 3]
              ]],
              [1, 0, 3, [
                  [2, 0, 3],
                  [2, 1, 3],
                  [2, -1, 3],
                  [3, 0, 3],
                  [3, 1, 3],
                  [3, -1, 3],
                  [4, 0, 3],
                  [4, -1, 3],
                  [5, 0, 3],
                  [5, -1, 3]
              ]]
          ]
      }];
  class b {
      static TREE_TRUNK_TEMPLATES = I;
      static TREE_CLUSTER_TEMPLATES = y
  }
  var M = "94,70,42\r\n109,82,53";
  class U {
      static NONE = C.custom((() => null));
      static _TEST_SOLID = C.random([new n(r.of(r.type8(r.TYPE_STATIC)), i.of(255, 0, 125))]);
      static _TEST_AIR = C.random([new n(r.of(r.type8(r.TYPE_AIR)), i.of(255, 0, 125))]);
      static _TEST_FLAMMABLE_SOLID_M = C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(), r.modifiers8(r.FLAMMABLE_TYPE_FAST, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_NEVER)), i.of(25, 52, 56))]);
      static _TEST_FLAMMABLE_SOLID_H = C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(), r.modifiers8(r.FLAMMABLE_TYPE_FAST, r.FLAME_HEAT_TYPE_HIGH, r.BURNABLE_TYPE_NEVER)), i.of(25, 56, 49))]);
      static _TEST_FLAMMABLE_SOLID_E = C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(), r.modifiers8(r.FLAMMABLE_TYPE_FAST, r.FLAME_HEAT_TYPE_EXTREME, r.BURNABLE_TYPE_NEVER)), i.of(25, 33, 56))]);
      static AIR = C.random([new n(r.of(r.type8(r.TYPE_AIR)), i.of(255, 255, 255, i.BLUR_TYPE_BACKGROUND))]);
      static WALL = C.paletteBrush("55,55,55\r\n57,57,57", C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(0), r.modifiers8(0, 0, 0, 1)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_2))]));
      static ROCK = C.textureBrush("data:image/png;base64,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", C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(), r.modifiers8(0, 0, 0, 1)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_2))]));
      static METAL = C.textureBrush("data:image/png;base64,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", C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(), r.modifiers8(0, 0, 0, 3)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_3))]));
      static SAND = C.paletteBrush("214,212,154\r\n214,212,154\r\n214,212,154\r\n214,212,154\r\n225,217,171\r\n225,217,171\r\n225,217,171\r\n225,217,171\r\n203,201,142\r\n203,201,142\r\n203,201,142\r\n203,201,142\r\n195,194,134\r\n195,194,134\r\n218,211,165\r\n218,211,165\r\n223,232,201\r\n186,183,128", C.custom(((e, t, s) => {
          const a = s.nextInt(100) < 60 ? r.TYPE_POWDER : r.TYPE_POWDER_WET,
              o = r.of(r.type8Powder(a, 6), r.behaviour8(), r.modifiers8(0, 0, 0, 2)),
              l = i.of(0, 0, 0, i.BLUR_TYPE_1, i.HEAT_EFFECT_2);
          return new n(o, l)
      })));
      static SOIL = C.paletteBrush("142,104,72\r\n142,104,72\r\n142,104,72\r\n142,104,72\r\n142,104,72\r\n142,104,72\r\n114,81,58\r\n114,81,58\r\n114,81,58\r\n114,81,58\r\n114,81,58\r\n114,81,58\r\n82,64,30\r\n82,64,30\r\n82,64,30\r\n177,133,87\r\n177,133,87\r\n177,133,87\r\n102,102,102", C.custom(((e, t, s) => {
          const a = s.nextInt(100) < 40 ? r.TYPE_POWDER : r.TYPE_POWDER_WET,
              o = r.of(r.type8Powder(a, 5), r.behaviour8(r.BEHAVIOUR_SOIL), r.modifiers8(0, 0, 0, 1)),
              l = i.of(0, 0, 0, i.BLUR_TYPE_1, i.HEAT_EFFECT_1);
          return new n(o, l)
      })));
      static GRAVEL = C.paletteBrush("97,94,88\r\n111,110,106\r\n117,116,112\r\n117,117,113\r\n120,118,115\r\n104,102,97\r\n113,112,107\r\n129,128,125\r\n124,124,121\r\n81,80,75\r\n80,76,69\r\n123,119,111\r\n105,104,99\r\n84,82,78\r\n77,74,69\r\n91,88,82\r\n68,65,60\r\n79,75,69\r\n85,82,77\r\n98,94,88\r\n105,102,96\r\n104,97,86\r\n60,55,47\r\n93,89,81", C.custom(((e, t, s) => {
          const a = s.nextInt(100) < 20 ? r.TYPE_POWDER : r.TYPE_POWDER_WET,
              o = r.of(r.type8Powder(a, 3), r.behaviour8(), r.modifiers8(0, 0, 0, 2)),
              l = i.of(0, 0, 0, i.BLUR_TYPE_1, i.HEAT_EFFECT_2);
          return new n(o, l)
      })));
      static LAVA = C.paletteBrush("242,118,32\r\n243,135,49", C.random([new n(r.of(r.type8Fluid(r.TYPE_FLUID), r.behaviour8(r.BEHAVIOUR_LAVA), r.modifiers8(0, 0, 0, 3)), i.of(0, 0, 0, i.BLUR_TYPE_1, i.HEAT_EFFECT_NONE))]));
      static WATER = C.paletteBrush("4,135,186\r\n5,138,189", C.random([new n(r.of(r.type8Fluid(r.TYPE_FLUID), r.behaviour8(r.BEHAVIOUR_WATER), r.modifiers8(0, 0, 0, 3)), i.of(0, 0, 0, i.BLUR_TYPE_1, i.HEAT_EFFECT_NONE))]));
      static STEAM = C.paletteBrush("147,182,217\r\n163,188,212", C.random([new n(r.of(r.type8Fluid(r.TYPE_GAS), r.behaviour8(r.BEHAVIOUR_WATER), r.modifiers8(0, 0, 0, 3)), i.of(0, 0, 0, i.BLUR_TYPE_1, i.HEAT_EFFECT_NONE))]));
      static GRASS = C.random([new n(r.of(r.type8Powder(r.TYPE_POWDER, 0), r.behaviour8(r.BEHAVIOUR_GRASS, 5), r.modifiers8(r.FLAMMABLE_TYPE_MEDIUM, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_FAST)), i.of(56, 126, 38, i.BLUR_TYPE_1, i.HEAT_EFFECT_1)), new n(r.of(r.type8Powder(r.TYPE_POWDER, 0), r.behaviour8(r.BEHAVIOUR_GRASS, 3), r.modifiers8(r.FLAMMABLE_TYPE_MEDIUM, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_FAST)), i.of(46, 102, 31, i.BLUR_TYPE_1, i.HEAT_EFFECT_1)), new n(r.of(r.type8Powder(r.TYPE_POWDER, 0), r.behaviour8(r.BEHAVIOUR_GRASS, 4), r.modifiers8(r.FLAMMABLE_TYPE_MEDIUM, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_FAST)), i.of(72, 130, 70, i.BLUR_TYPE_1, i.HEAT_EFFECT_1))]);
      static FISH_HEAD = C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_FISH, 0)), i.of(37, 53, 66))]);
      static FISH_BODY = C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_FISH_BODY, 0)), i.of(37, 53, 66))]);
      static FISH_CORPSE = C.random([new n(r.of(r.type8Powder(r.TYPE_POWDER, 2)), i.of(61, 68, 74, i.BLUR_TYPE_1, i.HEAT_EFFECT_1))]);
      static TREE = C.paletteBrush(M, C.custom(((e, t, s) => {
          let a = s.nextInt(b.TREE_TRUNK_TEMPLATES.length);
          return new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_TREE, a), r.modifiers8(r.FLAMMABLE_TYPE_SLOW, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_SLOW)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_1))
      })));
      static TREE_ROOT = C.paletteBrush("75,54,31\r\n67,53,38", C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_TREE_ROOT, 8), r.modifiers8(r.FLAMMABLE_TYPE_SLOW, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_SLOW)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_1)), new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_TREE_ROOT, 5), r.modifiers8(r.FLAMMABLE_TYPE_SLOW, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_SLOW)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_1))]));
      static TREE_WOOD = C.paletteBrush("133,108,80\r\n124,97,67", C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_TREE_TRUNK, 0), r.modifiers8(r.FLAMMABLE_TYPE_SLOW, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_SLOW)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_1))]));
      static TREE_WOOD_DARK = C.paletteBrush(M, C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_TREE_TRUNK, 0), r.modifiers8(r.FLAMMABLE_TYPE_SLOW, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_SLOW)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_1))]));
      static TREE_LEAF_LIGHTER = C.paletteBrush("128,137,79\r\n128,137,79\r\n128,137,79\r\n128,137,79\r\n128,137,79\r\n141,149,91\r\n141,149,91\r\n117,128,71\r\n99,110,65\r\n111,123,68\r\n121,132,73\r\n111,123,74", C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_TREE_LEAF, 0), r.modifiers8(r.FLAMMABLE_TYPE_MEDIUM, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_MEDIUM)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_1))]));
      static TREE_LEAF_DARKER = C.paletteBrush("74,86,47\r\n74,86,47\r\n74,86,47\r\n74,86,47\r\n68,77,40\r\n68,77,40\r\n68,77,40\r\n70,82,42\r\n70,82,42\r\n70,82,42\r\n72,82,46\r\n72,82,46\r\n78,90,48\r\n78,90,48\r\n95,106,60\r\n88,100,57\r\n66,74,36\r\n66,67,35\r\n76,87,52\r\n86,100,53\r\n75,89,47", C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_TREE_LEAF, 0), r.modifiers8(r.FLAMMABLE_TYPE_MEDIUM, r.FLAME_HEAT_TYPE_MEDIUM, r.BURNABLE_TYPE_MEDIUM)), i.of(0, 0, 0, i.BLUR_TYPE_NONE, i.HEAT_EFFECT_1))]));
      static #C = r.of(r.type8(r.TYPE_EFFECT), r.behaviour8(r.BEHAVIOUR_FIRE, 0));
      static FIRE = C.random([new n(r.setTemperature(U.#C, 255), i.of(249, 219, 30)), new n(r.setTemperature(U.#C, 255), i.of(249, 219, 30)), new n(r.setTemperature(U.#C, 120), i.of(249, 219, 30))]);
      static ASH = C.paletteBrush("131,131,131\r\n131,131,131\r\n131,131,131\r\n131,131,131\r\n131,131,131\r\n131,131,131\r\n135,135,135\r\n135,135,135\r\n135,135,135\r\n135,135,135\r\n135,135,135\r\n135,135,135\r\n145,145,145\r\n145,145,145\r\n145,145,145\r\n145,145,145\r\n145,145,145\r\n145,145,145\r\n148,148,148\r\n148,148,148\r\n148,148,148\r\n148,148,148\r\n148,148,148\r\n148,148,148\r\n160,160,160\r\n160,160,160\r\n160,160,160\r\n160,160,160\r\n160,160,160\r\n160,160,160\r\n114,114,114\r\n193,193,193", C.custom(((e, t, s) => {
          const a = s.nextInt(100) < 80 ? r.TYPE_POWDER : r.TYPE_POWDER_WET,
              o = r.of(r.type8Powder(a, 6), r.behaviour8(), r.modifiers8(0, 0, 0, 2)),
              l = i.of(0, 0, 0, i.BLUR_TYPE_1, i.HEAT_EFFECT_2, 3);
          return new n(o, l)
      })));
      static METEOR = C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_METEOR, 0)), i.of(249, 219, 30))]);
      static METEOR_FROM_LEFT = C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_METEOR, 2)), i.of(249, 219, 30))]);
      static METEOR_FROM_RIGHT = C.random([new n(r.of(r.type8(r.TYPE_STATIC), r.behaviour8(r.BEHAVIOUR_METEOR, 4)), i.of(249, 219, 30))]);
      static EFFECT_BURNT = C.custom(((e, t, r, s) => {
          if (d.isVisualBurnApplicable(s.elementHead)) {
              if (i.getBurntLevel(s.elementTail) < 3) return new n(s.elementHead, d.visualBurn(s.elementTail, 1))
          }
          return null
      }));
      static EFFECT_NOISE_LG = C.noise(0, 40, .5, .25);
      static EFFECT_NOISE_MD = C.noise(0, 10, .5, .25);
      static EFFECT_NOISE_SM = C.noise(0, 4, .5, .25);
      static EFFECT_TEMP_0 = C.temperature(0);
      static EFFECT_TEMP_127 = C.temperature(127);
      static EFFECT_TEMP_200 = C.temperature(200);
      static EFFECT_TEMP_255 = C.temperature(255);
      static _LIST = {
          none: U.NONE,
          air: U.AIR,
          ash: U.ASH,
          sand: U.SAND,
          soil: U.SOIL,
          gravel: U.GRAVEL,
          wall: U.WALL,
          rock: U.ROCK,
          metal: U.METAL,
          wood: U.TREE_WOOD,
          water: U.WATER,
          lava: U.LAVA,
          steam: U.STEAM,
          fire: U.FIRE,
          meteor: U.METEOR,
          meteor_l: U.METEOR_FROM_LEFT,
          meteor_r: U.METEOR_FROM_RIGHT,
          effect_burnt: U.EFFECT_BURNT,
          effect_temp_0: U.EFFECT_TEMP_0,
          effect_temp_127: U.EFFECT_TEMP_127,
          effect_temp_200: U.EFFECT_TEMP_200,
          effect_temp_255: U.EFFECT_TEMP_255
      };
      static byCodeName(e) {
          const t = U._LIST[e];
          return void 0 !== t ? t : null
      }
  }
  class B extends S {
      constructor(e) {
          super(e)
      }
      applyPoint(e, t, n, r) {
          const i = Math.trunc(t / 4);
          e < i + 10 ? n.draw(e + i, 0, U.METEOR_FROM_RIGHT) : e > n.getWidth() - i - 10 ? n.draw(e - i, 0, U.METEOR_FROM_LEFT) : e < n.getWidth() / 2 ? s.DEFAULT.next() < .8 ? n.draw(e + i, 0, U.METEOR_FROM_RIGHT) : n.draw(e, 0, U.METEOR) : s.DEFAULT.next() < .8 ? n.draw(e - i, 0, U.METEOR_FROM_LEFT) : n.draw(e, 0, U.METEOR)
      }
  }
  class F {
      static TRANSPARENT_ELEMENT = new n(4294967295, 4294967295);
      static LITTLE_ENDIAN = !0;
      static create(e, t, n) {
          let r = new DataView(new ArrayBuffer(e * t * 4)),
              s = new DataView(new ArrayBuffer(e * t * 4)),
              i = new F(e, t, r, s);
          for (let e = 0; e < i.#R; e++)
              for (let t = 0; t < i.#S; t++) i.setElement(t, e, n);
          return i
      }
      static from(e, t, n, r) {
          return new F(e, t, new DataView(n), new DataView(r))
      }
      #S;
      #R;
      #v;
      #w;
      constructor(e, t, n, r) {
          this.#S = e, this.#R = t, this.#v = n, this.#w = r
      }
      isValidPosition(e, t) {
          return !(e < 0 || t < 0) && !(e >= this.#S || t >= this.#R)
      }
      setElement(e, t, n) {
          null !== n && this.setElementHeadAndTail(e, t, n.elementHead, n.elementTail)
      }
      setElementHeadAndTail(e, t, n, r) {
          const s = 4 * (this.#S * t + e);
          this.#v.setUint32(s, n, F.LITTLE_ENDIAN), this.#w.setUint32(s, r, F.LITTLE_ENDIAN)
      }
      setElementHead(e, t, n) {
          const r = 4 * (this.#S * t + e);
          this.#v.setUint32(r, n, F.LITTLE_ENDIAN)
      }
      setElementTail(e, t, n) {
          const r = 4 * (this.#S * t + e);
          this.#w.setUint32(r, n, F.LITTLE_ENDIAN)
      }
      getElement(e, t) {
          const r = 4 * (this.#S * t + e),
              s = this.#v.getUint32(r, F.LITTLE_ENDIAN),
              i = this.#w.getUint32(r, F.LITTLE_ENDIAN);
          return new n(s, i)
      }
      getElementHead(e, t) {
          const n = 4 * (this.#S * t + e);
          return this.#v.getUint32(n, F.LITTLE_ENDIAN)
      }
      getElementHeadOrNull(e, t) {
          return this.isValidPosition(e, t) ? this.getElementHead(e, t) : null
      }
      getElementTail(e, t) {
          const n = 4 * (this.#S * t + e);
          return this.#w.getUint32(n, F.LITTLE_ENDIAN)
      }
      getElementTailOrNull(e, t) {
          return this.isValidPosition(e, t) ? this.getElementTail(e, t) : null
      }
      swap(e, t, n, r) {
          const s = this.getElementHead(e, t),
              i = this.getElementHead(n, r);
          this.setElementHead(n, r, s), this.setElementHead(e, t, i);
          const a = this.getElementTail(e, t),
              o = this.getElementTail(n, r);
          this.setElementTail(n, r, a), this.setElementTail(e, t, o)
      }
      getDataHeads() {
          return this.#v.buffer
      }
      getDataTails() {
          return this.#w.buffer
      }
      getWidth() {
          return this.#S
      }
      getHeight() {
          return this.#R
      }
  }
  class L extends R {
      #O;
      constructor(e) {
          super(), this.#O = e
      }
      getWidth() {
          return this.#O.getWidth()
      }
      getHeight() {
          return this.#O.getHeight()
      }
      getElementArea() {
          return this.#O
      }
  }
  class N extends S {
      static asElementArea(e) {
          return e.createElementArea(N.DEFAULT_W, N.DEFAULT_H, F.TRANSPARENT_ELEMENT)
      }
      static DEFAULT_W = 30;
      static DEFAULT_H = 30;
      #O;
      #I;
      constructor(e, t, n) {
          super(e), this.#O = t, this.#I = n
      }
      applyPoint(e, t, n, r) {
          const s = this.#O,
              i = e - Math.trunc(s.getWidth() / 2),
              a = t - Math.trunc(s.getHeight() / 2);
          let o = C.custom(((e, t) => {
              const n = s.getElement(e - i, t - a);
              return n.elementHead !== F.TRANSPARENT_ELEMENT.elementHead && n.elementTail !== F.TRANSPARENT_ELEMENT.elementTail ? n : null
          }));
          r && (o = C.gentle(o));
          for (let e = 0; e < s.getWidth() && i + e < n.getWidth(); e++) {
              const t = i + e;
              if (!(t < 0))
                  for (let e = 0; e < s.getHeight() && a + e < n.getHeight(); e++) {
                      const r = a + e;
                      r < 0 || n.draw(t, r, o)
                  }
          }
          void 0 !== this.#I && this.#I()
      }
      hasCursor() {
          return !0
      }
      createCursor() {
          return new L(this.#O)
      }
  }
  class D extends S {
      #y;
      #b;
      #I;
      constructor(e, t, n) {
          super(e), this.#y = t, this.#I = n, this.#M()
      }
      #M() {
          if (void 0 === this.#y.length || 0 === this.#y.length) throw "Scenes not set";
          const e = s.DEFAULT.nextInt(this.#y.length),
              t = this.#y[e],
              n = N.asElementArea(t);
          this.#b = new N(this.getInfo(), n, this.#I)
      }
      applyPoint(e, t, n, r) {
          this.#b.applyPoint(e, t, n, r), this.#M()
      }
      hasCursor() {
          return !0
      }
      createCursor() {
          return this.#b.createCursor()
      }
  }
  class x extends S {
      #U;
      constructor(e, t) {
          super(e), this.#U = t
      }
      applyPoint(e, t, n, r) {
          this.#U()
      }
  }
  class P {
      #B;
      #F;
      #L;
      constructor(e = null, t = null, n = null) {
          this.#B = e, this.#F = t, this.#L = n
      }
      getCategory() {
          return this.#B
      }
      getDisplayName() {
          return this.#L
      }
      getCodeName() {
          return this.#F
      }
  }
  class H extends S {
      #p;
      #N = null;
      constructor(e, t) {
          super(e), this.#p = t
      }
      applyPoint(e, t, n, r) {
          null === this.#N ? this.#N = this.#D(e, t, n) : (this.#N.applyPoint(e, t, n, r), this.#N = null)
      }
      onDragStart(e, t, n, r) {}
      onDragEnd(e, t, n, r) {
          null !== this.#N && (this.#N.applyPoint(e, t, n, r), this.#N = null)
      }
      #D(e, t, n) {
          const r = this.#x(e, t, n);
          return null !== r ? new N(new P, r) : null
      }
      #x(e, t, n) {
          const r = F.create(this.#p, this.#p, F.TRANSPARENT_ELEMENT),
              s = Math.trunc(this.#p / 2),
              i = n.getDefaults().getDefaultElement();
          let a = !0;
          const o = C.custom(((n, o, l, h) => {
              if (this.#P(h.elementHead)) {
                  const l = n - e,
                      c = o - t;
                  return r.setElement(l + s, c + s, h), a = !1, i
              }
              return null
          }));
          return n.drawLine(e, t, e, t, this.#p, o, !0), a ? null : r
      }
      #P(e) {
          const t = r.getTypeClass(e);
          if (t > r.TYPE_AIR && t < r.TYPE_STATIC) return !0;
          const n = r.getBehaviour(e);
          return n === r.BEHAVIOUR_FISH || n === r.BEHAVIOUR_FISH_BODY
      }
      isAreaModeEnabled() {
          return !0
      }
      applyArea(e, t, n, r, s, i) {
          this.#N = this.#H(e, t, n, r, s)
      }
      #H(e, t, n, r, s) {
          const i = this.#k(e, t, n, r, s);
          return null !== i ? new N(new P, i) : null
      }
      #k(e, t, n, s, i) {
          const a = Math.abs(e - n) + 1,
              o = Math.abs(t - s) + 1,
              l = F.create(a, o, F.TRANSPARENT_ELEMENT),
              h = i.getDefaults().getDefaultElement();
          let c = !0;
          const d = C.custom(((i, a, o, d) => {
              if (r.getTypeClass(d.elementHead) > r.TYPE_AIR) {
                  let r = i - Math.min(e, n),
                      o = a - Math.min(t, s);
                  return l.setElement(r, o, d), c = !1, h
              }
              return null
          }));
          return i.drawRectangle(e, t, n, s, d, !1), c ? null : l
      }
      isSecondaryActionEnabled() {
          return null !== this.#N
      }
      applySecondaryAction(e, t, n, r) {
          this.#N = null
      }
      hasCursor() {
          return null !== this.#N
      }
      createCursor() {
          return null !== this.#N ? this.#N.createCursor() : null
      }
  }
  class k {
      static roundBrushTool(e, t, n) {
          return new v(e, t, n)
      }
      static pointBrushTool(e, t) {
          return new w(e, t)
      }
      static point2BrushTool(e, t, n) {
          return new O(e, t, n)
      }
      static meteorTool(e) {
          return new B(e)
      }
      static insertScenesTool(e, t, n) {
          if (1 === t.length) {
              const r = N.asElementArea(t[0]);
              return new N(e, r, n)
          }
          return new D(e, t, n)
      }
      static actionTool(e, t) {
          return new x(e, t)
      }
      static moveTool(e, t) {
          return new H(e, t)
      }
  }
  class W {
      static DEFAULT_SIZE = 6;
      static CATEGORY_BRUSH = "brush";
      static CATEGORY_TEMPLATE = "template";
      static #A(e, t, n = W.CATEGORY_BRUSH) {
          return new P(n, e, t)
      }
      static NONE = k.actionTool(W.#A("none", "None"), (() => {}));
      static ERASE = k.roundBrushTool(W.#A("erase", "Erase"), U.AIR, W.DEFAULT_SIZE);
      static MOVE = k.moveTool(W.#A("move", "Move"), 13);
      static SAND = k.roundBrushTool(W.#A("sand", "Sand"), U.SAND, W.DEFAULT_SIZE);
      static TEST_SOLID = k.roundBrushTool(W.#A("solid", "Solid"), U._TEST_SOLID, W.DEFAULT_SIZE);
      static TEST_FLAMMABLE_SOLID_M = k.roundBrushTool(W.#A("solid_m", "Solid M"), U._TEST_FLAMMABLE_SOLID_M, W.DEFAULT_SIZE);
      static TEST_FLAMMABLE_SOLID_H = k.roundBrushTool(W.#A("solid_h", "Solid H"), U._TEST_FLAMMABLE_SOLID_H, W.DEFAULT_SIZE);
      static TEST_FLAMMABLE_SOLID_E = k.roundBrushTool(W.#A("solid_e", "Solid E"), U._TEST_FLAMMABLE_SOLID_E, W.DEFAULT_SIZE);
      static SOIL = k.roundBrushTool(W.#A("soil", "Soil"), U.SOIL, W.DEFAULT_SIZE);
      static GRAVEL = k.roundBrushTool(W.#A("gravel", "Gravel"), U.GRAVEL, W.DEFAULT_SIZE);
      static WALL = k.roundBrushTool(W.#A("wall", "Wall"), U.WALL, W.DEFAULT_SIZE);
      static STEAM = k.roundBrushTool(W.#A("steam", "Steam"), C.temperatureOrBrush(255, U.STEAM), W.DEFAULT_SIZE);
      static METEOR2 = k.roundBrushTool(W.#A("meteor2", "Napalm"), U.METEOR, W.DEFAULT_SIZE);
      static TREE_ROOT = k.roundBrushTool(W.#A("tree_root", "Roots"), U.TREE_ROOT, W.DEFAULT_SIZE);
      static GRASS = k.roundBrushTool(W.#A("grass", "Grass"), U.GRASS, W.DEFAULT_SIZE);
      static ROCK = k.roundBrushTool(W.#A("rock", "Rock"), U.ROCK, W.DEFAULT_SIZE);
      static WATER = k.roundBrushTool(W.#A("water", "Water"), U.WATER, W.DEFAULT_SIZE);
      static LAVA = k.roundBrushTool(W.#A("lava", "Lava"),  C.temperatureOrBrush(255,U.LAVA), W.DEFAULT_SIZE);
      static ASH = k.roundBrushTool(W.#A("ash", "Ash"), U.ASH, W.DEFAULT_SIZE);
      static METAL = k.roundBrushTool(W.#A("metal", "Metal"), U.METAL, W.DEFAULT_SIZE);
      static FIRE = k.roundBrushTool(W.#A("fire", "Fire"), C.temperatureOrBrush(50, U.FIRE), W.DEFAULT_SIZE);
      static TREE_WOOD = k.roundBrushTool(W.#A("wood", "Wood"), U.TREE_WOOD, W.DEFAULT_SIZE);//brushes.b
      static TREE_WOOD_DARK = k.roundBrushTool(W.#A("wood_dark", "Darker Wood"), U.TREE_WOOD_DARK, W.DEFAULT_SIZE);//brushes.b
      static TREE_LEAF_LIGHTER = k.roundBrushTool(W.#A("tree_leaf", "Light Leaves"), U.TREE_LEAF_LIGHTER, W.DEFAULT_SIZE);//brushes.b
      static TREE_LEAF_DARKER = k.roundBrushTool(W.#A("tree_leaf_dark", "Dark Leaves"), U.TREE_LEAF_DARKER, W.DEFAULT_SIZE);//brushes.b
      static METEOR = k.meteorTool(W.#A("meteor", "Meteor"));  
      static DEFAULT_TOOLS = [this.ERASE, this.MOVE, this.SAND, this.SOIL, this.GRAVEL, this.ROCK, this.WATER, this.LAVA,this.METAL,this.TREE_WOOD, this.FIRE, this.METEOR,this.WALL, this.METEOR2, this.STEAM ,this.ASH, this.TEST_SOLID,this.TEST_FLAMMABLE_SOLID_M,this.TEST_FLAMMABLE_SOLID_H,this.TEST_FLAMMABLE_SOLID_E,this.TREE_WOOD_DARK,this.TREE_ROOT,this.GRASS, this.TREE_LEAF_LIGHTER,this.TREE_LEAF_DARKER];
    
      static TEST_TOOLS = [k.pointBrushTool(W.#A("grass", "Grass"), U.GRASS), k.pointBrushTool(W.#A("tree", "Tree"), U.TREE), k.point2BrushTool(W.#A("fish", "Fish"), U.FISH_HEAD, U.FISH_BODY), k.roundBrushTool(W.#A("effect_burnt", "Burnt"), U.EFFECT_BURNT, W.DEFAULT_SIZE), k.roundBrushTool(W.#A("effect_noise_sm", "Noise SM"), U.EFFECT_NOISE_SM, W.DEFAULT_SIZE), k.roundBrushTool(W.#A("effect_noise_md", "Noise MD"), U.EFFECT_NOISE_MD, W.DEFAULT_SIZE), k.roundBrushTool(W.#A("effect_noise_lg", "Noise LG"), U.EFFECT_NOISE_LG, W.DEFAULT_SIZE), k.roundBrushTool(W.#A("effect_temp_0", "Temp 0"), U.EFFECT_TEMP_0, W.DEFAULT_SIZE), k.roundBrushTool(W.#A("effect_temp_127", "Temp 127"), U.EFFECT_TEMP_127, W.DEFAULT_SIZE), k.roundBrushTool(W.#A("effect_temp_200", "Temp 200"), U.EFFECT_TEMP_200, W.DEFAULT_SIZE), k.roundBrushTool(W.#A("effect_temp_255", "Temp 255"), U.EFFECT_TEMP_255, W.DEFAULT_SIZE), k.roundBrushTool(W.#A("ash", "Ash"), U.ASH, W.DEFAULT_SIZE), k.roundBrushTool(W.#A("metal", "Metal"), U.METAL, W.DEFAULT_SIZE)];
      static _LIST = {};
      static {
          for (const e of [W.NONE, ...W.DEFAULT_TOOLS, ...W.TEST_TOOLS]) W._LIST[e.getInfo().getCodeName()] = e
      }
      static byCodeName(e) {
          const t = W._LIST[e];
          return void 0 !== t ? t : null
      }
  }
  class V {
      static EVENT_NAME = "app_sand_game_js";
      static FEATURE_APP_INITIALIZED = "initialized";
      static FEATURE_SCENARIO_COMPLETED = "s_completed";
      static FEATURE_RENDERER_FALLBACK = "renderer_fallback";
      static FEATURE_PAUSE = "pause";
      static FEATURE_DRAW_PRIMARY = "draw_primary";
      static FEATURE_DRAW_SECONDARY = "draw_secondary";
      static FEATURE_DRAW_TERTIARY = "draw_tertiary";
      static FEATURE_DRAW_LINE = "draw_line";
      static FEATURE_DRAW_RECT = "draw_rect";
      static FEATURE_DRAW_FLOOD = "draw_flood";
      static FEATURE_STATUS_DISPLAYED = "status_displayed";
      static FEATURE_OPTIONS_DISPLAYED = "options_displayed";
      static FEATURE_RENDERER_PIXELATED = "renderer_pixelated";
      static FEATURE_RENDERER_SHOW_CHUNKS = "renderer_show_chunks";
      static FEATURE_RENDERER_SHOW_HEATMAP = "renderer_show_heatmap";
      static FEATURE_CANVAS_SIZE_CHANGE = "canvas_size_change";
      static FEATURE_SWITCH_SCENE = "switch_scene";
      static FEATURE_RESTART_SCENE = "restart_scene";
      static FEATURE_SWITCH_SCALE = "switch_scale";
      static FEATURE_IO_EXPORT = "io_export";
      static FEATURE_IO_IMPORT = "io_import";
      static FEATURE_IO_IMAGE_TEMPLATE = "io_image_template";
      static #W = new Set;
      static triggerToolUsed(e) {
          const t = e.getInfo().getCategory();
          if (t === W.CATEGORY_BRUSH) {
              const t = "brush_" + e.getInfo().getCodeName();
              V.triggerFeatureUsed(t)
          } else t === W.CATEGORY_TEMPLATE && V.triggerFeatureUsed("brush_template")
      }
      static triggerFeatureUsed(e) {
          V.#W.has(e) || (V.#W.add(e), V.#V({
              app_sand_game_js_feature: e
          }))
      }
      static #V(e) {
          if ("function" == typeof gtag) try {
              gtag("event", V.EVENT_NAME, e)
          } catch (e) {
              console.warn(e)
          }
      }
  }
  class Y {
      static addContent(e, t) {
          if (null === t);
          else if ("string" == typeof t) e.textContent = t;
          else if (t instanceof Node) e.appendChild(t);
          else {
              if (!Array.isArray(t)) throw "Content type not supported: " + typeof t;
              for (const n of t)
                  if (n instanceof Node) e.appendChild(n);
                  else if ("string" == typeof n) e.insertAdjacentText("beforeend", n);
              else if (null !== n) throw "Content type not supported: " + typeof n
          }
      }
      static setContent(e, t) {
          e.innerHTML = "", Y.addContent(e, t)
      }
      static putAttributes(e, t) {
          for (const n in t) {
              const r = t[n],
                  s = typeof r;
              if ("string" === s || "boolean" === s || "number" === s) e.setAttribute(n, r);
              else if ("style" === n && "object" === s) Object.assign(e.style, r);
              else if (null !== r) throw "Unsupported attribute type: " + typeof r
          }
      }
      static create(e) {
          const t = document.createElement("template");
          return t.innerHTML = e.trim(), t.content.firstElementChild
      }
      static element(e, t = null, n = null) {
          const r = document.createElement(e);
          return Y.putAttributes(r, t), Y.addContent(r, n), r
      }
      static div(e = null, t = null) {
          return Y.element("div", e, t)
      }
      static par(e = null, t = null) {
          return Y.element("p", e, t)
      }
      static span(e = null, t = null) {
          return Y.element("span", t, e)
      }
      static link(e, t = null, n = null) {
          const r = Y.element("a", t, e);
          return null !== n && (r.href = "javascript:void(0)", r.addEventListener("click", n)), r
      }
      static button(e, t = null, n = null) {
          null === t && (t = {}), t.type = "button";
          const r = Y.element("button", t, e);
          return null !== n && r.addEventListener("click", n), r
      }
      static bootstrapAlertInfo(e) {
          const t = Y.div({
              class: "alert alert-info alert-dismissible fade show",
              role: "alert"
          });
          return Y.addContent(t, e), t.append(Y.button(null, {
              type: "button",
              class: "btn-close",
              "data-bs-dismiss": "alert",
              "aria-label": "Close"
          })), t
      }
      static bootstrapCard(e, t, n = null) {
          null === n && (n = {}), void 0 === n.class && (n.class = "card");
          const r = Y.div(n);
          return e && r.append(Y.div({
              class: "card-header"
          }, e)), r.append(Y.div({
              class: "card-body"
          }, t)), r
      }
      static bootstrapCardCollapsable(e, t, n) {
          const r = "collapsable_" + Math.floor(999999999 * Math.random());
          return Y.div({
              class: "card"
          }, [Y.div({
              class: "card-header"
          }, [Y.element("a", {
              class: "card-link",
              "data-bs-toggle": "collapse",
              href: "#" + r
          }, e)]), Y.div({
              id: r,
              class: t ? "collapse" : "collapse show"
          }, [Y.div({
              class: "card-body"
          }, n)])])
      }
      static bootstrapInitTooltip(e, t) {
          if (void 0 === window.bootstrap) return console.error("Bootstrap library not available"), t;
          const n = new window.bootstrap.Tooltip(t);
          return n && n.dispose(), t.setAttribute("data-bs-toggle", "tooltip"), t.setAttribute("data-bs-placement", "top"), "object" == typeof e ? (t.setAttribute("data-bs-html", "true"), t.setAttribute("title", e.innerHTML)) : t.setAttribute("title", e), new window.bootstrap.Tooltip(t), t
      }
      static bootstrapSwitchButton(e, t, n = null) {
          const r = "switch-button_" + Math.floor(999999999 * Math.random()),
              s = Y.element("input", {
                  type: "checkbox",
                  id: r,
                  class: "form-check-input",
                  role: "switch",
                  checked: t
              }),
              i = Y.div({
                  class: "form-check form-switch"
              }, [s, Y.element("label", {
                  class: "form-check-label",
                  for: r
              }, e)]);
          return null !== n && s.addEventListener("click", (() => {
              n(s.checked)
          })), i
      }
      static bootstrapToggleButton(e, t, n, r = null) {
          const s = "toggle-button_" + Math.floor(999999999 * Math.random()),
              i = Y.element("input", {
                  type: "checkbox",
                  class: "btn-check",
                  checked: n,
                  id: s
              }),
              a = Y.element("label", {
                  class: "btn " + t,
                  for: s
              }, e);
          return i.addEventListener("change", (e => {
              null !== r && r(i.checked)
          })), [i, a]
      }
      static bootstrapTableBuilder() {
          return new G
      }
      static bootstrapDialogBuilder() {
          return new z
      }
      static bootstrapToastBuilder() {
          return new K
      }
      static bootstrapSimpleFormBuilder() {
          return new q
      }
  }
  class G {
      #Y = Y.element("tbody");
      addRow(e) {
          this.#Y.appendChild(e)
      }
      addRowBefore(e) {
          this.#Y.insertBefore(e, this.#Y.firstChild)
      }
      createNode() {
          const e = Y.element("table", {
              class: "table table-striped"
          });
          e.appendChild(this.#Y);
          const t = Y.div({
              class: "table-responsive"
          });
          return t.appendChild(e), t
      }
  }
  class z {
      #G = !1;
      #z = "";
      #K = null;
      #q = null;
      #_ = [];
      #J = null;
      #X = null;
      setPersistent(e) {
          this.#G = e
      }
      setSizeLarge() {
          this.#z = "modal-lg"
      }
      setSizeExtraLarge() {
          this.#z = "modal-xl"
      }
      setHeaderContent(e) {
          this.#K = "string" == typeof e ? Y.element("strong", null, e) : e
      }
      setBodyContent(e) {
          this.#q = e
      }
      addCloseButton(e) {
          const t = Y.element("button", {
              type: "button",
              class: "btn btn-secondary",
              "data-bs-dismiss": "modal"
          }, e);
          this.#_.push(t)
      }
      addSubmitButton(e, t) {
          const n = Y.element("button", {
              type: "button",
              class: "btn btn-primary",
              "data-bs-dismiss": "modal"
          }, e);
          n.addEventListener("click", t), this.#_.push(n)
      }
      addButton(e) {
          this.#_.push(e)
      }
      show(e) {
          void 0 !== window.bootstrap ? (null === this.#J && (this.#J = Y.div({
              class: "modal fade",
              tabindex: "-1",
              role: "dialog",
              "aria-hidden": "true"
          }, [Y.div({
              class: `modal-dialog modal-dialog-centered ${this.#z}`
          }, [Y.div({
              class: "modal-content"
          }, [Y.div({
              class: "modal-header"
          }, this.#K), Y.div({
              class: "modal-body"
          }, this.#q), Y.div({
              class: "modal-footer"
          }, this.#_)])])]), e.appendChild(this.#J)), this.#X = new window.bootstrap.Modal(this.#J), this.#G || this.#J.addEventListener("hidden.bs.modal", (() => {
              e.removeChild(this.#J)
          })), this.#X.show()) : console.error("Bootstrap library not available")
      }
      hide() {
          null !== this.#J && this.#X.hide()
      }
  }
  class K {
      #K = null;
      #q = null;
      #Z = null;
      #Q = null;
      #j = 36e5;
      setHeaderContent(e) {
          "string" == typeof e && (e = Y.element("strong", e)), this.#K = Y.span(e, {
              class: "me-auto"
          })
      }
      setBodyContent(e) {
          this.#q = e
      }
      setDelay(e) {
          this.#j = e
      }
      show(e) {
          if (void 0 === window.bootstrap) return void console.error("Bootstrap library not available");
          const t = {
                  class: "toast hide",
                  role: "alert",
                  "aria-live": "assertive",
                  "aria-atomic": "true",
                  "data-bs-delay": this.#j
              },
              n = Y.div({
                  class: "position-fixed bottom-0 right-0 p-3",
                  style: "z-index: 5; right: 0; bottom: 0;"
              }, [this.#Z = Y.div(t, [Y.div({
                  class: "toast-header"
              }, [this.#K, Y.button("", {
                  type: "button",
                  class: "btn-close",
                  "data-bs-dismiss": "toast",
                  "aria-label": "Close"
              })]), Y.div({
                  class: "toast-body"
              }, [this.#q])])]);
          e.append(n), this.#Q = new window.bootstrap.Toast(this.#Z), this.#Z.addEventListener("hidden.bs.toast", (() => {
              e.removeChild(n)
          })), this.#Q.show()
      }
      hide() {
          null !== this.#Z && this.#Q.hide()
      }
  }
  class q {
      #$ = [];
      #ee = null;
      addTextArea(e, t, n = "", r = 8) {
          let s = Y.element("textarea", {
              class: "form-control",
              rows: r
          }, n);
          return this.#$.push({
              key: t,
              label: e,
              input: s
          }), s
      }
      addInput(e, t, n = "") {
          let r = Y.element("input", {
              class: "form-control"
          });
          return n && (r.value = n), this.#$.push({
              key: t,
              label: e,
              input: r
          }), r
      }
      addSubmitButton(e, t) {
          this.#ee = Y.button(e, {
              class: "btn btn-primary"
          }, (e => {
              t(this.getData())
          }))
      }
      createNode() {
          let e = Y.element("form", {
              action: "javascript:void(0);"
          });
          for (let t of this.#$) e.append(Y.div({
              class: "mb-3"
          }, [Y.element("label", null, t.label), t.input]));
          return this.#ee && e.append(this.#ee), e
      }
      getData() {
          let e = {};
          for (let t of this.#$) e[t.key] = t.input.value;
          return e
      }
  }
  class _ {
      #te = 0;
      #ne = 0;
      #re = 0;
      tick(e) {
          this.#te++, e - this.#re >= 1e3 && (this.#ne = this.#te, this.#te = 0, this.#re = e)
      }
      getValue() {
          return this.#ne
      }
      clear() {
          this.#ne = 0
      }
  }
  class J {
      static OPT_CYCLES_PER_SECOND = 120;
      static OPT_FRAMES_PER_SECOND = 60;
      getIteration() {
          throw "Not implemented"
      }
      getDefaults() {
          throw "Not implemented"
      }
      trigger(e, t) {
          throw "Not implemented"
      }
  }
  class X {
      getDefaultElement() {
          throw "Not implemented"
      }
      getBrushWater() {
          throw "Not implemented"
      }
      getBrushSteam() {
          throw "Not implemented"
      }
      getBrushGrass() {
          throw "Not implemented"
      }
      getBrushTree() {
          throw "Not implemented"
      }
      getBrushFishHead() {
          throw "Not implemented"
      }
      getBrushFishBody() {
          throw "Not implemented"
      }
      getBrushFishCorpse() {
          throw "Not implemented"
      }
      getBrushFire() {
          throw "Not implemented"
      }
      getBrushAsh() {
          throw "Not implemented"
      }
      getTreeTrunkTemplates() {
          throw "Not implemented"
      }
      getTreeLeafClusterTemplates() {
          throw "Not implemented"
      }
  }
  class Z {
      static #se = 34;
      static createFireElementHead(e) {
          let t = r.of(r.TYPE_EFFECT, r.BEHAVIOUR_FIRE);
          return t = r.setTemperature(t, e), t
      }
      static createFireElementTail(e) {
          let t = i.of(0, 0, 0);
          return t = e > 213 ? i.setColor(t, 249, 219, 30) : e > 170 ? i.setColor(t, 248, 201, 7) : e > 128 ? i.setColor(t, 250, 150, 3) : e > 85 ? i.setColor(t, 255, 111, 0) : e > 80 ? i.setColor(t, 255, 37, 0) : e > 75 ? i.setColor(t, 250, 4, 5) : i.setColor(t, 125, 0, 0), t
      }
      static #ie(e) {
          return [0, 165, 220, 255][e]
      }
      static #ae(e) {
          return [0, 2, 100, 1e3][e]
      }
      static #oe(e) {
          return [0, 100, 4500, 1e4][e]
      }
      #O;
      #le;
      #he;
      constructor(e, t, n) {
          this.#O = e, this.#le = t, this.#he = n
      }
      behaviourFire(e, t, n) {
          if (0 !== this.#le.nextInt(4)) return;
          const s = r.getTemperature(e),
              i = this.#ce(t, n, s);
          if (i < Z.#se) return void this.#O.setElement(t, n, this.#he.getDefaults().getDefaultElement());
          const a = this.#O.getElementHeadOrNull(t, n - 1);
          r.getBehaviour(a) !== r.BEHAVIOUR_WATER ? (null !== a && this.#de(a) ? (this.#O.setElementHead(t, n - 1, Z.createFireElementHead(i)), this.#O.setElementTail(t, n - 1, Z.createFireElementTail(i))) : (this.#O.setElementHead(t, n, r.setTemperature(e, i)), this.#O.setElementTail(t, n, Z.createFireElementTail(i))), this.#ue(t + 1, n - 1, i), this.#ue(t - 1, n - 1, i), this.#ue(t + 1, n, i), this.#ue(t - 1, n, i), this.#ue(t, n + 1, i)) : this.#O.setElement(t, n, this.#he.getDefaults().getDefaultElement())
      }
      #ce(e, t, n) {
          let r = n + this.#Ee(e, t + 1) + this.#Ee(e + 1, t + 1) + this.#Ee(e - 1, t + 1);
          return r /= 4, r < 76 ? 0 === this.#le.nextInt(2) && (r -= this.#le.nextInt(10)) : 0 === this.#le.nextInt(2) && (r -= this.#le.nextInt(50)), r < 0 && (r = 0), r
      }
      #Ee(e, t) {
          const n = this.#O.getElementHeadOrNull(e, t);
          return null !== n ? r.getTemperature(n) : null
      }
      #de(e) {
          return r.getTypeClass(e) === r.TYPE_AIR
      }
      #ue(e, t, n) {
          const s = this.#O.getElementHeadOrNull(e, t);
          if (null == s) return;
          if (r.getBehaviour(s) === r.BEHAVIOUR_FIRE) {
              const i = r.getTemperature(s);
              if (i < n) {
                  const r = Math.trunc((n - i) / 2);
                  r > Z.#se && (this.#O.setElementHead(e, t, Z.createFireElementHead(r)), this.#O.setElementTail(e, t, Z.createFireElementTail(r)))
              }
              return
          }
          if (r.getTypeClass(s) === r.TYPE_AIR) {
              const r = Math.trunc(.7 * n);
              return void(r > Z.#se && (this.#O.setElementHead(e, t, Z.createFireElementHead(r)), this.#O.setElementTail(e, t, Z.createFireElementTail(r))))
          }
          const i = r.getFlammableType(s);
          if (i !== r.FLAME_HEAT_TYPE_NONE) {
              if (r.getBehaviour(s) === r.BEHAVIOUR_FIRE_SOURCE) return;
              if (this.#le.nextInt(1e4) < Z.#oe(i)) return void this.ignite(s, e, t)
          }
          if (0 === this.#le.nextInt(5)) {
              if (r.getTemperature(s) < n) {
                  const i = r.setTemperature(s, n);
                  this.#O.setElementHead(e, t, i)
              }
          }
          if (d.isVisualBurnApplicable(s) && 0 === this.#le.nextInt(10)) {
              const n = this.#O.getElementTail(e, t);
              this.#O.setElementTail(e, t, d.visualBurn(n, 1, 2))
          }
      }
      behaviourFireSource(e, t, n) {
          const s = Z.#ie(r.getFlameHeatType(e)),
              i = Z.#ae(r.getBurnableType(e));
          if (this.#le.nextInt(1e4) < i) {
              if (this.#le.nextInt(100) < 8) {
                  const s = r.getTemperature(e),
                      i = this.#he.getDefaults().getBrushAsh().apply(t, n, this.#le),
                      a = r.setTemperature(i.elementHead, s),
                      o = i.elementTail;
                  this.#O.setElementHeadAndTail(t, n, a, o)
              } else this.#O.setElementHead(t, n, Z.createFireElementHead(s)), this.#O.setElementTail(t, n, Z.createFireElementTail(s));
              return
          }
          const a = this.#Ae(t, n - 1, s) | this.#Ae(t, n + 1, s) | this.#Ae(t - 1, n, s) | this.#Ae(t + 1, n, s);
          if (0 !== a && 0 == (2 & a))
              if (r.getTypeClass(e) === r.TYPE_STATIC && this.#le.nextInt(1e4) < 2) {
                  const s = r.type8Powder(r.TYPE_POWDER, 5, 1, this.#le.nextInt(2));
                  this.#O.setElementHead(t, n, r.setType(e, s))
              } else this.#O.setElementHead(t, n, r.setTemperature(e, s));
          else this.#O.setElementHead(t, n, r.setBehaviour(e, r.BEHAVIOUR_NONE))
      }
      #Ae(e, t, n) {
          const s = this.#O.getElementHeadOrNull(e, t);
          if (null === s) return 0;
          if (r.getBehaviour(s) === r.BEHAVIOUR_WATER) return 2;
          if (r.getTypeClass(s) <= r.TYPE_EFFECT) {
              const r = this.#le.nextInt(n);
              return r >= Z.#se && (this.#O.setElementHead(e, t, Z.createFireElementHead(r)), this.#O.setElementTail(e, t, Z.createFireElementTail(r))), 1
          }
          if (d.isVisualBurnApplicable(s) && 0 === this.#le.nextInt(1e3)) {
              const n = this.#O.getElementTail(e, t);
              this.#O.setElementTail(e, t, d.visualBurn(n, 1, 2))
          }
          return 0
      }
      ignite(e, t, n) {
          let s = r.setBehaviour(e, r.BEHAVIOUR_FIRE_SOURCE);
          s = r.setTemperature(s, Z.#ie(r.getFlameHeatType(e))), this.#O.setElementHead(t, n, s);
          const i = this.#O.getElementTail(t, n);
          this.#O.setElementTail(t, n, d.visualBurn(i, 2))
      }
  }
  class Q {
      static BLUEPRINT_3 = ["  333", " 32223", "3211123", "3210123", "3211123", " 32223", "  333"];
      static BLUEPRINT_4 = ["   444   ", "  43334", " 4322234", "432111234", "432101234", "432111234", " 4322234", "  43334", "   444"];
      static BLUEPRINT_9 = ["       99999       ", "     998888899", "   9988777778899", "  998776666677899", "  987665555566789", " 98766554445566789", " 98765543334556789", "9876554322234556789", "9876543211123456789", "9876543210123456789", "9876543211123456789", "9876554322234556789", " 98765543334556789", " 98766554445566789", "  987665555566789", "  998776666677899", "   9988777778899", "     998888899", "       99999"];
      static iterate(e, t) {
          const n = e[0].length,
              r = e.length,
              s = Math.trunc(n / 2),
              i = Math.trunc(r / 2);
          for (let n = 0; n < e.length; n++) {
              const r = e[n];
              for (let e = 0; e < r.length; e++) {
                  const a = r.charAt(e);
                  " " !== a && t(e - s, n - i, +a)
              }
          }
      }
  }
  class j {
      static DIRECTION_FROM_TOP = 0;
      static DIRECTION_FROM_LEFT = 1;
      static DIRECTION_FROM_RIGHT = 2;
      static #me = 100;
      static #ge = 255;
      static #pe = 220;
      static #Te = 60;
      #O;
      #le;
      #he;
      constructor(e, t, n) {
          this.#O = e, this.#le = t, this.#he = n
      }
      behaviourMeteor(e, t, n) {
          this.#fe(e, t, n);
          const s = r.getSpecial(e),
              i = 1 & s;
          let a = s ^ !i;
          if (e = r.setSpecial(e, a), this.#O.setElementHead(t, n, e), !i) return;
          const o = (-2 & s) >> 1;
          let l, h;
          o === j.DIRECTION_FROM_TOP ? (h = n + 1, l = t) : o === j.DIRECTION_FROM_LEFT ? (h = n + 1, l = t + (h % 4 == 0 ? 1 : 0)) : o === j.DIRECTION_FROM_RIGHT ? (h = n + 1, l = t - (h % 4 == 0 ? 1 : 0)) : (h = n + 1, l = t), this.#O.isValidPosition(l, h) && this.#Ce(l, h) ? this.#O.swap(t, n, l, h) : this.#Re(e, t, n)
      }
      #Ce(e, t) {
          const n = this.#O.getElementHead(e, t),
              s = r.getTypeClass(n);
          if (s <= r.TYPE_GAS || s === r.TYPE_FLUID) return !0;
          const i = r.getBehaviour(n);
          return i === r.BEHAVIOUR_TREE_LEAF || i === r.BEHAVIOUR_GRASS
      }
      #fe(e, t, n) {
          Q.iterate(Q.BLUEPRINT_4, ((e, s, i) => {
              if (0 === i) return;
              const a = t + e,
                  o = n + s;
              if (this.#O.isValidPosition(a, o)) {
                  let e = this.#O.getElementHead(a, o);
                  if (r.getTypeClass(e) <= r.TYPE_EFFECT) {
                      const e = this.#he.getDefaults().getBrushFire();
                      this.#O.setElement(a, o, e.apply(a, o, this.#le))
                  } else {
                      const t = r.setTemperature(e, j.#me);
                      this.#O.setElementHead(a, o, t)
                  }
              }
          }))
      }
      #Re(e, t, n) {
          Q.iterate(Q.BLUEPRINT_9, ((e, s, i) => {
              const a = t + e,
                  o = n + s;
              if (this.#O.isValidPosition(a, o)) {
                  let e = this.#O.getElementHead(a, o);
                  if (0 !== i && r.getBehaviour(e) === r.BEHAVIOUR_METEOR) return;
                  if (i <= 7) {
                      const e = this.#he.getDefaults().getBrushFire();
                      this.#O.setElement(a, o, e.apply(a, o, this.#le))
                  } else {
                      const t = (8 === i ? j.#ge : j.#pe) - this.#le.nextInt(j.#Te);
                      if (e = r.setTemperature(e, t), d.isVisualBurnApplicable(e)) {
                          let e = this.#O.getElementTail(a, o);
                          e = 8 === i ? d.visualBurn(e, 2) : d.visualBurn(e, 1), this.#O.setElementTail(a, o, e)
                      }
                      if (r.getTypeClass(e) === r.TYPE_STATIC && (8 === i || 9 === i && this.#le.nextInt(10) < 3)) {
                          const t = r.type8Powder(r.TYPE_POWDER, 5);
                          e = r.setType(e, t)
                      }
                      this.#O.setElementHead(a, o, e)
                  }
              }
          }))
      }
  }
  class $ {
      static #Se = 20;
      static canGrowUpHere(e, t, n) {
          if (t < 0 || n - 1 < 0) return !1;
          if (t >= e.getWidth() || n + 1 >= e.getHeight()) return !1;
          let s = e.getElementHead(t, n);
          if (r.getTypeClass(s) !== r.TYPE_AIR) return !1;
          if (r.getTemperature(s) >= this.#Se) return !1;
          let i = e.getElementHead(t, n + 1);
          if (r.getBehaviour(i) !== r.BEHAVIOUR_SOIL) return !1;
          if (r.getTemperature(i) >= this.#Se) return !1;
          let a = e.getElementHead(t, n - 1);
          return r.getTypeClass(a) === r.TYPE_AIR
      }
      static spawnHere(e, t, n, s, i) {
          let a = s.apply(t, n, i),
              o = 0;
          for (let s = r.getSpecial(a.elementHead); s >= 0 && !(n - o < 0); s--) e.setElementHead(t, n - o, r.setSpecial(a.elementHead, s)), e.setElementTail(t, n - o, a.elementTail), o++
      }
      #O;
      #le;
      #he;
      constructor(e, t, n) {
          this.#O = e, this.#le = t, this.#he = n
      }
      behaviourGrass(e, t, n) {
          if (r.getTemperature(e) > $.#Se) {
              this.#O.setElementHead(t, n, r.setBehaviour(e, 0));
              const s = this.#O.getElementTail(t, n),
                  i = this.#le.nextInt(2) + 1;
              this.#O.setElementTail(t, n, d.visualBurn(s, i))
          }
          let s = this.#le.nextInt(100);
          if (s < 3) {
              if (n > 0) {
                  let e = this.#O.getElementHead(t, n - 1);
                  if (r.getBehaviour(e) !== r.BEHAVIOUR_GRASS) {
                      let s = r.getTypeClass(e);
                      if (s > r.TYPE_FLUID || s === r.TYPE_FLUID && 0 === this.#le.nextInt(100)) return void this.#O.setElement(t, n, this.#he.getDefaults().getDefaultElement())
                  }
              }
              if (0 === s) {
                  let s = r.getSpecial(e);
                  if (0 === s) return void(0 === this.#le.nextInt(5) && this.#O.setElement(t, n, this.#he.getDefaults().getDefaultElement()));
                  if (0 === n) return;
                  let i = this.#O.getElementHead(t, n - 1);
                  if (r.getTypeClass(i) !== r.TYPE_AIR) return;
                  if (n > 1) {
                      let e = this.#O.getElementHead(t, n - 2);
                      if (r.getTypeClass(e) !== r.TYPE_AIR) return
                  }
                  this.#O.setElementHead(t, n - 1, r.setSpecial(e, s - 1)), this.#O.setElementTail(t, n - 1, this.#O.getElementTail(t, n))
              } else if (1 === s) {
                  if ($.canGrowUpHere(this.#O, t + 1, n + 1)) {
                      const e = this.#he.getDefaults().getBrushGrass();
                      this.#O.setElement(t + 1, n + 1, e.apply(t, n, this.#le))
                  }
              } else if (2 === s && $.canGrowUpHere(this.#O, t - 1, n + 1)) {
                  const e = this.#he.getDefaults().getBrushGrass();
                  this.#O.setElement(t - 1, n + 1, e.apply(t, n, this.#le))
              }
          }
      }
  }
  class ee {
      static #Se = 20;
      #O;
      #le;
      #he;
      constructor(e, t, n) {
          this.#O = e, this.#le = t, this.#he = n
      }
      behaviourFish(e, t, n) {
          if (t === this.#O.getWidth() - 1 || r.getBehaviour(this.#O.getElementHead(t + 1, n)) !== r.BEHAVIOUR_FISH_BODY) return void this.#ve(t, n);
          if (r.getTemperature(e) > ee.#Se) return this.#ve(t, n), void this.#ve(t + 1, n);
          if (n < this.#O.getHeight() - 1 && r.getTypeClass(this.#O.getElementHead(t, n + 1)) < r.TYPE_POWDER_FLOATING && r.getTypeClass(this.#O.getElementHead(t + 1, n + 1)) < r.TYPE_POWDER_FLOATING) return this.#O.swap(t, n, t, n + 1), void this.#O.swap(t + 1, n, t + 1, n + 1);
          const s = this.#le.nextInt(J.OPT_CYCLES_PER_SECOND);
          if (0 === s) {
              let s = 0;
              s += this.#we(t - 1, n) ? 1 : 0, s += this.#we(t + 2, n) ? 1 : 0, s += this.#we(t, n + 1) ? 1 : 0, s += this.#we(t, n - 1) ? 1 : 0, s < 4 && (s += this.#we(t + 1, n + 1) ? 1 : 0, s += this.#we(t + 1, n - 1) ? 1 : 0);
              let i = r.getSpecial(e);
              s >= 4 ? i > 0 && this.#O.setElementHead(t, n, r.setSpecial(e, 0)) : (i++, i > 5 ? this.#ve(t, n) : this.#O.setElementHead(t, n, r.setSpecial(e, i)))
          } else if (s < J.OPT_CYCLES_PER_SECOND / 10) {
              const e = this.#le.nextInt(3) - 1,
                  r = this.#le.nextInt(3) - 1;
              if (0 === e && 0 === r) return;
              this.#Oe(e + t, r + n) && this.#Oe(e + t + 1, r + n) && (this.#O.swap(t, n, e + t, r + n), this.#O.swap(t + 1, n, e + t + 1, r + n))
          }
      }
      behaviourFishBody(e, t, n) {
          0 !== t && r.getBehaviour(this.#O.getElementHead(t - 1, n)) === r.BEHAVIOUR_FISH || this.#ve(t, n)
      }
      #ve(e, t) {
          const n = this.#he.getDefaults().getBrushFishCorpse();
          this.#O.setElement(e, t, n.apply(e, t, this.#le))
      }
      #Oe(e, t) {
          if (!this.#O.isValidPosition(e, t)) return !1;
          let n = this.#O.getElementHead(e, t);
          return r.getTypeClass(n) === r.TYPE_FLUID
      }
      #we(e, t) {
          if (!this.#O.isValidPosition(e, t)) return !1;
          let n = this.#O.getElementHead(e, t);
          if (r.getTypeClass(n) === r.TYPE_FLUID) return !0;
          let s = r.getBehaviour(n);
          return s === r.BEHAVIOUR_FISH || s === r.BEHAVIOUR_FISH_BODY
      }
  }
  class te {
      static TYPE_TRUNK = 1;
      static TYPE_BRANCH = 2;
      static TYPE_LEAF = 3;
      static TYPE_ROOT = 4;
      static #Ie = 100;
      static #ye = 50;
      static #be = 40;
      static #Me = d.visualNoiseProvider(7616891641);
      static #Ue = (e, t, n) => te.#Me.visualNoise(e, t, n, 10, .5, 1, 68, 77, 40);
      static #Be = (e, t, n) => te.#Me.visualNoise(e, t, n, 4, .5, .9, 87, 61, 39);
      static spawnHere(e, t, n, s, i, a, o, l = -1) {
          s %= 1 << r.FIELD_SPECIAL_SIZE;
          const h = i.apply(t, n, a);
          h.elementHead = r.setSpecial(h.elementHead, s), e.setElement(t, n, h);
          const c = o.getDefaults().getTreeTrunkTemplates()[s];
          if (void 0 === c) throw "Tree template not found: " + s;
          const d = new te(e, a, o);
          d.#Fe(h.elementHead, t, n, c, l);
          for (let s = 1; s < 10; s++)
              for (let i = 0; i < 9; i++) {
                  const o = t + i - 4,
                      l = n + s;
                  if (!e.isValidPosition(o, l)) continue;
                  const h = e.getElementHead(o, l);
                  if (r.getBehaviour(h) !== r.BEHAVIOUR_TREE_ROOT) continue;
                  const c = r.getSpecial(h);
                  if (0 === c) continue;
                  const u = a.nextInt(10);
                  d.#Le(o, l, h, c, u)
              }
      }
      #O;
      #le;
      #he;
      #Ne;
      #De;
      constructor(e, t, n) {
          this.#O = e, this.#le = t, this.#he = n, this.#Ne = this.#he.getDefaults().getTreeTrunkTemplates(), this.#De = this.#he.getDefaults().getTreeLeafClusterTemplates()
      }
      behaviourTree(e, t, n) {
          if (r.getTemperature(e) > te.#Ie) return void this.#O.setElementHead(t, n, r.setBehaviour(e, 0));
          if (0 === this.#le.nextInt(J.OPT_CYCLES_PER_SECOND)) {
              const s = r.getSpecial(e),
                  i = this.#Ne[s];
              if (void 0 === i) throw "Tree template not found: " + s;
              const a = this.#Fe(e, t, n, i, 1);
              this.#xe(t, n, a, i)
          }
      }
      #Fe(e, t, n, i, a = 1) {
          let o = this.#Pe(t, n - 2),
              l = 0,
              h = 0,
              c = [{
                  entries: i.entries,
                  index: 0,
                  x: 0,
                  y: 0,
                  brush: null
              }],
              d = (e, r, s, i, a) => {
                  let o = s.apply(e, r, this.#le);
                  if (null === i) this.#O.setElement(e, r, o);
                  else {
                      const s = t - e + 10 * t,
                          a = n - r + 10 * n,
                          l = i(o.elementTail, s, a);
                      this.#O.setElementHeadAndTail(e, r, o.elementHead, l)
                  }
                  this.#he.trigger(e, r), a && (l++, h++)
              };
          for (; c.length > 0;) {
              const e = c.length;
              let i = !1;
              for (let a = 0; a < e; a++) {
                  const e = c[a];
                  if (e.index >= e.entries.length) {
                      i = !0;
                      continue
                  }
                  const h = e.entries[e.index++],
                      [u, E, A] = h,
                      m = t + u + e.x,
                      g = n - E - e.y;
                  if (this.#O.isValidPosition(m, g)) {
                      const t = this.#O.getElementHead(m, g),
                          n = r.getBehaviour(t);
                      switch (A) {
                          case te.TYPE_LEAF:
                              n === r.BEHAVIOUR_TREE_LEAF ? r.getSpecial(t) < 15 && this.#O.setElementHead(m, g, r.setSpecial(t, 0)) : (n === r.BEHAVIOUR_TREE_TRUNK || r.getTypeClass(t) === r.TYPE_AIR) && d(m, g, e.brush, te.#Ue, !1);
                              break;
                          case te.TYPE_TRUNK:
                              (n === r.BEHAVIOUR_TREE_TRUNK || n === r.BEHAVIOUR_TREE_LEAF) && l++;
                              let i = !1;
                              if ((r.getTypeClass(t) === r.TYPE_AIR || n === r.BEHAVIOUR_SOIL || n === r.BEHAVIOUR_GRASS || E < 5 && r.getTypeClass(t) !== r.TYPE_STATIC) && (i = !0), i) {
                                  d(m, g, E > 0 ? U.TREE_WOOD : U.TREE_WOOD_DARK, te.#Be, !0), 2 === E && 0 === u && this.#He(m, g, o)
                              }
                              break;
                          case te.TYPE_BRANCH:
                              let a = !1;
                              if (n === r.BEHAVIOUR_TREE_LEAF) l++, r.getSpecial(t) < 15 && this.#O.setElementHead(m, g, r.setSpecial(t, 0));
                              else if (n === r.BEHAVIOUR_TREE_TRUNK) l++;
                              else {
                                  if (r.getTypeClass(t) !== r.TYPE_AIR) break;
                                  a = !0
                              }
                              let h = s.next(o + u + E),
                                  p = Math.trunc(h * this.#De.length),
                                  T = this.#De[p],
                                  f = Math.trunc(1024 * h) % 2 == 0 ? U.TREE_LEAF_LIGHTER : U.TREE_LEAF_DARKER;
                              c.push({
                                  entries: T.entries,
                                  index: 0,
                                  x: u,
                                  y: E,
                                  brush: f
                              }), a && d(m, g, f, te.#Ue, !0);
                              break;
                          case te.TYPE_ROOT:
                              n === r.BEHAVIOUR_TREE_ROOT ? l++ : d(m, g, U.TREE_ROOT, null, !0);
                              break;
                          default:
                              throw "Unknown type: " + A
                      }
                  }
                  let p = h.length > 3 ? h[3] : void 0;
                  void 0 !== p && c.push({
                      entries: p,
                      index: 0,
                      x: e.x,
                      y: e.y,
                      brush: e.brush
                  })
              }
              if (-1 !== a && h >= a) break;
              if (i)
                  for (let e = c.length - 1; e >= 0; e--) {
                      let t = c[e];
                      t.index >= t.entries.length && c.splice(e, 1)
                  }
          }
          return l
      }
      #Pe(e, t) {
          if (this.#O.isValidPosition(e, t)) {
              let n = this.#O.getElementHead(e, t);
              if (r.getBehaviour(n) === r.BEHAVIOUR_TREE_TRUNK) return r.getSpecial(n)
          }
          return this.#le.nextInt(1 << r.FIELD_SPECIAL_SIZE)
      }
      #He(e, t, n) {
          let s = this.#O.getElementHead(e, t);
          s = r.setSpecial(s, n), this.#O.setElementHead(e, t, s)
      }
      #xe(e, t, n, s) {
          if (t > 0) {
              let i = this.#O.getElementHead(e, t - 1);
              if (r.getBehaviour(i) === r.BEHAVIOUR_TREE_TRUNK) {
                  const a = 15;
                  let o = r.getSpecial(i),
                      l = Math.trunc(n / s.entriesCount * a);
                  o - l > 5 ? (this.#O.setElementHead(e, t - 1, r.setSpecial(i, 0)), this.#O.setElement(e, t, U.TREE_WOOD.apply(e, t, this.#le))) : this.#O.setElementHead(e, t - 1, r.setSpecial(i, l))
              }
          }
      }
      behaviourTreeRoot(e, t, n) {
          if (r.getTemperature(e) > te.#Ie) return void this.#O.setElementHead(t, n, r.setBehaviour(e, 0));
          let s = r.getSpecial(e);
          if (0 === s) return void(this.#he.getIteration() % 1e3 == 0 && this.#ke(t, n));
          let i = this.#le.nextInt(10 * J.OPT_CYCLES_PER_SECOND);
          i < 10 && this.#Le(t, n, e, s, i)
      }
      #ke(e, t) {
          const n = e + this.#le.nextInt(3) - 1,
              s = t + this.#le.nextInt(3) - 1;
          if (this.#O.isValidPosition(n, s)) {
              let e = this.#O.getElementHead(n, s),
                  t = r.getTypeClass(e);
              if (t === r.TYPE_POWDER || t === r.TYPE_POWDER_WET || t === r.TYPE_POWDER_FLOATING) {
                  let t = r.setType(e, r.TYPE_STATIC);
                  this.#O.setElementHead(n, s, t)
              }
          }
      }
      #Le(e, t, n, s, i) {
          let a = (i, a) => {
              this.#O.setElementHead(e, t, r.setSpecial(n, 0));
              let o = U.TREE_ROOT.apply(i, a, this.#le),
                  l = r.setSpecial(o.elementHead, s - 1);
              this.#O.setElementHead(i, a, l), this.#O.setElementTail(i, a, o.elementTail)
          };
          if (t < this.#O.getHeight() - 1) {
              let n = this.#O.getElementHead(e, t + 1);
              if (r.getTypeClass(n) === r.TYPE_AIR) return void a(e, t + 1)
          }
          let o = e,
              l = t;
          if (9 === i || 8 === i || 7 === i ? (o += 1, l += 1) : 6 === i || 5 === i || 4 === i ? (o += -1, l += 1) : l += 1, this.#O.isValidPosition(o, l)) {
              let e = this.#O.getElementHead(o, l);
              r.getTypeClass(e) !== r.TYPE_STATIC && a(o, l)
          }
      }
      behaviourTreeLeaf(e, t, n) {
          let s = r.getSpecial(e);
          if (s < 15) {
              if (r.getTemperature(e) > te.#be) return void this.#We(e, t, n);
              if (this.#he.getIteration() % 32 == 0 && 0 === this.#le.nextInt(10)) {
                  if (s++, s >= 15) return void this.#We(e, t, n);
                  e = r.setSpecial(e, s), this.#O.setElementHead(t, n, e)
              }
          }
          if (this.#he.getIteration() % J.OPT_CYCLES_PER_SECOND == 0) {
              if (0 === this.#le.nextInt(5)) {
                  const e = [
                          [0, -1],
                          [-1, -1],
                          [1, -1],
                          [-1, 0],
                          [1, 0]
                      ],
                      s = e[this.#le.nextInt(e.length)],
                      i = t + s[0],
                      a = n + s[1];
                  if (this.#O.isValidPosition(i, a)) {
                      const e = this.#O.getElementHead(i, a);
                      r.getTypeClass(e) !== r.TYPE_STATIC && r.getTypeClass(e) >= r.TYPE_FLUID && this.#O.setElement(t, n, this.#he.getDefaults().getDefaultElement())
                  }
              }
          }
      }
      #We(e, t, n) {
          const s = this.#O.getElementTail(t, n),
              a = .85,
              o = 255 * (1 - a);
          let l = i.setColor(255 & Math.trunc(1.4 * i.getColorRed(s) * a + o), 255 & Math.trunc(.9 * i.getColorGreen(s) * a + o), 255 & Math.trunc(.8 * i.getColorBlue(s) * a + o));
          const h = r.setSpecial(e, 15);
          this.#O.setElementHeadAndTail(t, n, h, l)
      }
  }
  class ne {
      #O;
      #le;
      #he;
      constructor(e, t, n) {
          this.#O = e, this.#le = t, this.#he = n
      }
      behaviourWater(e, t, n) {
          const s = r.getTypeClass(e),
              i = r.getTemperature(e);
          if (s === r.TYPE_FLUID) {
              if (i > 20) {
                  const e = this.#he.getDefaults().getBrushSteam().apply(t, n, this.#le),
                      s = r.setTemperature(e.elementHead, i);
                  return this.#O.setElementHeadAndTail(t, n, s, e.elementTail), !0
              }
          } else if (s === r.TYPE_GAS && i < 10) {
              const e = this.#he.getDefaults().getBrushWater().apply(t, n, this.#le),
                  s = r.setTemperature(e.elementHead, i);
              return this.#O.setElementHeadAndTail(t, n, s, e.elementTail), !0
          }
          return !1
      }
      behaviourLava(e, t, n) {
          const s = r.getTypeClass(e),
              i = r.getTemperature(e);
          if (s === r.TYPE_FLUID_HOT) {
              if (i > 20) {
                  const e = this.#he.getDefaults().getBrushGravel().apply(t, n, this.#le),
                      s = r.setTemperature(e.elementHead, i);
                  return this.#O.setElementHeadAndTail(t, n, s, e.elementTail), !0
              }
          } else if (s === r.TYPE_POWDER && i < 10) {
              const e = this.#he.getDefaults().getBrushLava().apply(t, n, this.#le),
                  s = r.setTemperature(e.elementHead, i);
              return this.#O.setElementHeadAndTail(t, n, s, e.elementTail), !0
          }
          return !1
      }
  }
  class re extends J {
      #O;
      #S;
      #R;
      #Ve;
      #Ye;
      #Ge;
      #ze;
      #Ke;
      #qe;
      #_e = 0;
      #le;
      #Je = !1;
      #Xe = !1;
      #Ze;
      static RANDOM_DATA_COUNT = 32;
      #Qe = [];
      #je = [];
      #$e = [];
      #et;
      #tt;
      #nt;
      #rt;
      #st;
      #it;
      constructor(e, t, n, r, i) {
          if (super(), this.#O = e, this.#S = e.getWidth(), this.#R = e.getHeight(), this.#Ve = t, this.#Ve > 255) throw "Chunk size limit: 255";
          this.#Ye = Math.ceil(this.#S / this.#Ve), this.#Ge = Math.ceil(this.#R / this.#Ve), this.#ze = new Array(this.#Ye * this.#Ge).fill(!0), this.#Ke = new Array(this.#Ye * this.#Ge).fill(!0), this.#qe = new Array(this.#Ye * this.#Ge).fill(-1);
          let a = new s(0);
          this.#Qe = re.#at(re.RANDOM_DATA_COUNT, this.#Ye, a), this.#je = re.#ot(re.RANDOM_DATA_COUNT, this.#Ve, this.#Ve, a), this.#$e = re.#at(re.RANDOM_DATA_COUNT, this.#Ve, a), this.#le = n, this.#Ze = r, this.#et = new ne(e, n, this), this.#tt = new Z(e, n, this), this.#nt = new j(e, n, this), this.#rt = new $(e, n, this), this.#st = new ee(e, n, this), this.#it = new te(e, n, this), i && (this.#_e = i.iteration, this.#Je = i.fallThroughEnabled, this.#Xe = i.erasingEnabled)
      }
      static #lt(e, t, n) {
          for (let r = 0; r < t; r++) {
              let t = n.nextInt(e.length),
                  r = n.nextInt(e.length);
              [e[t], e[r]] = [e[r], e[t]]
          }
      }
      static #at(e, t, n) {
          let r = re.#ht(t);
          re.#lt(r, e, n);
          let s = Array(e);
          for (let t = 0; t < e; t++) re.#lt(r, Math.ceil(e / 4), n), s[t] = new Uint8Array(r);
          return s
      }
      static #ht(e) {
          let t = new Uint8Array(e);
          for (let n = 0; n < e; n++) t[n] = n;
          return t
      }
      static #ot(e, t, n, r) {
          let s = Array(e);
          for (let i = 0; i < e; i++) s[i] = re.#ct(t, n, r);
          return s
      }
      static #ct(e, t, n) {
          let r = new Uint8Array(e);
          for (let s = 0; s < e; s++) r[s] = n.nextInt(t);
          return r
      }
      getIteration() {
          return this.#_e
      }
      getDefaults() {
          return this.#Ze
      }
      setFallThroughEnabled(e) {
          this.#Je = e
      }
      setErasingEnabled(e) {
          this.#Xe = e
      }
      isFallThroughEnabled() {
          return this.#Je
      }
      isErasingEnabled() {
          return this.#Xe
      }
      trigger(e, t) {
          const n = Math.floor(e / this.#Ve),
              r = Math.floor(t / this.#Ve) * this.#Ye + n;
          this.#ze[r] = !0
      }
      getActiveChunks() {
          return this.#ze
      }
      getChangedChunks() {
          return this.#Ke
      }
      cleanChangedChunks() {
          this.#Ke.fill(!1)
      }
      next() {
          const e = Array.from(this.#ze);
          this.#ze.fill(!1);
          const t = this.#_e % 9,
              n = Math.trunc(t / 3),
              r = t % 3;
          for (let t = this.#Ge - 1; t >= 0; t--) {
              const s = t * this.#Ve,
                  i = Math.min((t + 1) * this.#Ve - 1, this.#R - 1),
                  a = this.#Qe[this.#le.nextInt(re.RANDOM_DATA_COUNT)],
                  o = 0 === this.#le.nextInt(2),
                  l = new Uint16Array(this.#Ye);
              for (let h = i; h >= s; h--)
                  for (let s = 0; s < this.#Ye; s++) {
                      const i = a[s],
                          c = t * this.#Ye + i,
                          d = this.#le.nextInt(re.RANDOM_DATA_COUNT),
                          u = o ? this.#$e[d] : this.#je[d];
                      if (e[c]) {
                          let e = l[i];
                          for (let t = 0; t < this.#Ve; t++) {
                              let s = i * this.#Ve + u[t];
                              if (s < this.#S) {
                                  const t = s % 3 === r && h % 3 === n;
                                  this.#dt(s, h, t) && e++
                              }
                          }
                          l[i] = e
                      }
                  }
              for (let n = 0; n < this.#Ye; n++) {
                  const r = t * this.#Ye + n;
                  e[r] || this.#ut(n, t, e) && (e[r] = !0, l[n] = 1)
              }
              if (o)
                  for (let n = 0; n < this.#Ye; n++) {
                      const r = t * this.#Ye + n;
                      if (e[r] && 0 === l[n]) {
                          const s = this.#qe[r];
                          (-1 === s || this.#_e - s >= 10) && (this.#Et(n, t) || (e[r] = !1, this.#Ke[r] = !0, this.#qe[r] = this.#_e))
                      }
                  }
          }
          if (this.#Xe) {
              const e = this.#Ze.getDefaultElement();
              for (let t = 0; t < this.#S; t++) this.#O.setElement(t, 0, e), this.#O.setElement(t, this.#R - 1, e);
              for (let t = 1; t < this.#R - 1; t++) this.#O.setElement(0, t, e), this.#O.setElement(this.#S - 1, t, e)
          }
          for (let t = 0; t < this.#Ye * this.#Ge; t++) {
              e[t] && (this.#ze[t] = !0, this.#Ke[t] = !0)
          }
          this.#_e++
      }
      #ut(e, t, n) {
          if (e > 0 && n[t * this.#Ye + e - 1]) {
              const n = e * this.#Ve,
                  r = Math.min((t + 1) * this.#Ve, this.#R);
              for (let e = t * this.#Ve; e < r; e++)
                  if (this.#At(n, e)) return !0
          }
          if (e < this.#Ye - 1 && n[t * this.#Ye + e + 1]) {
              const n = Math.min((e + 1) * this.#Ve - 1, this.#S - 1),
                  r = Math.min((t + 1) * this.#Ve, this.#R);
              for (let e = t * this.#Ve; e < r; e++)
                  if (this.#At(n, e)) return !0
          }
          if (t > 0 && n[(t - 1) * this.#Ye + e] || this.#Je && 0 === t && n[(this.#Ge - 1) * this.#Ye + e]) {
              const n = t * this.#Ve,
                  r = Math.min((e + 1) * this.#Ve, this.#S);
              for (let t = e * this.#Ve; t < r; t++)
                  if (this.#At(t, n)) return !0
          }
          if (t < this.#Ge - 1 && n[(t + 1) * this.#Ye + e]) {
              const n = (t + 1) * this.#Ve - 1,
                  r = Math.min((e + 1) * this.#Ve, this.#S);
              for (let t = e * this.#Ve; t < r; t++)
                  if (this.#At(t, n)) return !0
          }
      }
      #Et(e, t) {
          const n = Math.min((e + 1) * this.#Ve, this.#S),
              r = Math.min((t + 1) * this.#Ve, this.#R);
          for (let s = t * this.#Ve; s < r; s++)
              for (let t = e * this.#Ve; t < n; t++)
                  if (this.#At(t, s)) return !0;
          return !1
      }
      #At(e, t) {
          const n = this.#O.getElementHead(e, t);
          if (r.getTemperature(n) > 0) return !0;
          if (this.#mt(n, e, t)) return !0;
          switch (r.getBehaviour(n)) {
              case r.BEHAVIOUR_NONE:
              case r.BEHAVIOUR_SOIL:
              case r.BEHAVIOUR_TREE_TRUNK:
                  return !1;
              default:
                  return !0
          }
      }
      #mt(e, t, n) {
          const s = r.getTypeClass(e);
          switch (s) {
              case r.TYPE_AIR:
              case r.TYPE_STATIC:
                  return !1;
              case r.TYPE_POWDER:
              case r.TYPE_POWDER_FLOATING:
              case r.TYPE_POWDER_WET:
                  return !!r.getTypeModifierPowderSliding(e) || this.#gt(e, t, n, t, n + 1);
              case r.TYPE_FLUID:
                  return this.#gt(e, t, n, t, n + 1) || this.#gt(e, t, n, t + 1, n) || this.#gt(e, t, n, t - 1, n);
              case r.TYPE_GAS:
                  return this.#gt(e, t, n, t, n - 1) || this.#gt(e, t, n, t + 1, n) || this.#gt(e, t, n, t - 1, n);
              default:
                  return !0
          }
          throw "Unknown element type: " + s
      }
      #gt(e, t, n, r, s) {
          if (!this.#O.isValidPosition(r, s)) {
              if (!this.#Je || n !== this.#R - 1) return !1;
              if (s = 0, !this.#O.isValidPosition(r, s)) return !1
          }
          let i = this.#O.getElementHead(r, s);
          return this.#Ce(e, i)
      }
      #dt(e, t, n) {
          const s = this.#O.getElementHead(e, t);
          if (this.#pt(s, e, t)) return !0;
          const i = r.getBehaviour(s);
          let a = !1;
          switch (i) {
              case r.BEHAVIOUR_NONE:
              case r.BEHAVIOUR_SOIL:
                  break;
              case r.BEHAVIOUR_WATER:
                  this.#et.behaviourWater(s, e, t) && (n = !1);
                  break;
              case r.BEHAVIOUR_FIRE:
                  this.#tt.behaviourFire(s, e, t), a = !0, n = !1;
                  break;
              case r.BEHAVIOUR_GRASS:
                  this.#rt.behaviourGrass(s, e, t), a = !0;
                  break;
              case r.BEHAVIOUR_TREE:
                  this.#it.behaviourTree(s, e, t), a = !0;
                  break;
              case r.BEHAVIOUR_TREE_LEAF:
                  this.#it.behaviourTreeLeaf(s, e, t), a = !0;
                  break;
              case r.BEHAVIOUR_TREE_TRUNK:
                  break;
              case r.BEHAVIOUR_TREE_ROOT:
                  this.#it.behaviourTreeRoot(s, e, t), a = !0;
                  break;
              case r.BEHAVIOUR_FIRE_SOURCE:
                  this.#tt.behaviourFireSource(s, e, t), a = !0, n = !1;
                  break;
              case r.BEHAVIOUR_METEOR:
                  this.#nt.behaviourMeteor(s, e, t), a = !0, n = !1;
                  break;
              case r.BEHAVIOUR_FISH:
                  this.#st.behaviourFish(s, e, t), n = !1, a = !0;
                  break;
              case r.BEHAVIOUR_FISH_BODY:
                  this.#st.behaviourFishBody(s, e, t), a = !0;
                  break;
              default:
                  throw "Unknown element behaviour: " + i
          }
          const o = r.getTemperature(s);
          return o > 0 && (a = !0, n && this.#Tt(s, e, t, o)), a
      }
      #Tt(e, t, n, s) {
          let i = t,
              a = n;
          switch (this.#le.nextInt(4)) {
              case 0:
                  a--;
                  break;
              case 1:
                  i++;
                  break;
              case 2:
                  a++;
                  break;
              case 3:
                  i--
          }
          const o = r.getConductivityType(e),
              l = this.#le.nextInt(1e4) < re.#ft(o);
          let h;
          if (this.#O.isValidPosition(i, a)) {
              const c = this.#O.getElementHead(i, a),
                  d = r.getTemperature(c),
                  u = re.#Ct(o);
              h = Math.trunc(u * d + (1 - u) * s), l && (h = Math.max(h - 1, 0)), this.#O.setElementHead(t, n, r.setTemperature(e, h));
              const E = s - h;
              if (0 !== E) {
                  let e = Math.trunc(d + E);
                  l && (e = h - 1), e = Math.max(e, 0), this.#O.setElementHead(i, a, r.setTemperature(c, e)), this.trigger(i, a)
              }
          } else l && (h = Math.max(s - 1, 0), this.#O.setElementHead(t, n, r.setTemperature(e, h)));
          if (h > 100) {
              const s = r.getFlammableType(e);
              if (0 === s) return;
              if (r.getBehaviour(e) === r.BEHAVIOUR_FIRE_SOURCE) return;
              this.#le.nextInt(1e4) < re.#Rt(s) && this.#tt.ignite(e, t, n)
          }
      }
      static #ft(e) {
          return [2500, 500, 20, 10][e]
      }
      static #Ct(e) {
          return [.2, .25, .3, .45][e]
      }
      static #Rt(e) {
          return [0, 2, 3, 5][e]
      }
      #pt(e, t, n) {
          const s = r.getTypeClass(e);
          switch (s) {
              case r.TYPE_AIR:
                  return !1;
              case r.TYPE_POWDER:
              case r.TYPE_POWDER_WET:
              case r.TYPE_POWDER_FLOATING:
                  if (this.#St(e, t, n, t, n + 1)) return n % 2 == 0 ? this.#vt(t - 1, n + 1, 0) : this.#vt(t + 1, n + 1, 1), this.#vt(t, n + 1, n % 2), n % 2 == 0 ? this.#vt(t + 1, n, 0) : this.#vt(t - 1, n, 1), !0;
                  if (1 === r.getTypeModifierPowderSliding(e)) {
                      const s = r.getTypeModifierPowderMomentum(e);
                      if (this.#le.nextInt(1e6) > re.#wt(s)) return this.#O.setElementHead(t, n, r.setTypeModifierPowderSliding(e, 0)), !1;
                      const i = r.getTypeModifierPowderDirection(e);
                      this.#vt(t, n + 1, i);
                      const a = 0 === i ? -1 : 1;
                      return this.#St(e, t, n, t + a, n) ? (this.#vt(t + a, n + 1, i), this.#vt(t - a, n, i), !0) : (this.#vt(t + a, n + 1, i), this.#O.setElementHead(t, n, r.setTypeModifierPowderSliding(e, 0)), !1)
                  }
                  return !1;
              case r.TYPE_FLUID:
                  if (!this.#St(e, t, n, t, n + 1)) {
                      return 0 === this.#le.nextInt(2) ? !!this.#St(e, t, n, t + 1, n) && (this.#vt(t + 1, n + 1, 1), this.#St(e, t + 1, n, t + 2, n) && (this.#St(e, t + 2, n, t + 3, n) ? this.trigger(t + 3, n) : this.trigger(t + 2, n)), !0) : !!this.#St(e, t, n, t - 1, n) && (this.#vt(t - 1, n + 1, 0), this.#St(e, t - 1, n, t - 2, n) && (this.#St(e, t - 2, n, t - 3, n) ? this.trigger(t - 3, n) : this.trigger(t - 2, n)), !0)
                  }
                  return !0;
              case r.TYPE_GAS:
                  let s = this.#le.nextInt(8);
                  return 0 !== s && 2 !== s || !this.#St(e, t, n, t, n - 1) ? 3 === s && this.#St(e, t, n, t + 1, n) ? (this.trigger(t + 1, n), !0) : !(4 !== s || !this.#St(e, t, n, t - 1, n)) && (this.trigger(t - 1, n), !0) : (this.trigger(t, n - 1), !0);
              case r.TYPE_STATIC:
              case r.TYPE_EFFECT:
                  return !1
          }
          throw "Unknown element type: " + s
      }
      #St(e, t, n, s, i) {
          if (!this.#O.isValidPosition(s, i)) {
              if (!this.#Je || n !== this.#R - 1) return !1;
              if (i = 0, !this.#O.isValidPosition(s, i)) return !1
          }
          const a = this.#O.getElementHead(s, i),
              o = r.getTypeClass(a);
          if (o === r.TYPE_POWDER_FLOATING || o === r.TYPE_POWDER) return !1;
          const l = r.getTypeClass(e);
          if (l > o) {
              if (l === r.TYPE_POWDER && o === r.TYPE_FLUID) {
                  const o = r.setTypeClass(e, r.TYPE_POWDER_WET),
                      l = this.#O.getElementTail(t, n);
                  if (this.#le.nextInt(100) > 9) this.#O.setElement(t, n, this.#Ze.getDefaultElement());
                  else {
                      const e = this.#O.getElementTail(s, i);
                      this.#O.setElementHead(t, n, a), this.#O.setElementTail(t, n, e)
                  }
                  this.#O.setElementHead(s, i, o), this.#O.setElementTail(s, i, l)
              } else {
                  const r = this.#O.getElementTail(t, n),
                      o = this.#O.getElementTail(s, i);
                  this.#O.setElementHead(s, i, e), this.#O.setElementHead(t, n, a), this.#O.setElementTail(s, i, r), this.#O.setElementTail(t, n, o)
              }
              return !0
          }
          return !1
      }
      #Ce(e, t) {
          const n = r.getTypeClass(t);
          if (n === r.TYPE_POWDER_FLOATING || n === r.TYPE_POWDER) return !1;
          return r.getTypeClass(e) > n
      }
      #vt(e, t, n) {
          if (this.#O.isValidPosition(e, t)) {
              let s = this.#O.getElementHead(e, t);
              const i = r.getTypeClass(s);
              if (i === r.TYPE_POWDER || i === r.TYPE_POWDER_WET || i === r.TYPE_POWDER_FLOATING) {
                  const i = r.getTypeModifierPowderMomentum(s);
                  if (0 === i) return;
                  const a = 0 === n ? -1 : 1;
                  if (this.#O.isValidPosition(e + a, t)) {
                      const n = this.#O.getElementHead(e + a, t);
                      if (!this.#Ce(s, n)) return
                  }
                  if (this.#le.nextInt(1e6) > re.#Ot(i)) return;
                  s = r.setTypeModifierPowderSliding(s, 1), s = r.setTypeModifierPowderDirection(s, n), this.#O.setElementHead(e, t, s)
              }
          }
      }
      static #wt(e) {
          return [0, 4e5, 6e5, 7e5, 7e5, 8e5, 95e4, 95e4][e]
      }
      static #Ot(e) {
          return [0, 4e5, 4e5, 4e5, 6e5, 6e5, 85e4, 9e5][e]
      }
  }
  class se {
      #O;
      #le;
      #he;
      #It = 2;
      #yt = 2;
      constructor(e, t, n) {
          this.#O = e, this.#le = t, this.#he = n
      }
      run() {
          if (0 == this.#yt--) {
              this.#yt = this.#It;
              const e = this.#le.nextInt(this.#O.getWidth() - 2) + 1,
                  t = this.#le.nextInt(this.#O.getHeight() - 2) + 1;
              if (this.#bt(this.#O, e, t)) {
                  const n = this.#he.getDefaults();
                  this.#O.setElement(e, t, n.getBrushFishHead().apply(e, t, this.#le)), this.#he.trigger(e, t), this.#O.setElement(e + 1, t, n.getBrushFishBody().apply(e + 1, t, this.#le)), this.#he.trigger(e + 1, t), this.#It = this.#It << 2
              }
          }
      }
      #bt(e, t, n) {
          if (t < 1 || n < 1) return !1;
          if (t + 1 >= e.getWidth() || n + 1 >= e.getHeight()) return !1;
          const s = e.getElementHead(t, n);
          return !(r.getTemperature(s) > 0) && (!!(this.#Oe(e, t, n) && this.#Oe(e, t - 1, n) && this.#Oe(e, t + 1, n) && this.#Oe(e, t + 2, n) && this.#Oe(e, t + 1, n + 1) && this.#Oe(e, t + 2, n + 1) && this.#Oe(e, t + 1, n - 1) && this.#Oe(e, t + 2, n - 1)) && (this.#Mt(e, t, n + 2) || this.#Mt(e, t + 1, n + 2)))
      }
      #Oe(e, t, n) {
          if (!e.isValidPosition(t, n)) return !1;
          const s = e.getElementHead(t, n);
          return r.getTypeClass(s) === r.TYPE_FLUID
      }
      #Mt(e, t, n) {
          if (!e.isValidPosition(t, n)) return !1;
          const s = e.getElementHead(t, n),
              i = r.getTypeClass(s);
          return i === r.TYPE_POWDER || i === r.TYPE_POWDER_WET
      }
  }
  class ie {
      static MAX_COUNTER_VALUE = 2;
      #O;
      #le;
      #he;
      #yt = ie.MAX_COUNTER_VALUE;
      constructor(e, t, n) {
          this.#O = e, this.#le = t, this.#he = n
      }
      run() {
          if (0 == this.#yt--) {
              this.#yt = ie.MAX_COUNTER_VALUE;
              const e = this.#le.nextInt(this.#O.getWidth()),
                  t = this.#le.nextInt(this.#O.getHeight() - 3) + 2;
              if ($.canGrowUpHere(this.#O, e, t)) {
                  const n = this.#he.getDefaults().getBrushGrass();
                  this.#O.setElement(e, t, n.apply(e, t, this.#le)), this.#he.trigger(e, t)
              }
          }
      }
  }
  class ae {
      static STARTING_COUNTER_VALUE = 1e3;
      static MAX_COUNTER_VALUE = 4;
      #O;
      #le;
      #he;
      #yt = ae.STARTING_COUNTER_VALUE;
      constructor(e, t, n) {
          this.#O = e, this.#le = t, this.#he = n
      }
      run() {
          if (0 == this.#yt--) {
              this.#yt = ae.MAX_COUNTER_VALUE;
              const e = this.#le.nextInt(this.#O.getWidth() - 12) + 6,
                  t = this.#le.nextInt(this.#O.getHeight() - 16) + 15;
              if (ae.couldGrowUpHere(this.#O, e, t)) {
                  const n = this.#he.getDefaults().getBrushTree();
                  this.#O.setElement(e, t, n.apply(e, t, this.#le)), this.#he.trigger(e, t)
              }
          }
      }
      static couldGrowUpHere(e, t, n) {
          if (t < 0 || n < 12) return !1;
          if (t > e.getWidth() - 5 || n > e.getHeight() - 2) return !1;
          let s = e.getElementHead(t, n);
          if (r.getBehaviour(s) !== r.BEHAVIOUR_GRASS) return !1;
          if (r.getTemperature(s) > 0) return !1;
          let i = e.getElementHead(t, n + 1);
          if (r.getBehaviour(i) !== r.BEHAVIOUR_SOIL) return !1;
          if (r.getTemperature(i) > 0) return !1;
          for (let r = 1; r < 18; r++)
              if (!ae.#Ut(e, t, n - r)) return !1;
          for (let r = -15; r < 15; r++)
              if (ae.#Bt(e, t + r, n - 4)) return !1;
          for (let r = 10; r < 15; r++) {
              if (!ae.#Ut(e, t - 8, n - r)) return !1;
              if (!ae.#Ut(e, t + 8, n - r)) return !1
          }
          return !0
      }
      static #Ut(e, t, n) {
          let s = e.getElementHead(t, n);
          return r.getTypeClass(s) === r.TYPE_AIR || r.getBehaviour(s) === r.BEHAVIOUR_GRASS
      }
      static #Bt(e, t, n) {
          let s = e.getElementHead(t, n),
              i = r.getBehaviour(s);
          return i === r.BEHAVIOUR_TREE_TRUNK || i === r.BEHAVIOUR_TREE
      }
  }
  class oe {
      trigger(e, t) {
          throw "Not implemented"
      }
      render(e) {
          throw "Not implemented"
      }
  }
  class le {
      apply(e, t, n, r) {
          throw "Not implemented"
      }
  }
  class he extends oe {
      static renderPreview(e, t, n = 255) {
          const r = e.getWidth(),
              s = e.getHeight(),
              a = t.createImageData(r, s),
              o = a.data;
          for (let t = 0; t < r; t++)
              for (let a = 0; a < s; a++) {
                  const s = 4 * (r * a + t),
                      l = e.getElementTail(t, a);
                  l === F.TRANSPARENT_ELEMENT.elementTail && e.getElementHead(t, a) === F.TRANSPARENT_ELEMENT.elementHead ? o[s + 3] = 0 : (o[s] = i.getColorRed(l), o[s + 1] = i.getColorGreen(l), o[s + 2] = i.getColorBlue(l), o[s + 3] = n)
              }
          t.putImageData(a, 0, 0, 0, 0, r, s)
      }
      #Ft;
      #Lt = null;
      #O;
      #S;
      #R;
      #Ve;
      #Ye;
      #Ge;
      #Nt;
      #Dt;
      #xt;
      #Pt;
      constructor(e, t, n) {
          super(), this.#Ft = n, this.#O = e, this.#S = e.getWidth(), this.#R = e.getHeight(), this.#Ve = t, this.#Ye = Math.ceil(this.#S / this.#Ve), this.#Ge = Math.ceil(this.#R / this.#Ve), this.#Nt = new Array(this.#Ye * this.#Ge).fill(!0), this.#Dt = this.#Ft.createImageData(this.#S, this.#R);
          const r = this.#Dt.data;
          for (let e = 0; e < this.#R; e++)
              for (let t = 0; t < this.#S; t++) {
                  r[4 * (this.#S * e + t) + 3] = 255
              }
          this.#xt = new Array(this.#S * this.#R).fill(!1), this.#Pt = new Array(this.#S * this.#R).fill(!1)
      }
      trigger(e, t) {
          const n = Math.trunc(e / this.#Ve),
              r = Math.trunc(t / this.#Ve) * this.#Ye + n;
          this.#Nt[r] = !0
      }
      triggerChunk(e, t) {
          const n = t * this.#Ye + e;
          this.#Nt[n] = !0
      }
      triggerChunks(e) {
          if (e.length !== this.#Nt.length) throw "Array must be of the same size";
          for (let t = 0; t < e.length; t++) {
              const n = e[t];
              n && (this.#Nt[t] = n)
          }
      }
      setMode(e) {
          this.#Lt = e, this.#Nt.fill(!0), this.#xt.fill(!1), this.#Pt.fill(!1)
      }
      render(e) {
          for (let t = 0; t < this.#Ge; t++)
              for (let n = 0; n < this.#Ye; n++) {
                  const r = t * this.#Ye + n,
                      s = this.#Nt[r];
                  s && (this.#Nt[r] = !1);
                  const i = e[r];
                  if (i && (this.#Nt[r] = !0), s || i) {
                      let r = !1;
                      if (t + 1 < this.#Ye) {
                          const s = (t + 1) * this.#Ye + n;
                          this.#Nt[s] || e[s] || (r = !0)
                      }
                      this.#Ht(n, t, r)
                  }
              }
          this.#Ft.putImageData(this.#Dt, 0, 0, 0, 0, this.#S, this.#R)
      }
      #Ht(e, t, n) {
          const r = Math.min((e + 1) * this.#Ve, this.#S),
              s = Math.min((t + 1) * this.#Ve + (n ? 1 : 0), this.#R);
          for (let n = t * this.#Ve; n < s; n++)
              for (let t = e * this.#Ve; t < r; t++) this.#kt(t, n, this.#Dt.data)
      }
      #kt(e, t, n) {
          const r = this.#O.getElementTail(e, t),
              s = this.#S * t + e,
              a = 4 * s,
              o = i.getBlurType(r);
          if (o === i.BLUR_TYPE_BACKGROUND && (this.#Pt[s] && he.#Wt(r) && (this.#xt[s] = !0, this.#Pt[s] = !1), this.#xt[s])) {
              const r = n[a],
                  i = n[a + 1],
                  o = n[a + 2],
                  l = .1 * Math.random() - .05 + .875,
                  h = 255 * (1 - l),
                  c = Math.trunc(r * l + h),
                  d = Math.trunc(i * l + h),
                  u = Math.trunc(o * l + h);
              r === c && i === d && o === u ? (this.#xt[s] = !1, n[a] = 255, n[a + 1] = 255, n[a + 2] = 255) : (n[a] = c, n[a + 1] = d, n[a + 2] = u, this.trigger(e, t))
          } else if (null === this.#Lt) n[a] = i.getColorRed(r), n[a + 1] = i.getColorGreen(r), n[a + 2] = i.getColorBlue(r), this.#Pt[s] = o === i.BLUR_TYPE_1, this.#xt[s] = !1;
          else {
              let s = this.#O.getElementHead(e, t);
              this.#Lt.apply(n, a, s, r)
          }
      }
      static #Wt(e) {
          return 255 === i.getColorRed(e) && 255 === i.getColorGreen(e) && 255 === i.getColorBlue(e)
      }
  }
  class ce extends le {
      #Vt = null;
      constructor() {
          super(), g.asImageData("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAABCAIAAACnnMvDAAAACXBIWXMAAAsTAAALEwEAmpwYAAABTUlEQVQ4T22QUZIjMQhDHzhH32PHYj/UZoiTLlcXloQQfsE/AF6QsM6/i4CABa9T5Kj5RPqfkL9s29y2l6e75lBff33Nx2h6AcfGxxP6ykjU+Exkw5m3YxqfbnPRucfPSFev1+p64rbqrm9NAif2xfYiPc5UCz5sixRLZLF2poDMylSmcilcLxkBMhShpBIlCirZiwoEGDz4U/tqxPqg1oMrqcEqkak2sW2g9WlrK2DiBsfQJ1JQi90ZAuLIEnmdwbrwXg+42ImggvpK8mQ+UTvMh//Fdh6D/Xrt1uITqc77/C2SUlRFKaVUpSpFbFKECAEgEGwo2CCog3Bwawy6qNNrZOJumV3XiIu98I4xRztMt7Smz1zkW3YtcmnMXtTPqK35yZ4RJd4bQELiLarYG4m9nwltsMe61/COY6rgfWa+x8xmO1FbWd91P5Lr/2afRpQBYZvbAAAAAElFTkSuQmCC").then((e => this.#Vt = e))
      }
      apply(e, t, n, s) {
          if (null !== this.#Vt)
              if (0 === n) e[t] = 0, e[t + 1] = 0, e[t + 2] = 0;
              else {
                  const s = r.getTemperature(n),
                      i = 4 * Math.trunc(s / (1 << r.FIELD_TEMPERATURE_SIZE) * this.#Vt.width);
                  e[t] = this.#Vt.data[i], e[t + 1] = this.#Vt.data[i + 1], e[t + 2] = this.#Vt.data[i + 2]
              }
      }
  }
  class de extends le {
      constructor() {
          super()
      }
      #Yt(e) {
          switch (r.getTypeClass(e)) {
              case r.TYPE_AIR:
                  return [255, 255, 255];
              case r.TYPE_STATIC:
                  return [0, 0, 0];
              case r.TYPE_FLUID:
                  return [0, 0, 255];
              case r.TYPE_POWDER:
              case r.TYPE_POWDER_WET:
              case r.TYPE_POWDER_FLOATING:
                  if (1 === r.getTypeModifierPowderSliding(e)) return 1 === r.getTypeModifierPowderDirection(e) ? [232, 137, 70] : [255, 0, 0];
                  switch (r.getTypeClass(e)) {
                      case r.TYPE_POWDER:
                          return [36, 163, 57];
                      case r.TYPE_POWDER_WET:
                          return [44, 122, 57];
                      case r.TYPE_POWDER_FLOATING:
                          return [16, 194, 45]
                  }
              default:
                  return [255, 0, 125]
          }
      }
      apply(e, t, n, r) {
          const [s, i, a] = this.#Yt(n);
          return e[t] = s, e[t + 1] = i, e[t + 2] = a, !1
      }
  }
  class ue extends oe {
      #Ft;
      #O;
      #S;
      #R;
      #Gt;
      constructor(e, t, n) {
          super(), this.#Ft = n, this.#O = e, this.#S = e.getWidth(), this.#R = e.getHeight();
          const r = this.#Ft,
              s = this.#zt("255,51,0\r\n255,69,0\r\n255,82,0\r\n255,93,0\r\n255,102,0\r\n255,111,0\r\n255,118,0\r\n255,124,0\r\n255,130,0\r\n255,135,0\r\n255,141,11\r\n255,146,29\r\n255,152,41\r\n255,157,51\r\n255,162,60\r\n255,166,69\r\n255,170,77\r\n255,174,84\r\n255,178,91\r\n255,182,98\r\n255,185,105\r\n255,189,111\r\n255,192,118\r\n255,195,124\r\n255,198,130\r\n255,201,135\r\n255,203,141\r\n255,206,146\r\n255,208,151\r\n255,211,156\r\n255,213,161\r\n255,215,166\r\n255,217,171\r\n255,219,175\r\n255,221,180\r\n255,223,184\r\n255,225,188\r\n255,226,192\r\n255,228,196\r\n255,229,200\r\n255,231,204\r\n255,232,208\r\n255,234,211\r\n255,235,215\r\n255,237,218\r\n255,238,222\r\n255,239,225\r\n255,240,228\r\n255,241,231\r\n255,243,234\r\n255,244,237\r\n255,245,240\r\n255,246,243\r\n255,247,245\r\n255,248,248\r\n255,249,251\r\n255,249,253\r\n254,250,255\r\n252,248,255\r\n250,247,255\r\n247,245,255\r\n245,244,255\r\n243,243,255\r\n241,241,255\r\n239,240,255\r\n238,239,255\r\n236,238,255\r\n234,237,255\r\n233,236,255\r\n231,234,255\r\n229,233,255\r\n228,233,255\r\n227,232,255\r\n225,231,255\r\n224,230,255\r\n223,229,255\r\n221,228,255\r\n220,227,255\r\n219,226,255\r\n218,226,255\r\n217,225,255\r\n216,224,255\r\n215,223,255\r\n214,223,255\r\n213,222,255\r\n212,221,255\r\n211,221,255\r\n210,220,255\r\n209,220,255\r\n208,219,255\r\n207,218,255"),
              i = s.byteLength / 4,
              a = `\n            float countTemperaturePaletteIndex(float c) {\n                float k = c + 273.0;  // 0 C = 273 K\n                if (k < 1000.0) {\n                    return 0.0;\n                } else {\n                    return floor(k / 100.0 - 10.0);\n                }\n            }\n            \n            void applyTemperature(float temperature, int heatType, inout float r, inout float g, inout float b) {\n                float tFactor;\n                float aFactor = 0.001;\n                if (heatType == 0x01) {\n                    tFactor = 0.5;\n                } else if (heatType == 0x02) {\n                    tFactor = 1.0;\n                } else {  // heatType == 0x03\n                    tFactor = 1.45;\n                }\n                \n                float sTemp = (temperature * 255.0 * 10.0) * tFactor;\n                float i = countTemperaturePaletteIndex(sTemp);\n                vec4 color = texture(u_temperature_palette, vec2((i + 0.5) / ${i}.0, 0.5));\n                float cr = color[0];\n                float cg = color[1];\n                float cb = color[2];\n                \n                float alpha = 1.0 - sTemp * aFactor;\n                \n                // alpha blending\n                r = (r * alpha) + (cr * (1.0 - alpha));\n                g = (g * alpha) + (cg * (1.0 - alpha));\n                b = (b * alpha) + (cb * (1.0 - alpha));\n            }\n        `,
              o = `#version 300 es\n            precision mediump float;\n            \n            in vec2 v_texcoord;\n            out vec4 v_color;\n            \n            uniform sampler2D u_element_heads;\n            uniform sampler2D u_element_tails;\n            uniform sampler2D u_blur;\n            uniform sampler2D u_temperature_palette;\n            \n            ${a}\n\n            float rand(vec2 co) {\n                return fract(sin(dot(co.xy, vec2(12.9898,78.233))) * 43758.5453);\n            }\n\n            void main() {\n                vec4 elementTail = texture(u_element_tails, v_texcoord);\n                int flags = int(floor(elementTail[3] * 255.0 + 0.5));\n                int blurType = (flags & 0x3);\n            \n                if (blurType == 0x0) {  // == BLUR_TYPE_NONE\n                    // do not render non-blurrable elements\n                    v_color = vec4(1.0, 1.0, 1.0, 1.0);\n                    \n                } else if (blurType == 0x1) {  // == BLUR_TYPE_BACKGROUND\n                    // fade out... using alpha blending with white background\n                    \n                    vec4 oldPixel = texture(u_blur, v_texcoord);\n                    float r = oldPixel[0];  // 0..1\n                    float g = oldPixel[1];\n                    float b = oldPixel[2];\n                    \n                    float alpha;  // dynamic alpha\n                    float m = max(r, max(g, b));\n                    if (m > 0.9) {\n                        alpha = 0.875 + (rand(v_texcoord.xy) * 0.1 - 0.05);\n                    } else {\n                        alpha = 0.775 + (rand(v_texcoord.xy) * 0.04 - 0.02);\n                    }\n                    float whiteBackground = 1.0 - alpha;\n                    \n                    float nr = (r * alpha) + whiteBackground;\n                    float ng = (g * alpha) + whiteBackground;\n                    float nb = (b * alpha) + whiteBackground;\n                    \n                    if (int(nr * 255.0) == int(r * 255.0)\n                            && int(ng * 255.0) == int(g * 255.0)\n                            && int(nb * 255.0) == int(b * 255.0)) {\n                            \n                        // no change - delete blur (otherwise there could be visible remains)\n                        v_color = vec4(1.0, 1.0, 1.0, 1.0);\n                        \n                    } else {\n                        v_color = vec4(nr, ng, nb, 1.0);\n                    }\n                    \n                } else {  // == BLUR_TYPE_1\n                    // render element\n                    float r = elementTail[2];  // 0..1\n                    float g = elementTail[1];\n                    float b = elementTail[0];\n                    \n                    // apply temperature\n                    int heatType = (flags >> 4) & 0x3;\n                    if (heatType > 0) {\n                        vec4 elementHead = texture(u_element_heads, v_texcoord);\n                        float temperature = elementHead[3];  // 0..1\n                        \n                        if (temperature >= 0.001) {\n                            applyTemperature(temperature, heatType, r, g, b);\n                        }\n                    }\n                    \n                    v_color = vec4(r, g, b, 1.0);\n                }\n            }\n        `,
              l = this.#Kt(r, "#version 300 es\n            in vec4 a_position;\n            \n            out vec2 v_texcoord;\n            \n            void main() {\n              gl_Position = a_position;\n              v_texcoord = a_position.xy * vec2(0.5, 0.5) + 0.5;\n            }\n        ", o),
              h = r.getUniformLocation(l, "u_element_heads"),
              c = r.getUniformLocation(l, "u_element_tails"),
              d = r.getUniformLocation(l, "u_blur"),
              u = r.getUniformLocation(l, "u_temperature_palette"),
              E = `#version 300 es\n            precision mediump float;\n            \n            in vec2 v_texcoord;\n            out vec4 v_color;\n            \n            uniform sampler2D u_element_heads;\n            uniform sampler2D u_element_tails;\n            uniform sampler2D u_blur;\n            uniform sampler2D u_temperature_palette;\n            \n            ${a}\n            \n            void main() {\n                vec4 elementTail = texture(u_element_tails, v_texcoord);\n                int flags = int(floor(elementTail[3] * 255.0 + 0.5));\n                int blurType = (flags & 0x3);\n                \n                if (blurType == 0x00) {  // == BLUR_TYPE_NONE\n                    // render element\n                    float r = elementTail[2];  // 0..1\n                    float g = elementTail[1];\n                    float b = elementTail[0];\n                    \n                    // apply temperature\n                    int heatType = (flags >> 4) & 0x3;\n                    if (heatType > 0) {\n                        vec4 elementHead = texture(u_element_heads, v_texcoord);\n                        float temperature = elementHead[3];  // 0..1\n                        \n                        if (temperature >= 0.001) {\n                            applyTemperature(temperature, heatType, r, g, b);\n                        }\n                    }\n                    \n                    v_color = vec4(r, g, b, 1.0);\n                \n                } else {\n                    v_color = texture(u_blur, v_texcoord);\n                }\n            }\n        `,
              A = this.#Kt(r, "#version 300 es\n            in vec4 a_position;\n            \n            out vec2 v_texcoord;\n            \n            void main() {\n              gl_Position = a_position;\n\n              // Flip Y though so we get the top at 0\n              v_texcoord = a_position.xy * vec2(0.5, -0.5) + 0.5;\n            }\n        ", E),
              m = r.getUniformLocation(A, "u_element_heads"),
              g = r.getUniformLocation(A, "u_element_tails"),
              p = r.getUniformLocation(A, "u_blur"),
              T = r.getUniformLocation(A, "u_temperature_palette"),
              f = [1, 1, -1, 1, -1, -1, 1, 1, -1, -1, 1, -1],
              C = r.createBuffer();
          r.bindBuffer(r.ARRAY_BUFFER, C), r.bufferData(r.ARRAY_BUFFER, new Float32Array(f), r.STATIC_DRAW), r.enableVertexAttribArray(0), r.vertexAttribPointer(0, 2, r.FLOAT, !1, 0, 0);
          const R = e => {
                  const t = new Uint8Array(this.#O.getDataTails().byteLength).fill(255),
                      n = r.createTexture();
                  r.activeTexture(e), r.bindTexture(r.TEXTURE_2D, n), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, r.NEAREST), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MAG_FILTER, r.NEAREST), r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, this.#S, this.#R, 0, r.RGBA, r.UNSIGNED_BYTE, t);
                  const s = r.createFramebuffer();
                  return r.bindFramebuffer(r.FRAMEBUFFER, s), r.framebufferTexture2D(r.FRAMEBUFFER, r.COLOR_ATTACHMENT0, r.TEXTURE_2D, n, 0), s
              },
              S = R(r.TEXTURE2),
              v = R(r.TEXTURE3),
              w = r.createTexture();
          r.activeTexture(r.TEXTURE0), r.bindTexture(r.TEXTURE_2D, w), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, r.NEAREST), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MAG_FILTER, r.NEAREST);
          const O = r.createTexture();
          r.activeTexture(r.TEXTURE1), r.bindTexture(r.TEXTURE_2D, O), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, r.NEAREST), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MAG_FILTER, r.NEAREST);
          const I = r.createTexture();
          r.activeTexture(r.TEXTURE4), r.bindTexture(r.TEXTURE_2D, I), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_S, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_WRAP_T, r.CLAMP_TO_EDGE), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, r.NEAREST), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MAG_FILTER, r.NEAREST);
          let y = 2;
          this.#Gt = () => {
              const e = new Uint8Array(this.#O.getDataHeads());
              r.bindTexture(r.TEXTURE_2D, w), r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, this.#S, this.#R, 0, r.RGBA, r.UNSIGNED_BYTE, e);
              const t = new Uint8Array(this.#O.getDataTails());
              r.bindTexture(r.TEXTURE_2D, O), r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, this.#S, this.#R, 0, r.RGBA, r.UNSIGNED_BYTE, t), r.bindTexture(r.TEXTURE_2D, I), r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, i, 1, 0, r.RGBA, r.UNSIGNED_BYTE, s), r.bindFramebuffer(r.FRAMEBUFFER, 2 === y ? S : v), r.useProgram(l), r.uniform1i(h, 0), r.uniform1i(c, 1), r.uniform1i(d, 2 === y ? 3 : 2), r.uniform1i(u, 4), r.drawArrays(r.TRIANGLES, 0, f.length / 2), r.bindFramebuffer(r.FRAMEBUFFER, null), r.useProgram(A), r.uniform1i(m, 0), r.uniform1i(g, 1), r.uniform1i(p, y), r.uniform1i(T, 4), r.drawArrays(r.TRIANGLES, 0, f.length / 2), y = 2 === y ? 3 : 2
          }
      }
      trigger(e, t) {}
      render(e) {
          this.#Gt()
      }
      #Kt(e, t, n) {
          const r = e.createProgram();
          return e.attachShader(r, this.#qt(e, t, e.VERTEX_SHADER)), e.bindAttribLocation(r, 0, "a_position"), e.attachShader(r, this.#qt(e, n, e.FRAGMENT_SHADER)), e.linkProgram(r), this.#_t(e, r), r
      }
      #qt(e, t, n) {
          const r = e.createShader(n);
          e.shaderSource(r, t), e.compileShader(r);
          if (!e.getShaderParameter(r, e.COMPILE_STATUS)) {
              throw `Error compiling shader: ${e.getShaderInfoLog(r)}`
          }
          return r
      }
      #_t(e, t) {
          if (!e.getProgramParameter(t, e.LINK_STATUS)) {
              throw `Error in program linking: ${e.getProgramInfoLog(t)}`
          }
      }
      #zt(e) {
          const t = e.split("\n").map((e => e.split(",").map(Number))),
              n = new Uint8Array(4 * t.length);
          for (let e = 0; e < t.length; e++) {
              const r = t[e];
              n[4 * e] = r[0], n[4 * e + 1] = r[1], n[4 * e + 2] = r[2]
          }
          return n
      }
  }
  class Ee extends oe {
      constructor() {
          super()
      }
      trigger(e, t) {}
      render(e) {}
  }
  class Ae {
      getContextType() {
          throw "Not implemented"
      }
      initialize(e, t, n) {
          throw "Not implemented"
      }
      static canvas2d() {
          return new me(null)
      }
      static canvas2dHeatmap() {
          return new me(new ce)
      }
      static canvas2dElementType() {
          return new me(new de)
      }
      static canvasWebGL() {
          return new ge
      }
      static nullRenderer() {
          return new pe
      }
  }
  class me extends Ae {
      #Lt;
      constructor(e) {
          super(), this.#Lt = e
      }
      getContextType() {
          return "2d"
      }
      initialize(e, t, n) {
          let r = new he(e, t, n);
          return null !== this.#Lt && r.setMode(this.#Lt), r
      }
  }
  class ge extends Ae {
      getContextType() {
          return "webgl2"
      }
      initialize(e, t, n) {
          return new ue(e, t, n)
      }
  }
  class pe extends Ae {
      constructor() {
          super()
      }
      getContextType() {
          return "2d"
      }
      initialize(e, t, n) {
          return new Ee
      }
  }
  class Te {
      static NEIGHBOURHOOD_VON_NEUMANN = 0;
      static NEIGHBOURHOOD_MOORE = 1;
      #O;
      #Jt;
      #Xt;
      constructor(e, t = Te.NEIGHBOURHOOD_VON_NEUMANN, n) {
          this.#O = e, this.#Xt = t, this.#Jt = n
      }
      paint(e, t, n) {
          const r = 4071,
              s = this.#Zt(this.#O.getElementHead(e, t)) & r,
              i = this.#O.getWidth(),
              a = new Set,
              o = [];
          let l = e + t * i;
          do {
              let e = l % i,
                  t = Math.trunc(l / i);
              a.has(l) || (this.#Jt.draw(e, t, n), a.add(l), this.#Qt(e, t - 1, r, s, a, o), this.#Qt(e + 1, t, r, s, a, o), this.#Qt(e, t + 1, r, s, a, o), this.#Qt(e - 1, t, r, s, a, o), this.#Xt === Te.NEIGHBOURHOOD_MOORE && (this.#Qt(e + 1, t + 1, r, s, a, o), this.#Qt(e + 1, t - 1, r, s, a, o), this.#Qt(e - 1, t + 1, r, s, a, o), this.#Qt(e - 1, t - 1, r, s, a, o)))
          } while (null != (l = o.pop()))
      }
      #Qt(e, t, n, r, s, i) {
          const a = this.#O.getWidth(),
              o = this.#O.getHeight();
          if (e < 0 || t < 0) return;
          if (e >= a || t >= o) return;
          if (!this.#jt(e, t, n, r)) return;
          const l = e + t * a;
          s.has(l) || i.push(l)
      }
      #jt(e, t, n, r) {
          let s = this.#O.getElementHead(e, t);
          return s = this.#Zt(s), (s & n) === r
      }
      #Zt(e) {
          return r.getTypeClass(e) === r.TYPE_POWDER_WET && (e = r.setTypeClass(e, r.TYPE_POWDER)), e
      }
  }
  class fe {
      #$t;
      #en;
      #tn;
      #nn;
      #rn;
      #sn = !0;
      #in = [];
      constructor(e, t, n, r, s) {
          this.#$t = e, this.#en = t, this.#tn = n, this.#nn = r, this.#rn = s, this.#sn = !0 === s.visible
      }
      getPosition() {
          return [this.#$t, this.#en, this.#tn, this.#nn]
      }
      getConfig() {
          return this.#rn
      }
      isVisible() {
          return this.#sn
      }
      setVisible(e) {
          if (this.#sn !== e) {
              this.#sn = e;
              for (let t of this.#in) t(e)
          }
      }
      addOnVisibleChanged(e) {
          this.#in.push(e)
      }
  }
  class Ce {
      #O;
      #le;
      #an;
      #on;
      constructor(e, t, n, r) {
          this.#O = e, this.#le = t, this.#an = n, this.#on = r
      }
      draw(e, t, r) {
          if (e = Math.trunc(e), t = Math.trunc(t), this.#O.isValidPosition(e, t))
              if (null === r) this.#O.setElement(e, t, this.#an.getDefaultElement()), this.#on(e, t);
              else if (r instanceof n) this.#O.setElement(e, t, r), this.#on(e, t);
          else {
              if (!(r instanceof E)) throw "Brush or Element expected";
              {
                  let n = this.#O.getElement(e, t),
                      s = r.apply(e, t, this.#le, n);
                  this.#O.setElement(e, t, s), this.#on(e, t)
              }
          }
      }
      drawRectangle(e, t, r, s, i, a = !1) {
          if (!(i instanceof E || i instanceof n)) throw "Brush expected";
          e = Math.trunc(e), t = Math.trunc(t), r = Math.trunc(r), s = Math.trunc(s), a && (e = e >= 0 ? e : this.getWidth() + e + 1, r = r >= 0 ? r : this.getWidth() + r + 1, t = t >= 0 ? t : this.getHeight() + t + 1, s = s >= 0 ? s : this.getHeight() + s + 1), e = Math.max(Math.min(e, this.getWidth()), 0), r = Math.max(Math.min(r, this.getWidth()), 0), t = Math.max(Math.min(t, this.getHeight()), 0), s = Math.max(Math.min(s, this.getHeight()), 0);
          for (let n = t; n < s; n++)
              for (let t = e; t < r; t++) this.draw(t, n, i)
      }
      drawRectangleWH(e, t, n, r, s) {
          this.drawRectangle(e, t, e + n, t + r, s, !1)
      }
      drawLine(e, t, r, s, i, a, o = !1) {
          if (!(a instanceof E || a instanceof n)) throw "Brush expected";
          let l;
          if (e = Math.trunc(e), t = Math.trunc(t), r = Math.trunc(r), s = Math.trunc(s), o) {
              let e, t = Math.trunc(i / 2);
              e = t <= 3 ? Q.BLUEPRINT_3 : 4 === t ? Q.BLUEPRINT_4 : Q.BLUEPRINT_9, l = (n, r) => {
                  Q.iterate(e, ((e, s, i) => {
                      i <= t && this.draw(n + e, r + s, a)
                  }))
              }
          } else {
              const e = Math.ceil(i / 2);
              l = (t, n) => {
                  this.drawRectangle(t - e, n - e, t + e, n + e, a)
              }
          }
          Ce.#ln(e, t, r, s, l)
      }
      static #ln(e, t, n, r, s) {
          if (s(e, t), e !== n || t !== r) {
              const i = e < n ? 1 : -1,
                  a = t < r ? 1 : -1,
                  o = Math.abs(n - e),
                  l = Math.abs(r - t);
              let h = o - l;
              for (; e !== n || t !== r;) {
                  const n = 2 * h;
                  n > -l && (h -= l, e += i), n < o && (h += o, t += a), s(e, t)
              }
          }
      }
      drawShape(e, t) {
          if (!(e instanceof fe)) throw "Shape not supported";
          {
              const [n, r, s, i] = e.getPosition();
              this.drawRectangle(n, r, s, i, t, !1)
          }
      }
      fill(e) {
          this.drawRectangle(0, 0, this.#O.getWidth(), this.#O.getHeight(), e)
      }
      floodFill(e, t, n, r) {
          e = Math.trunc(e), t = Math.trunc(t), new Te(this.#O, r, this).paint(e, t, n)
      }
      replace(e, t) {
          const n = this.getWidth(),
              r = this.getHeight();
          for (let s = 0; s < r; s++)
              for (let r = 0; r < n; r++) {
                  const n = this.#O.getElement(r, s);
                  n.elementHead === e.elementHead && n.elementTail === e.elementTail && this.#O.setElement(r, s, t)
              }
      }
      getWidth() {
          return this.#O.getWidth()
      }
      getHeight() {
          return this.#O.getHeight()
      }
      getDefaults() {
          return this.#an
      }
  }
  class Re {
      #S;
      #R;
      #hn = [];
      #cn = [];
      constructor(e, t) {
          this.#S = e, this.#R = t
      }
      createRectangle(e, t, n, r, s, i = !1) {
          e = Math.trunc(e), t = Math.trunc(t), n = Math.trunc(n), r = Math.trunc(r), i && (e = e >= 0 ? e : this.#S + e + 1, n = n >= 0 ? n : this.#S + n + 1, t = t >= 0 ? t : this.#R + t + 1, r = r >= 0 ? r : this.#R + r + 1), e = Math.max(Math.min(e, this.#S - 1), 0), n = Math.max(Math.min(n, this.#S - 1), 0), t = Math.max(Math.min(t, this.#R - 1), 0), r = Math.max(Math.min(r, this.#R - 1), 0);
          const a = new fe(e, t, n, r, s);
          this.#hn.push(a);
          for (let e of this.#cn) e(a);
          return a
      }
      createRectangleWH(e, t, n, r, s) {
          return this.createRectangle(e, t, e + n, t + r, s)
      }
      getMarkers() {
          return [...this.#hn]
      }
      addOnMarkerAdded(e) {
          this.#cn.push(e)
      }
      getWidth() {
          return this.#S
      }
      getHeight() {
          return this.#R
      }
  }
  class Se {
      #rn;
      #sn;
      #in = [];
      constructor(e) {
          this.#rn = e, this.#sn = !0 === e.visible
      }
      getConfig() {
          return this.#rn
      }
      isVisible() {
          return this.#sn
      }
      setVisible(e) {
          if (this.#sn !== e) {
              this.#sn = e;
              for (let t of this.#in) t(e)
          }
      }
      addOnVisibleChanged(e) {
          this.#in.push(e)
      }
  }
  class ve {
      #rn;
      #sn;
      #in = [];
      #dn;
      #un = [];
      #En = !1;
      #An = [];
      constructor(e) {
          this.#rn = e, this.#sn = !0 === e.visible, this.#dn = !0 === e.active
      }
      getConfig() {
          return this.#rn
      }
      isVisible() {
          return this.#sn
      }
      setVisible(e) {
          if (this.#sn !== e) {
              this.#sn = e;
              for (let t of this.#in) t(e)
          }
      }
      addOnVisibleChanged(e) {
          this.#in.push(e)
      }
      isActive() {
          return this.#dn
      }
      setActive(e) {
          if (this.#dn !== e) {
              this.#dn = e;
              for (let t of this.#un) t(e)
          }
      }
      addOnActiveChanged(e) {
          this.#un.push(e)
      }
      isCompleted() {
          return this.#En
      }
      setCompleted(e) {
          if (this.#En !== e) {
              this.#En = e;
              for (let t of this.#An) t(e)
          }
      }
      addOnCompleted(e) {
          this.#An.push(e)
      }
  }
  class we {
      #mn = [];
      #gn = [];
      #pn = [];
      #Tn = [];
      #fn = !1;
      #Cn = [];
      constructor() {}
      createSplash(e) {
          const t = new Se(e);
          this.#mn.push(t);
          for (let e of this.#gn) e(t);
          return t
      }
      getSplashes() {
          return [...this.#mn]
      }
      addOnSplashAdded(e) {
          this.#gn.push(e)
      }
      createObjective(e) {
          const t = new ve(e);
          this.#pn.push(t);
          for (let e of this.#Tn) e(t);
          return t
      }
      getObjectives() {
          return [...this.#pn]
      }
      addOnObjectiveAdded(e) {
          this.#Tn.push(e)
      }
      setCompleted() {
          if (!this.#fn) {
              this.#fn = !0, V.triggerFeatureUsed(V.FEATURE_SCENARIO_COMPLETED);
              for (let e of this.#Cn) e()
          }
      }
      addOnStatusCompleted(e) {
          this.#Cn.push(e)
      }
  }
  class Oe {
      metadata;
      dataHeads;
      dataTails
  }
  class Ie {
      static CURRENT_FORMAT_VERSION = 5;
      formatVersion;
      appVersion;
      created;
      width;
      height;
      scale;
      random;
      iteration;
      fallThroughEnabled;
      erasingEnabled
  }
  class ye {
      #Jt;
      #Rn = null;
      #Sn = null;
      #vn = Number.MAX_SAFE_INTEGER;
      #wn = "bottom";
      constructor(e) {
          this.#Jt = e
      }
      withBlueprint(e) {
          return this.#Rn = e, this
      }
      withBrushes(e) {
          return this.#Sn = e, this
      }
      withMaxHeight(e, t = "bottom") {
          return this.#vn = e, this.#wn = t, this
      }
      paint() {
          if (null === this.#Rn || 0 === this.#Rn.length) throw "Blueprint not set";
          if (null === this.#Sn) throw "Brushes not set";
          const e = "string" == typeof this.#Rn ? this.#Rn.split("\n") : this.#Rn,
              t = e[0].length,
              n = e.length,
              r = Math.ceil(this.#Jt.getWidth() / t),
              s = Math.ceil(Math.min(this.#Jt.getHeight(), this.#vn) / n),
              i = "bottom" === this.#wn ? this.#Jt.getHeight() - s * n : 0;
          for (let a = 0; a < n; a++) {
              const n = e[a];
              for (let e = 0; e < Math.min(t, n.length); e++) {
                  const t = n.charAt(e);
                  let o = this.#Sn[t];
                  if (void 0 === o) {
                      if (" " === t) continue;
                      throw "Brush not found: " + t
                  }
                  this.#Jt.drawRectangle(e * r, i + a * s, e * r + r + 1, i + a * s + s + 1, o)
              }
          }
      }
  }
  var be = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};

  function Me(e, t, n) {
      let r = e[t];
      e[t] = e[n], e[n] = r
  }
  class Ue {
      #O;
      #Jt;
      #le;
      #he;
      #On;
      constructor(e, t, n, r) {
          this.#O = e, this.#Jt = t, this.#le = n, this.#he = r, this.#On = new Array(e.getWidth()).fill(0)
      }
      layer(e, t, n, r = 0) {
          return this.layerFunction((function(t) {
              return Math.trunc(e)
          }), t, n, r), this
      }
      layerSpline(e, t, n, r = 0) {
          const s = new Array(e.length),
              i = new Array(e.length);
          for (let t = 0; t < e.length; t++) s[t] = e[t][0], i[t] = e[t][1];
          const a = new class {
              constructor(e, t) {
                  this.xs = e, this.ys = t, this.ks = this.getNaturalKs(new Float64Array(this.xs.length))
              }
              getNaturalKs(e) {
                  const t = this.xs.length - 1,
                      n = function(e, t) {
                          const n = [];
                          for (let r = 0; r < e; r++) n.push(new Float64Array(t));
                          return n
                      }(t + 1, t + 2);
                  for (let e = 1; e < t; e++) n[e][e - 1] = 1 / (this.xs[e] - this.xs[e - 1]), n[e][e] = 2 * (1 / (this.xs[e] - this.xs[e - 1]) + 1 / (this.xs[e + 1] - this.xs[e])), n[e][e + 1] = 1 / (this.xs[e + 1] - this.xs[e]), n[e][t + 1] = 3 * ((this.ys[e] - this.ys[e - 1]) / ((this.xs[e] - this.xs[e - 1]) * (this.xs[e] - this.xs[e - 1])) + (this.ys[e + 1] - this.ys[e]) / ((this.xs[e + 1] - this.xs[e]) * (this.xs[e + 1] - this.xs[e])));
                  return n[0][0] = 2 / (this.xs[1] - this.xs[0]), n[0][1] = 1 / (this.xs[1] - this.xs[0]), n[0][t + 1] = 3 * (this.ys[1] - this.ys[0]) / ((this.xs[1] - this.xs[0]) * (this.xs[1] - this.xs[0])), n[t][t - 1] = 1 / (this.xs[t] - this.xs[t - 1]), n[t][t] = 2 / (this.xs[t] - this.xs[t - 1]), n[t][t + 1] = 3 * (this.ys[t] - this.ys[t - 1]) / ((this.xs[t] - this.xs[t - 1]) * (this.xs[t] - this.xs[t - 1])),
                      function(e, t) {
                          const n = e.length;
                          let r = 0,
                              s = 0;
                          for (; r < n && s <= n;) {
                              let t = 0,
                                  i = -1 / 0;
                              for (let a = r; a < n; a++) {
                                  const n = Math.abs(e[a][s]);
                                  n > i && (t = a, i = n)
                              }
                              if (0 === e[t][s]) s++;
                              else {
                                  Me(e, r, t);
                                  for (let t = r + 1; t < n; t++) {
                                      const i = e[t][s] / e[r][s];
                                      e[t][s] = 0;
                                      for (let a = s + 1; a <= n; a++) e[t][a] -= e[r][a] * i
                                  }
                                  r++, s++
                              }
                          }
                          for (let r = n - 1; r >= 0; r--) {
                              var i = 0;
                              e[r][r] && (i = e[r][n] / e[r][r]), t[r] = i;
                              for (let t = r - 1; t >= 0; t--) e[t][n] -= e[t][r] * i, e[t][r] = 0
                          }
                          return t
                      }(n, e)
              }
              getIndexBefore(e) {
                  let t = 0,
                      n = this.xs.length,
                      r = 0;
                  for (; t < n;) r = Math.floor((t + n) / 2), this.xs[r] < e && r !== t ? t = r : n = this.xs[r] >= e && r !== n ? r : t;
                  return t + 1
              }
              at(e) {
                  let t = this.getIndexBefore(e);
                  const n = (e - this.xs[t - 1]) / (this.xs[t] - this.xs[t - 1]),
                      r = this.ks[t - 1] * (this.xs[t] - this.xs[t - 1]) - (this.ys[t] - this.ys[t - 1]),
                      s = -this.ks[t] * (this.xs[t] - this.xs[t - 1]) + (this.ys[t] - this.ys[t - 1]);
                  return (1 - n) * this.ys[t - 1] + n * this.ys[t] + n * (1 - n) * (r * (1 - n) + s * n)
              }
          }(s, i);
          return this.layerFunction((function(e) {
              return Math.max(Math.trunc(a.at(e)), 0)
          }), t, n, r), this
      }
      layerPerlin(e, t, n, r = 0) {
          const i = [];
          for (let t of e) {
              if (void 0 === t.seed && (s.DEFAULT.next(), t.seed = s.DEFAULT.getState()), void 0 === t.factor) throw "factor not defined";
              if (void 0 === t.threshold) throw "threshold not defined";
              if (void 0 === t.force) throw "force not defined";
              const e = new s(t.seed),
                  n = c((() => e.next()));
              i.push({
                  instance: n,
                  levelConfig: t
              })
          }
          return this.layerFunction((function(e) {
              let t = 0;
              for (const {
                      instance: n,
                      levelConfig: r
                  }
                  of i) {
                  const {
                      factor: s,
                      threshold: i,
                      force: a
                  } = r;
                  let o = (n(e / s, 0) + 1) / 2;
                  o < i && (o = 0), o = 1 / (1 - i) * (o - i), o *= a, t += o
              }
              return Math.trunc(t)
          }), t, n, r), this
      }
      layerFunction(e, t, n, r = 0) {
          for (let s = 0; s < this.#O.getWidth(); s++) {
              const i = this.#On[s],
                  a = t ? i + e(s) : e(s);
              if (i < a) {
                  let e = 0;
                  for (let t = i; t < a && t < this.#O.getHeight(); t++) {
                      let r = this.#O.getHeight() - 1 - t;
                      this.#Jt.draw(s, r, n), e++
                  }
                  if (r > 0 && e > 0)
                      for (let t = 0; t < r; t++) {
                          const t = Math.min(Math.trunc(e / 2), 10);
                          if (t > 1) {
                              const e = this.#le.nextInt(Math.ceil(t)) - Math.trunc(t / 2),
                                  n = this.#O.getHeight() - 1 - i + e,
                                  r = this.#O.getHeight() - 1 - i + e + 1;
                              n < this.#O.getHeight() && r < this.#O.getHeight() && this.#O.swap(s, n, s, r)
                          }
                      }
                  this.#On[s] = a
              }
          }
          return this
      }
      grass(e = 0, t = -1) {
          -1 === t && (t = this.#O.getWidth());
          for (let n = e; n < t; n++) {
              const e = this.#On[n],
                  t = this.#O.getHeight() - 1 - e;
              if ($.canGrowUpHere(this.#O, n, t)) {
                  const e = this.#he.getDefaults().getBrushGrass();
                  $.spawnHere(this.#O, n, t, e, this.#le)
              }
          }
          return this
      }
      tree(e, t = void 0, n = void 0) {
          if (e <= 5 || e >= this.#O.getWidth() - 5) return this;
          const s = this.#On[e],
              i = this.#O.getHeight() - 1 - s,
              a = this.#he.getDefaults().getBrushTree();
          if (!this.#O.isValidPosition(e, i + 1)) return this;
          {
              const t = this.#O.getElementHead(e, i + 1);
              if (r.getBehaviour(t) !== r.BEHAVIOUR_SOIL) return this
          }
          return void 0 === t && (t = this.#le.nextInt(8)), te.spawnHere(this.#O, e, i, t, a, this.#le, this.#he, n), this
      }
      fish(e, t = 0) {
          if (e < 0 || e >= this.#O.getWidth() - 1) return this;
          const n = this.#On[e],
              r = this.#O.getHeight() - t - n;
          return r < 0 || r >= this.#O.getHeight() || (this.#O.setElement(e, r, U.FISH_HEAD.apply(0, 0, this.#le, null)), this.#O.setElement(e + 1, r, U.FISH_BODY.apply(0, 0, this.#le, null))), this
      }
      tool(e, t, n) {
          if (e < 0 || e >= this.#O.getWidth()) return this;
          const r = this.#On[e],
              s = this.#O.getHeight() - t - r;
          return s < 0 || s >= this.#O.getHeight() || n.applyPoint(e, s, this.#Jt, !1), this
      }
  }
  class Be {
      #O;
      #S;
      #R;
      #le;
      #In;
      #yn;
      #bn;
      #Mn;
      #Un = null;
      #Bn = null;
      #Fn = [];
      #Ln = [];
      #Nn = [];
      #Dn;
      #xn;
      constructor(e, t, n, r, i) {
          this.#O = e, this.#le = new s(t ? t.random : 0), this.#In = new _, this.#yn = new _, this.#bn = new re(this.#O, 16, this.#le, n, t), this.#Mn = i.initialize(this.#O, 16, r), this.#S = e.getWidth(), this.#R = e.getHeight(), this.#Dn = new Re(e.getWidth(), e.getHeight()), this.#xn = new we, this.#Pn(), this.#Hn()
      }
      #Pn() {
          let e = [];
          const t = () => {
              e = this.#xn.getObjectives().filter((e => e.isActive() && "function" == typeof e.getConfig().checkHandler))
          };
          this.#xn.addOnObjectiveAdded((e => {
              t(), e.addOnActiveChanged((() => t())), e.addOnCompleted((() => t()))
          })), this.#Nn.push((() => {
              for (let t of e) t.getConfig().checkHandler(this.#bn.getIteration() - 1)
          }))
      }
      #Hn() {
          let e = new ie(this.#O, this.#le, this.#bn);
          this.#Nn.push((() => e.run()));
          let t = new ae(this.#O, this.#le, this.#bn);
          this.#Nn.push((() => t.run()));
          let n = new se(this.#O, this.#le, this.#bn);
          this.#Nn.push((() => n.run()))
      }
      startProcessing() {
          if (null === this.#Un) {
              const e = Math.trunc(1e3 / re.OPT_CYCLES_PER_SECOND);
              this.#Un = setInterval((() => this.doProcessing()), e)
          }
      }
      startRendering() {
          if (null === this.#Bn) {
              const e = Math.trunc(1e3 / re.OPT_FRAMES_PER_SECOND);
              this.#Bn = setInterval((() => this.doRendering()), e)
          }
      }
      stopProcessing() {
          null !== this.#Un && (clearInterval(this.#Un), this.#Un = null), this.#yn.clear()
      }
      stopRendering() {
          null !== this.#Bn && (clearInterval(this.#Bn), this.#Bn = null), this.#In.clear()
      }
      doProcessing() {
          this.#bn.next();
          const e = Date.now();
          this.#yn.tick(e);
          for (let e of this.#Nn) e()
      }
      doRendering() {
          const e = this.#bn.getChangedChunks();
          try {
              this.#Mn.render(e)
          } catch (e) {
              this.stopRendering();
              for (let t of this.#Ln) t(e);
              return
          }
          const t = Date.now();
          this.#In.tick(t);
          for (let t of this.#Fn) t(e);
          this.#bn.cleanChangedChunks()
      }
      graphics() {
          const e = this.#bn.getDefaults();
          return new Ce(this.#O, this.#le, e, ((e, t) => {
              this.#bn.trigger(e, t), this.#Mn.trigger(e, t)
          }))
      }
      overlay() {
          return this.#Dn
      }
      scenario() {
          return this.#xn
      }
      blockTemplate() {
          return new ye(this.graphics())
      }
      layeredTemplate() {
          return new Ue(this.#O, this.graphics(), this.#le, this.#bn)
      }
      setBoxedMode() {
          this.#bn.setFallThroughEnabled(!1), this.#bn.setErasingEnabled(!1)
      }
      setFallThroughMode() {
          this.#bn.setFallThroughEnabled(!0), this.#bn.setErasingEnabled(!1)
      }
      setErasingMode() {
          this.#bn.setFallThroughEnabled(!1), this.#bn.setErasingEnabled(!0)
      }
      addOnProcessed(e) {
          this.#Nn.push(e)
      }
      addOnRendered(e) {
          this.#Fn.push(e)
      }
      addOnRenderingFailed(e) {
          this.#Ln.push(e)
      }
      getFramesPerSecond() {
          return this.#In.getValue()
      }
      getIterationsPerSecond() {
          return this.#yn.getValue()
      }
      getWidth() {
          return this.#S
      }
      getHeight() {
          return this.#R
      }
      getChunkSize() {
          return 16
      }
      copyStateTo(e) {
          let t, n;
          e.#R >= this.#R ? (t = 0, n = e.#R - this.#R) : (t = this.#R - e.#R, n = 0);
          for (let r = 0; r < Math.min(this.#R, e.#R); r++)
              for (let s = 0; s < Math.min(this.#S, e.#S); s++) {
                  let i = this.#O.getElementHead(s, r + t),
                      a = this.#O.getElementTail(s, r + t);
                  e.#O.setElementHead(s, n + r, i), e.#O.setElementTail(s, n + r, a)
              }
          e.#bn.setFallThroughEnabled(this.#bn.isFallThroughEnabled()), e.#bn.setErasingEnabled(this.#bn.isErasingEnabled())
      }
      createSnapshot() {
          let e = new Ie;
          e.formatVersion = Ie.CURRENT_FORMAT_VERSION, e.created = (new Date).getTime(), e.width = this.#S, e.height = this.#R, e.random = this.#le.getState(), e.iteration = this.#bn.getIteration(), e.fallThroughEnabled = this.#bn.isFallThroughEnabled(), e.erasingEnabled = this.#bn.isErasingEnabled();
          let t = new Oe;
          return t.metadata = e, t.dataHeads = this.#O.getDataHeads(), t.dataTails = this.#O.getDataTails(), t
      }
      debugElementAt(e, t) {
          if (!this.#O.isValidPosition(e, t)) return "Out of bounds";
          const n = this.#O.getElementHead(e, t),
              s = this.#O.getElementTail(e, t);

          function a(e) {
              return "0x" + e.toString(16).padStart(8, "0")
          }
          let o = a(n) + " " + a(s);
          const l = {
              type: {
                  class: r.getTypeClass(n)
              },
              behaviour: {
                  type: r.getBehaviour(n),
                  special: r.getSpecial(n)
              },
              modifiers: {
                  flammableType: r.getFlammableType(n),
                  flameHeatType: r.getFlameHeatType(n),
                  burnableType: r.getBurnableType(n),
                  conductivityType: r.getConductivityType(n)
              },
              temperature: r.getTemperature(n),
              color: [i.getColorRed(s), i.getColorGreen(s), i.getColorBlue(s)],
              blurType: i.getBlurType(s),
              burntLevel: i.getBurntLevel(s),
              heatEffect: i.getHeatEffect(s)
          };
          let h = JSON.stringify(l).replaceAll('"', "").replaceAll(",", ", ").replaceAll(":", "=");
          return h = h.substring(1, h.length - 1), o + "\n" + h
      }
  }
  class Fe {
      countSize(e, t) {
          throw "Not implemented"
      }
      createSandGame(e, t, n, r, s) {
          throw "Not implemented"
      }
      createElementArea(e, t, n) {
          throw "Not implemented"
      }
  }
  class Le extends Fe {
      #kn;
      constructor(e) {
          super(), this.#kn = e
      }
      countSize(e, t) {
          return [e, t]
      }
      async createSandGame(e, t, n, r, s) {
          let i = this.createElementArea(e, t, n.getDefaultElement()),
              a = new Be(i, null, n, r, s);
          return this.#kn.copyStateTo(a), a
      }
      createElementArea(e, t, n) {
          return F.create(e, t, n)
      }
  }
  class Ne {
      #Wn;
      #Vn;
      #Yn;
      #Gn = [];
      #zn;
      #Kn = [];
      constructor(e, t, n) {
          this.#Wn = e, this.#Vn = t, this.#Yn = n
      }
      setPrimaryTool(e) {
          this.#Wn = e;
          for (let t of this.#Gn) t(e)
      }
      setSecondaryTool(e) {
          this.#Vn = e
      }
      setTertiaryTool(e) {
          this.#Yn = e
      }
      getPrimaryTool() {
          return this.#Wn
      }
      getSecondaryTool() {
          return this.#Vn
      }
      getTertiaryTool() {
          return this.#Yn
      }
      addOnPrimaryToolChanged(e) {
          this.#Gn.push(e)
      }
      isInputDisabled() {
          return this.#zn
      }
      addOnInputDisabledChanged(e) {
          this.#Kn.push(e)
      }
      setInputDisabled(e) {
          if (this.#zn !== e) {
              this.#zn = e;
              for (let t of this.#Kn) t(e)
          }
      }
      createRevertAction() {
          const e = this.getPrimaryTool(),
              t = this.getSecondaryTool(),
              n = this.getTertiaryTool();
          return () => {
              this.setPrimaryTool(e), this.setSecondaryTool(t), this.setTertiaryTool(n)
          }
      }
  }
  class De extends Fe {
      #qn;
      constructor(e) {
          super(), this.#qn = e
      }
      countSize(e, t) {
          return [this.#qn.metadata.width, this.#qn.metadata.height]
      }
      async createSandGame(e, t, n, r, s) {
          let i = this.createElementArea(e, t, n.getDefaultElement());
          return new Be(i, this.#qn.metadata, n, r, s)
      }
      createElementArea(e, t, n) {
          return F.from(this.#qn.metadata.width, this.#qn.metadata.height, this.#qn.dataHeads, this.#qn.dataTails)
      }
  }
  var xe = Uint8Array,
      Pe = Uint16Array,
      He = Uint32Array,
      ke = new xe([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]),
      We = new xe([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]),
      Ve = new xe([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),
      Ye = function(e, t) {
          for (var n = new Pe(31), r = 0; r < 31; ++r) n[r] = t += 1 << e[r - 1];
          var s = new He(n[30]);
          for (r = 1; r < 30; ++r)
              for (var i = n[r]; i < n[r + 1]; ++i) s[i] = i - n[r] << 5 | r;
          return [n, s]
      },
      Ge = Ye(ke, 2),
      ze = Ge[0],
      Ke = Ge[1];
  ze[28] = 258, Ke[258] = 28;
  for (var qe = Ye(We, 0), _e = qe[0], Je = qe[1], Xe = new Pe(32768), Ze = 0; Ze < 32768; ++Ze) {
      var Qe = (43690 & Ze) >>> 1 | (21845 & Ze) << 1;
      Qe = (61680 & (Qe = (52428 & Qe) >>> 2 | (13107 & Qe) << 2)) >>> 4 | (3855 & Qe) << 4, Xe[Ze] = ((65280 & Qe) >>> 8 | (255 & Qe) << 8) >>> 1
  }
  var je = function(e, t, n) {
          for (var r = e.length, s = 0, i = new Pe(t); s < r; ++s) e[s] && ++i[e[s] - 1];
          var a, o = new Pe(t);
          for (s = 0; s < t; ++s) o[s] = o[s - 1] + i[s - 1] << 1;
          if (n) {
              a = new Pe(1 << t);
              var l = 15 - t;
              for (s = 0; s < r; ++s)
                  if (e[s])
                      for (var h = s << 4 | e[s], c = t - e[s], d = o[e[s] - 1]++ << c, u = d | (1 << c) - 1; d <= u; ++d) a[Xe[d] >>> l] = h
          } else
              for (a = new Pe(r), s = 0; s < r; ++s) e[s] && (a[s] = Xe[o[e[s] - 1]++] >>> 15 - e[s]);
          return a
      },
      $e = new xe(288);
  for (Ze = 0; Ze < 144; ++Ze) $e[Ze] = 8;
  for (Ze = 144; Ze < 256; ++Ze) $e[Ze] = 9;
  for (Ze = 256; Ze < 280; ++Ze) $e[Ze] = 7;
  for (Ze = 280; Ze < 288; ++Ze) $e[Ze] = 8;
  var et = new xe(32);
  for (Ze = 0; Ze < 32; ++Ze) et[Ze] = 5;
  var tt = je($e, 9, 0),
      nt = je($e, 9, 1),
      rt = je(et, 5, 0),
      st = je(et, 5, 1),
      it = function(e) {
          for (var t = e[0], n = 1; n < e.length; ++n) e[n] > t && (t = e[n]);
          return t
      },
      at = function(e, t, n) {
          var r = t / 8 | 0;
          return (e[r] | e[r + 1] << 8) >> (7 & t) & n
      },
      ot = function(e, t) {
          var n = t / 8 | 0;
          return (e[n] | e[n + 1] << 8 | e[n + 2] << 16) >> (7 & t)
      },
      lt = function(e) {
          return (e + 7) / 8 | 0
      },
      ht = function(e, t, n) {
          (null == t || t < 0) && (t = 0), (null == n || n > e.length) && (n = e.length);
          var r = new(2 == e.BYTES_PER_ELEMENT ? Pe : 4 == e.BYTES_PER_ELEMENT ? He : xe)(n - t);
          return r.set(e.subarray(t, n)), r
      },
      ct = ["unexpected EOF", "invalid block type", "invalid length/literal", "invalid distance", "stream finished", "no stream handler", , "no callback", "invalid UTF-8 data", "extra field too long", "date not in range 1980-2099", "filename too long", "stream finishing", "invalid zip data"],
      dt = function(e, t, n) {
          var r = new Error(t || ct[e]);
          if (r.code = e, Error.captureStackTrace && Error.captureStackTrace(r, dt), !n) throw r;
          return r
      },
      ut = function(e, t, n) {
          var r = e.length;
          if (!r || n && n.f && !n.l) return t || new xe(0);
          var s = !t || n,
              i = !n || n.i;
          n || (n = {}), t || (t = new xe(3 * r));
          var a = function(e) {
                  var n = t.length;
                  if (e > n) {
                      var r = new xe(Math.max(2 * n, e));
                      r.set(t), t = r
                  }
              },
              o = n.f || 0,
              l = n.p || 0,
              h = n.b || 0,
              c = n.l,
              d = n.d,
              u = n.m,
              E = n.n,
              A = 8 * r;
          do {
              if (!c) {
                  o = at(e, l, 1);
                  var m = at(e, l + 1, 3);
                  if (l += 3, !m) {
                      var g = e[(y = lt(l) + 4) - 4] | e[y - 3] << 8,
                          p = y + g;
                      if (p > r) {
                          i && dt(0);
                          break
                      }
                      s && a(h + g), t.set(e.subarray(y, p), h), n.b = h += g, n.p = l = 8 * p, n.f = o;
                      continue
                  }
                  if (1 == m) c = nt, d = st, u = 9, E = 5;
                  else if (2 == m) {
                      var T = at(e, l, 31) + 257,
                          f = at(e, l + 10, 15) + 4,
                          C = T + at(e, l + 5, 31) + 1;
                      l += 14;
                      for (var R = new xe(C), S = new xe(19), v = 0; v < f; ++v) S[Ve[v]] = at(e, l + 3 * v, 7);
                      l += 3 * f;
                      var w = it(S),
                          O = (1 << w) - 1,
                          I = je(S, w, 1);
                      for (v = 0; v < C;) {
                          var y, b = I[at(e, l, O)];
                          if (l += 15 & b, (y = b >>> 4) < 16) R[v++] = y;
                          else {
                              var M = 0,
                                  U = 0;
                              for (16 == y ? (U = 3 + at(e, l, 3), l += 2, M = R[v - 1]) : 17 == y ? (U = 3 + at(e, l, 7), l += 3) : 18 == y && (U = 11 + at(e, l, 127), l += 7); U--;) R[v++] = M
                          }
                      }
                      var B = R.subarray(0, T),
                          F = R.subarray(T);
                      u = it(B), E = it(F), c = je(B, u, 1), d = je(F, E, 1)
                  } else dt(1);
                  if (l > A) {
                      i && dt(0);
                      break
                  }
              }
              s && a(h + 131072);
              for (var L = (1 << u) - 1, N = (1 << E) - 1, D = l;; D = l) {
                  var x = (M = c[ot(e, l) & L]) >>> 4;
                  if ((l += 15 & M) > A) {
                      i && dt(0);
                      break
                  }
                  if (M || dt(2), x < 256) t[h++] = x;
                  else {
                      if (256 == x) {
                          D = l, c = null;
                          break
                      }
                      var P = x - 254;
                      if (x > 264) {
                          var H = ke[v = x - 257];
                          P = at(e, l, (1 << H) - 1) + ze[v], l += H
                      }
                      var k = d[ot(e, l) & N],
                          W = k >>> 4;
                      k || dt(3), l += 15 & k;
                      F = _e[W];
                      if (W > 3) {
                          H = We[W];
                          F += ot(e, l) & (1 << H) - 1, l += H
                      }
                      if (l > A) {
                          i && dt(0);
                          break
                      }
                      s && a(h + 131072);
                      for (var V = h + P; h < V; h += 4) t[h] = t[h - F], t[h + 1] = t[h + 1 - F], t[h + 2] = t[h + 2 - F], t[h + 3] = t[h + 3 - F];
                      h = V
                  }
              }
              n.l = c, n.p = D, n.b = h, n.f = o, c && (o = 1, n.m = u, n.d = d, n.n = E)
          } while (!o);
          return h == t.length ? t : ht(t, 0, h)
      },
      Et = function(e, t, n) {
          n <<= 7 & t;
          var r = t / 8 | 0;
          e[r] |= n, e[r + 1] |= n >>> 8
      },
      At = function(e, t, n) {
          n <<= 7 & t;
          var r = t / 8 | 0;
          e[r] |= n, e[r + 1] |= n >>> 8, e[r + 2] |= n >>> 16
      },
      mt = function(e, t) {
          for (var n = [], r = 0; r < e.length; ++r) e[r] && n.push({
              s: r,
              f: e[r]
          });
          var s = n.length,
              i = n.slice();
          if (!s) return [St, 0];
          if (1 == s) {
              var a = new xe(n[0].s + 1);
              return a[n[0].s] = 1, [a, 1]
          }
          n.sort((function(e, t) {
              return e.f - t.f
          })), n.push({
              s: -1,
              f: 25001
          });
          var o = n[0],
              l = n[1],
              h = 0,
              c = 1,
              d = 2;
          for (n[0] = {
                  s: -1,
                  f: o.f + l.f,
                  l: o,
                  r: l
              }; c != s - 1;) o = n[n[h].f < n[d].f ? h++ : d++], l = n[h != c && n[h].f < n[d].f ? h++ : d++], n[c++] = {
              s: -1,
              f: o.f + l.f,
              l: o,
              r: l
          };
          var u = i[0].s;
          for (r = 1; r < s; ++r) i[r].s > u && (u = i[r].s);
          var E = new Pe(u + 1),
              A = gt(n[c - 1], E, 0);
          if (A > t) {
              r = 0;
              var m = 0,
                  g = A - t,
                  p = 1 << g;
              for (i.sort((function(e, t) {
                      return E[t.s] - E[e.s] || e.f - t.f
                  })); r < s; ++r) {
                  var T = i[r].s;
                  if (!(E[T] > t)) break;
                  m += p - (1 << A - E[T]), E[T] = t
              }
              for (m >>>= g; m > 0;) {
                  var f = i[r].s;
                  E[f] < t ? m -= 1 << t - E[f]++ - 1 : ++r
              }
              for (; r >= 0 && m; --r) {
                  var C = i[r].s;
                  E[C] == t && (--E[C], ++m)
              }
              A = t
          }
          return [new xe(E), A]
      },
      gt = function(e, t, n) {
          return -1 == e.s ? Math.max(gt(e.l, t, n + 1), gt(e.r, t, n + 1)) : t[e.s] = n
      },
      pt = function(e) {
          for (var t = e.length; t && !e[--t];);
          for (var n = new Pe(++t), r = 0, s = e[0], i = 1, a = function(e) {
                  n[r++] = e
              }, o = 1; o <= t; ++o)
              if (e[o] == s && o != t) ++i;
              else {
                  if (!s && i > 2) {
                      for (; i > 138; i -= 138) a(32754);
                      i > 2 && (a(i > 10 ? i - 11 << 5 | 28690 : i - 3 << 5 | 12305), i = 0)
                  } else if (i > 3) {
                      for (a(s), --i; i > 6; i -= 6) a(8304);
                      i > 2 && (a(i - 3 << 5 | 8208), i = 0)
                  }
                  for (; i--;) a(s);
                  i = 1, s = e[o]
              } return [n.subarray(0, r), t]
      },
      Tt = function(e, t) {
          for (var n = 0, r = 0; r < t.length; ++r) n += e[r] * t[r];
          return n
      },
      ft = function(e, t, n) {
          var r = n.length,
              s = lt(t + 2);
          e[s] = 255 & r, e[s + 1] = r >>> 8, e[s + 2] = 255 ^ e[s], e[s + 3] = 255 ^ e[s + 1];
          for (var i = 0; i < r; ++i) e[s + i + 4] = n[i];
          return 8 * (s + 4 + r)
      },
      Ct = function(e, t, n, r, s, i, a, o, l, h, c) {
          Et(t, c++, n), ++s[256];
          for (var d = mt(s, 15), u = d[0], E = d[1], A = mt(i, 15), m = A[0], g = A[1], p = pt(u), T = p[0], f = p[1], C = pt(m), R = C[0], S = C[1], v = new Pe(19), w = 0; w < T.length; ++w) v[31 & T[w]]++;
          for (w = 0; w < R.length; ++w) v[31 & R[w]]++;
          for (var O = mt(v, 7), I = O[0], y = O[1], b = 19; b > 4 && !I[Ve[b - 1]]; --b);
          var M, U, B, F, L = h + 5 << 3,
              N = Tt(s, $e) + Tt(i, et) + a,
              D = Tt(s, u) + Tt(i, m) + a + 14 + 3 * b + Tt(v, I) + (2 * v[16] + 3 * v[17] + 7 * v[18]);
          if (L <= N && L <= D) return ft(t, c, e.subarray(l, l + h));
          if (Et(t, c, 1 + (D < N)), c += 2, D < N) {
              M = je(u, E, 0), U = u, B = je(m, g, 0), F = m;
              var x = je(I, y, 0);
              Et(t, c, f - 257), Et(t, c + 5, S - 1), Et(t, c + 10, b - 4), c += 14;
              for (w = 0; w < b; ++w) Et(t, c + 3 * w, I[Ve[w]]);
              c += 3 * b;
              for (var P = [T, R], H = 0; H < 2; ++H) {
                  var k = P[H];
                  for (w = 0; w < k.length; ++w) {
                      var W = 31 & k[w];
                      Et(t, c, x[W]), c += I[W], W > 15 && (Et(t, c, k[w] >>> 5 & 127), c += k[w] >>> 12)
                  }
              }
          } else M = tt, U = $e, B = rt, F = et;
          for (w = 0; w < o; ++w)
              if (r[w] > 255) {
                  W = r[w] >>> 18 & 31;
                  At(t, c, M[W + 257]), c += U[W + 257], W > 7 && (Et(t, c, r[w] >>> 23 & 31), c += ke[W]);
                  var V = 31 & r[w];
                  At(t, c, B[V]), c += F[V], V > 3 && (At(t, c, r[w] >>> 5 & 8191), c += We[V])
              } else At(t, c, M[r[w]]), c += U[r[w]];
          return At(t, c, M[256]), c + U[256]
      },
      Rt = new He([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]),
      St = new xe(0),
      vt = function() {
          for (var e = new Int32Array(256), t = 0; t < 256; ++t) {
              for (var n = t, r = 9; --r;) n = (1 & n && -306674912) ^ n >>> 1;
              e[t] = n
          }
          return e
      }(),
      wt = function() {
          var e = -1;
          return {
              p: function(t) {
                  for (var n = e, r = 0; r < t.length; ++r) n = vt[255 & n ^ t[r]] ^ n >>> 8;
                  e = n
              },
              d: function() {
                  return ~e
              }
          }
      },
      Ot = function(e, t, n, r, s) {
          return function(e, t, n, r, s, i) {
              var a = e.length,
                  o = new xe(r + a + 5 * (1 + Math.ceil(a / 7e3)) + s),
                  l = o.subarray(r, o.length - s),
                  h = 0;
              if (!t || a < 8)
                  for (var c = 0; c <= a; c += 65535) {
                      var d = c + 65535;
                      d >= a && (l[h >> 3] = i), h = ft(l, h + 1, e.subarray(c, d))
                  } else {
                      for (var u = Rt[t - 1], E = u >>> 13, A = 8191 & u, m = (1 << n) - 1, g = new Pe(32768), p = new Pe(m + 1), T = Math.ceil(n / 3), f = 2 * T, C = function(t) {
                              return (e[t] ^ e[t + 1] << T ^ e[t + 2] << f) & m
                          }, R = new He(25e3), S = new Pe(288), v = new Pe(32), w = 0, O = 0, I = (c = 0, 0), y = 0, b = 0; c < a; ++c) {
                          var M = C(c),
                              U = 32767 & c,
                              B = p[M];
                          if (g[U] = B, p[M] = U, y <= c) {
                              var F = a - c;
                              if ((w > 7e3 || I > 24576) && F > 423) {
                                  h = Ct(e, l, 0, R, S, v, O, I, b, c - b, h), I = w = O = 0, b = c;
                                  for (var L = 0; L < 286; ++L) S[L] = 0;
                                  for (L = 0; L < 30; ++L) v[L] = 0
                              }
                              var N = 2,
                                  D = 0,
                                  x = A,
                                  P = U - B & 32767;
                              if (F > 2 && M == C(c - P))
                                  for (var H = Math.min(E, F) - 1, k = Math.min(32767, c), W = Math.min(258, F); P <= k && --x && U != B;) {
                                      if (e[c + N] == e[c + N - P]) {
                                          for (var V = 0; V < W && e[c + V] == e[c + V - P]; ++V);
                                          if (V > N) {
                                              if (N = V, D = P, V > H) break;
                                              var Y = Math.min(P, V - 2),
                                                  G = 0;
                                              for (L = 0; L < Y; ++L) {
                                                  var z = c - P + L + 32768 & 32767,
                                                      K = z - g[z] + 32768 & 32767;
                                                  K > G && (G = K, B = z)
                                              }
                                          }
                                      }
                                      P += (U = B) - (B = g[U]) + 32768 & 32767
                                  }
                              if (D) {
                                  R[I++] = 268435456 | Ke[N] << 18 | Je[D];
                                  var q = 31 & Ke[N],
                                      _ = 31 & Je[D];
                                  O += ke[q] + We[_], ++S[257 + q], ++v[_], y = c + N, ++w
                              } else R[I++] = e[c], ++S[e[c]]
                          }
                      }
                      h = Ct(e, l, i, R, S, v, O, I, b, c - b, h), !i && 7 & h && (h = ft(l, h + 1, St))
                  }
              return ht(o, 0, r + lt(h) + s)
          }(e, null == t.level ? 6 : t.level, null == t.mem ? Math.ceil(1.5 * Math.max(8, Math.min(13, Math.log(e.length)))) : 12 + t.mem, n, r, !s)
      },
      It = function(e, t) {
          var n = {};
          for (var r in e) n[r] = e[r];
          for (var r in t) n[r] = t[r];
          return n
      },
      yt = function(e, t) {
          return e[t] | e[t + 1] << 8
      },
      bt = function(e, t) {
          return (e[t] | e[t + 1] << 8 | e[t + 2] << 16 | e[t + 3] << 24) >>> 0
      },
      Mt = function(e, t) {
          return bt(e, t) + 4294967296 * bt(e, t + 4)
      },
      Ut = function(e, t, n) {
          for (; n; ++t) e[t] = n, n >>>= 8
      };

  function Bt(e, t) {
      return Ot(e, t || {}, 0, 0)
  }

  function Ft(e, t) {
      return ut(e, t)
  }
  var Lt = function(e, t, n, r) {
          for (var s in e) {
              var i = e[s],
                  a = t + s,
                  o = r;
              Array.isArray(i) && (o = It(r, i[1]), i = i[0]), i instanceof xe ? n[a] = [i, o] : (n[a += "/"] = [new xe(0), o], Lt(i, a, n, r))
          }
      },
      Nt = "undefined" != typeof TextEncoder && new TextEncoder,
      Dt = "undefined" != typeof TextDecoder && new TextDecoder;
  try {
      Dt.decode(St, {
          stream: !0
      }), 1
  } catch (e) {}

  function xt(e, t) {
      if (t) {
          for (var n = new xe(e.length), r = 0; r < e.length; ++r) n[r] = e.charCodeAt(r);
          return n
      }
      if (Nt) return Nt.encode(e);
      var s = e.length,
          i = new xe(e.length + (e.length >> 1)),
          a = 0,
          o = function(e) {
              i[a++] = e
          };
      for (r = 0; r < s; ++r) {
          if (a + 5 > i.length) {
              var l = new xe(a + 8 + (s - r << 1));
              l.set(i), i = l
          }
          var h = e.charCodeAt(r);
          h < 128 || t ? o(h) : h < 2048 ? (o(192 | h >> 6), o(128 | 63 & h)) : h > 55295 && h < 57344 ? (o(240 | (h = 65536 + (1047552 & h) | 1023 & e.charCodeAt(++r)) >> 18), o(128 | h >> 12 & 63), o(128 | h >> 6 & 63), o(128 | 63 & h)) : (o(224 | h >> 12), o(128 | h >> 6 & 63), o(128 | 63 & h))
      }
      return ht(i, 0, a)
  }

  function Pt(e, t) {
      if (t) {
          for (var n = "", r = 0; r < e.length; r += 16384) n += String.fromCharCode.apply(null, e.subarray(r, r + 16384));
          return n
      }
      if (Dt) return Dt.decode(e);
      var s = function(e) {
              for (var t = "", n = 0;;) {
                  var r = e[n++],
                      s = (r > 127) + (r > 223) + (r > 239);
                  if (n + s > e.length) return [t, ht(e, n - 1)];
                  s ? 3 == s ? (r = ((15 & r) << 18 | (63 & e[n++]) << 12 | (63 & e[n++]) << 6 | 63 & e[n++]) - 65536, t += String.fromCharCode(55296 | r >> 10, 56320 | 1023 & r)) : t += 1 & s ? String.fromCharCode((31 & r) << 6 | 63 & e[n++]) : String.fromCharCode((15 & r) << 12 | (63 & e[n++]) << 6 | 63 & e[n++]) : t += String.fromCharCode(r)
              }
          }(e),
          i = s[0];
      return s[1].length && dt(8), i
  }
  var Ht = function(e, t) {
          return t + 30 + yt(e, t + 26) + yt(e, t + 28)
      },
      kt = function(e, t, n) {
          var r = yt(e, t + 28),
              s = Pt(e.subarray(t + 46, t + 46 + r), !(2048 & yt(e, t + 8))),
              i = t + 46 + r,
              a = bt(e, t + 20),
              o = n && 4294967295 == a ? Wt(e, i) : [a, bt(e, t + 24), bt(e, t + 42)],
              l = o[0],
              h = o[1],
              c = o[2];
          return [yt(e, t + 10), l, h, s, i + yt(e, t + 30) + yt(e, t + 32), c]
      },
      Wt = function(e, t) {
          for (; 1 != yt(e, t); t += 4 + yt(e, t + 2));
          return [Mt(e, t + 12), Mt(e, t + 4), Mt(e, t + 20)]
      },
      Vt = function(e) {
          var t = 0;
          if (e)
              for (var n in e) {
                  var r = e[n].length;
                  r > 65535 && dt(9), t += r + 4
              }
          return t
      },
      Yt = function(e, t, n, r, s, i, a, o) {
          var l = r.length,
              h = n.extra,
              c = o && o.length,
              d = Vt(h);
          Ut(e, t, null != a ? 33639248 : 67324752), t += 4, null != a && (e[t++] = 20, e[t++] = n.os), e[t] = 20, t += 2, e[t++] = n.flag << 1 | (i < 0 && 8), e[t++] = s && 8, e[t++] = 255 & n.compression, e[t++] = n.compression >> 8;
          var u = new Date(null == n.mtime ? Date.now() : n.mtime),
              E = u.getFullYear() - 1980;
          if ((E < 0 || E > 119) && dt(10), Ut(e, t, E << 25 | u.getMonth() + 1 << 21 | u.getDate() << 16 | u.getHours() << 11 | u.getMinutes() << 5 | u.getSeconds() >>> 1), t += 4, -1 != i && (Ut(e, t, n.crc), Ut(e, t + 4, i < 0 ? -i - 2 : i), Ut(e, t + 8, n.size)), Ut(e, t + 12, l), Ut(e, t + 14, d), t += 16, null != a && (Ut(e, t, c), Ut(e, t + 6, n.attrs), Ut(e, t + 10, a), t += 14), e.set(r, t), t += l, d)
              for (var A in h) {
                  var m = h[A],
                      g = m.length;
                  Ut(e, t, +A), Ut(e, t + 2, g), e.set(m, t + 4), t += 4 + g
              }
          return c && (e.set(o, t), t += c), t
      };

  function Gt(e, t) {
      t || (t = {});
      var n = {},
          r = [];
      Lt(e, "", n, t);
      var s = 0,
          i = 0;
      for (var a in n) {
          var o = n[a],
              l = o[0],
              h = o[1],
              c = 0 == h.level ? 0 : 8,
              d = (v = xt(a)).length,
              u = h.comment,
              E = u && xt(u),
              A = E && E.length,
              m = Vt(h.extra);
          d > 65535 && dt(11);
          var g = c ? Bt(l, h) : l,
              p = g.length,
              T = wt();
          T.p(l), r.push(It(h, {
              size: l.length,
              crc: T.d(),
              c: g,
              f: v,
              m: E,
              u: d != a.length || E && u.length != A,
              o: s,
              compression: c
          })), s += 30 + d + m + p, i += 76 + 2 * (d + m) + (A || 0) + p
      }
      for (var f = new xe(i + 22), C = s, R = i - s, S = 0; S < r.length; ++S) {
          var v = r[S];
          Yt(f, v.o, v, v.f, v.u, v.c.length);
          var w = 30 + v.f.length + Vt(v.extra);
          f.set(v.c, v.o + w), Yt(f, s, v, v.f, v.u, v.c.length, v.o, v.m), s += 16 + w + (v.m ? v.m.length : 0)
      }
      return function(e, t, n, r, s) {
          Ut(e, t, 101010256), Ut(e, t + 8, n), Ut(e, t + 10, n), Ut(e, t + 12, r), Ut(e, t + 16, s)
      }(f, s, r.length, R, C), f
  }
  class zt {
      static METADATA_JSON_NAME = "snapshot.json";
      static LEGACY_METADATA_JSON_NAME = "metadata.json";
      static createZip(e) {
          return Gt({
              "snapshot.json": xt(JSON.stringify(e.metadata, null, 2)),
              "data-heads.bin": new Uint8Array(e.dataHeads),
              "data-tails.bin": new Uint8Array(e.dataTails)
          }, {
              level: 9
          })
      }
      static parse(e, t) {
          let n = new Oe;
          if (n.metadata = Object.assign(new Ie, e), "number" != typeof n.metadata.width) throw "Metadata property wrong format: width";
          if ("number" != typeof n.metadata.height) throw "Metadata property wrong format: height";
          if (n.metadata.formatVersion < 3) {
              const e = t["data.bin"];
              if (!e) throw "data.bin not found";
              {
                  if (e.byteLength % 8 != 0) throw "Buffer length is not divisible by 8";
                  const t = e.byteLength / 8,
                      r = new Uint8Array(new ArrayBuffer(4 * t)),
                      s = new Uint8Array(new ArrayBuffer(4 * t));
                  for (let n = 0; n < t; n++)
                      for (let t = 0; t < 4; t++) r[4 * n + t] = e[8 * n + t], s[4 * n + t] = e[8 * n + t + 4];
                  n.dataHeads = r.buffer, n.dataTails = s.buffer
              }
          } else {
              const e = t["data-heads.bin"];
              if (!e) throw "data-heads.bin not found";
              n.dataHeads = e.buffer;
              const r = t["data-tails.bin"];
              if (!r) throw "data-tails.bin not found";
              n.dataTails = r.buffer
          }
          return 1 === n.metadata.formatVersion && (zt.#_n(n), n.metadata.formatVersion = 2), 2 === n.metadata.formatVersion && (n.metadata.formatVersion = 3), 3 === n.metadata.formatVersion && (zt.#Jn(n), n.metadata.formatVersion = 4), 4 === n.metadata.formatVersion && (zt.#Xn(n), n.metadata.formatVersion = 5), n
      }
      static #_n(e) {
          const t = F.from(e.metadata.width, e.metadata.height, e.dataHeads, e.dataTails);
          for (let n = 0; n < e.metadata.height; n++)
              for (let s = 0; s < e.metadata.width; s++) {
                  let e = t.getElementHead(s, n),
                      i = 7 & e;
                  0 === i && 0 === (e >> 4 & 15) || (0 === i ? t.setElementHead(s, n, r.setType(e, 7)) : 1 === i ? t.setElementHead(s, n, r.setType(e, 5)) : 2 === i ? t.setElementHead(s, n, r.setType(e, 133)) : 3 === i ? t.setElementHead(s, n, r.setType(e, 197)) : 4 !== i && 5 !== i || t.setElementHead(s, n, r.setType(e, 3)))
              }
          e.dataHeads = t.getDataHeads(), e.dataTails = t.getDataTails()
      }
      static #Jn(e) {
          const t = F.from(e.metadata.width, e.metadata.height, e.dataHeads, e.dataTails);
          for (let n = 0; n < e.metadata.height; n++)
              for (let r = 0; r < e.metadata.width; r++) {
                  let e = t.getElementHead(r, n),
                      s = t.getElementTail(r, n),
                      i = 7 & e;
                  switch (i > 1 && i < 7 && (i++, e = 4294967288 & e | i), i) {
                      case 5:
                      case 6:
                      case 7:
                          e |= 4194304, s |= 268435456
                  }
                  4 === i && (e = 4294963455 & e | 3072), t.setElementHead(r, n, e), t.setElementTail(r, n, s)
              }
          e.dataHeads = t.getDataHeads(), e.dataTails = t.getDataTails()
      }
      static #Xn(e) {
          const t = F.from(e.metadata.width, e.metadata.height, e.dataHeads, e.dataTails);
          for (let n = 0; n < e.metadata.height; n++)
              for (let r = 0; r < e.metadata.width; r++) {
                  let e = t.getElementHead(r, n),
                      s = e >> 8 & 15;
                  5 !== s && 8 !== s || (e &= 4294902015), t.setElementHead(r, n, e)
              }
          e.dataHeads = t.getDataHeads(), e.dataTails = t.getDataTails()
      }
  }
  class Kt extends Fe {
      #Zn;
      #Qn;
      #jn;
      constructor(e, t, n) {
          super(), this.#Zn = e, this.#Qn = t, this.#jn = n
      }
      countSize(e, t) {
          this.#Zn.countSize(e, t)
      }
      async createSandGame(e, t, n, r, s) {
          let i = this.createElementArea(e, t, n.getDefaultElement());
          return new Be(i, null, n, r, s)
      }
      createElementArea(e, t, n) {
          const r = this.#Zn.createElementArea(e, t, n),
              s = r.getWidth(),
              i = r.getHeight();
          if (this.#Qn)
              for (let e = 0; e < i; e++)
                  for (let t = 0; t < Math.trunc(s / 2); t++) r.swap(t, e, s - 1 - t, e);
          if (this.#jn)
              for (let e = 0; e < Math.trunc(i / 2); e++)
                  for (let t = 0; t < s; t++) r.swap(t, e, t, i - 1 - e);
          return r
      }
  }
  class qt extends Fe {
      #O;
      constructor(e) {
          super(), this.#O = e
      }
      countSize(e, t) {
          return [this.#O.getWidth(), this.#O.getHeight()]
      }
      async createSandGame(e, t, n, r, s) {
          let i = this.createElementArea(e, t, n.getDefaultElement());
          return new Be(i, null, n, r, s)
      }
      createElementArea(e, t, n) {
          return F.from(this.#O.getWidth(), this.#O.getHeight(), this.#O.getDataHeads(), this.#O.getDataTails())
      }
  }
  class _t {
      static loadImageData(e, t, n) {
          return g.asImageData(e, t, n)
      }
      static asObjectUrl(e, t = "image/png") {
          const n = new Uint8Array(e),
              r = new Blob([n], {
                  type: t
              });
          return (window.URL || window.webkitURL).createObjectURL(r)
      }
      static createSceneFromImageTemplate(e, t, n, r) {
          const a = e.width,
              o = e.height,
              l = F.create(a, o, n),
              h = new s(0);
          for (let n = 0; n < o; n++)
              for (let s = 0; s < a; s++) {
                  const o = 4 * (n * a + s);
                  let c = e.data[o],
                      d = e.data[o + 1],
                      u = e.data[o + 2];
                  const E = e.data[o + 3];
                  if (255 !== E && (c = Math.trunc(c * E / 255) + 255 - E, d = Math.trunc(d * E / 255) + 255 - E, u = Math.trunc(u * E / 255) + 255 - E), c > 255 - r && d > 255 - r && u > 255 - r) continue;
                  const A = t.apply(s, n, h),
                      m = A.elementHead,
                      g = i.setColor(A.elementTail, c, d, u);
                  l.setElementHeadAndTail(s, n, m, g)
              }
          return new qt(l)
      }
      static getImageTypeOrNull(e) {
          return (e = e.toLowerCase()).endsWith(".png") ? "image/png" : e.endsWith(".jpg") || e.endsWith(".jpeg") ? "image/jpg" : e.endsWith(".bmp") ? "image/bmp" : e.endsWith(".gif") ? "image/gif" : null
      }
  }
  class Jt {
      static METADATA_JSON_NAME = "tool.json";
      static async parse(e, t) {
          const n = e.info,
              r = e.action;
          if (void 0 === n) throw "Tool definition: info not set";
          const s = new P(n.category, n.codeName, n.displayName);
          if (void 0 === r) throw "Tool definition: action not set";
          return Jt.#$n(s, r, t)
      }
      static async #$n(e, t, n) {
          const r = t.type;
          if ("image-template" === r) {
              const r = await this.parseImageTemplate(t, n);
              return k.insertScenesTool(e, r, void 0)
          }
          if ("random-template" === r) {
              const r = await this.parseRandomTemplate(t, n);
              return k.insertScenesTool(e, r, void 0)
          }
          throw "Tool action not supported: " + r
      }
      static async parseRandomTemplate(e, t) {
          const n = e.actions;
          if (void 0 === n || void 0 === n.length || 0 === n.length) throw "Image template: actions not set";
          let r = [];
          for (let e = 0; e < n.length; e++) {
              const s = n[e],
                  i = s.type;
              if ("image-template" !== i) throw "Tool action not supported: " + i;
              {
                  const e = await this.parseImageTemplate(s, t);
                  r.push(...e)
              }
          }
          return r
      }
      static async parseImageTemplate(e, t) {
          let n = await this.#er(e, t);
          const r = e.threshold;
          if (void 0 === r) throw "Image template: threshold not set";
          const s = parseInt(r),
              i = e.brush;
          if (void 0 === i) throw "Image template: brush not set";
          const a = U.byCodeName(e.brush);
          if (null === a) throw "Image template: brush not found: " + i;
          const o = F.TRANSPARENT_ELEMENT,
              l = _t.createSceneFromImageTemplate(n, a, o, s),
              h = [l];
          e.randomFlipHorizontally && h.push(new Kt(l, !0, !1));
          if (e.randomFlipVertically)
              for (const e of [...h]) h.push(new Kt(e, !1, !0));
          return h
      }
      static async #er(e, t) {
          const n = e.imageData;
          if (void 0 !== n) return await _t.loadImageData(n, void 0, void 0);
          const r = e.imageFile;
          if (void 0 !== r && null !== t && t[r]) {
              if (null !== _t.getImageTypeOrNull(r)) {
                  const e = _t.asObjectUrl(t[r].buffer);
                  return _t.loadImageData(e, void 0, void 0)
              }
          }
          throw "Image template: imageData/imageFile not set"
      }
  }
  class Xt {
      static JSON_RESOURCE_TYPE_FIELD = "resourceType";
      static createResourceFromSnapshot(e) {
          return zt.createZip(e)
      }
      static async parseZipResource(e) {
          const t = function(e, t) {
              for (var n = {}, r = e.length - 22; 101010256 != bt(e, r); --r)(!r || e.length - r > 65558) && dt(13);
              var s = yt(e, r + 8);
              if (!s) return {};
              var i = bt(e, r + 16),
                  a = 4294967295 == i || 65535 == s;
              if (a) {
                  var o = bt(e, r - 12);
                  (a = 101075792 == bt(e, o)) && (s = bt(e, o + 32), i = bt(e, o + 48))
              }
              for (var l = t && t.filter, h = 0; h < s; ++h) {
                  var c = kt(e, i, a),
                      d = c[0],
                      u = c[1],
                      E = c[2],
                      A = c[3],
                      m = c[4],
                      g = c[5],
                      p = Ht(e, g);
                  i = m, l && !l({
                      name: A,
                      size: u,
                      originalSize: E,
                      compression: d
                  }) || (d ? 8 == d ? n[A] = Ft(e.subarray(p, p + u), new xe(E)) : dt(14, "unknown compression type " + d) : n[A] = ht(e, p, p + u))
              }
              return n
          }(new Uint8Array(e));

          function n(e) {
              return JSON.parse(Pt(t[e]))
          }
          if (t[zt.METADATA_JSON_NAME]) {
              const e = n(zt.METADATA_JSON_NAME),
                  r = zt.parse(e, t);
              return new De(r)
          }
          if (t[zt.LEGACY_METADATA_JSON_NAME]) {
              const e = n(zt.LEGACY_METADATA_JSON_NAME),
                  r = zt.parse(e, t);
              return new De(r)
          }
          if (t[Jt.METADATA_JSON_NAME]) {
              const e = n(Jt.METADATA_JSON_NAME);
              return await Jt.parse(e, t)
          }
          throw "Wrong format"
      }
      static async parseJsonResource(e) {
          const t = Pt(new Uint8Array(e)),
              n = JSON.parse(t);
          if ("tool" === n[Xt.JSON_RESOURCE_TYPE_FIELD]) return await Jt.parse(n, null);
          throw "Wrong json format"
      }
      static async parseToolDefinition(e) {
          return Jt.parse(e, null)
      }
  }
  class Zt {
      #tr;
      #nr;
      constructor(e) {
          this.#tr = e, this.#nr = new Qt
      }
      initFileDragAndDrop(e) {
          ["dragenter", "dragover"].forEach((t => {
              e.addEventListener(t, (t => {
                  t.preventDefault(), t.stopPropagation(), e.classList.add("drag-and-drop-highlight")
              }))
          })), e.addEventListener("dragleave", (t => {
              t.preventDefault(), t.stopPropagation(), e.classList.remove("drag-and-drop-highlight")
          })), e.addEventListener("drop", (t => {
              t.preventDefault(), t.stopPropagation(), e.classList.remove("drag-and-drop-highlight"), this.loadFromFiles(t.dataTransfer.files)
          }))
      }
      loadFromFiles(e) {
          if (!e) return;
          let t = e[0],
              n = new FileReader;
          n.onload = e => {
              let n = e.target.result;
              this.loadFromArrayBuffer(n, t.name)
          }, n.readAsArrayBuffer(t)
      }
      loadFromArrayBuffer(e, t) {
          try {
              let n = _t.getImageTypeOrNull(t);
              null !== n ? this.#rr(e, n) : t.endsWith(".json") ? Xt.parseJsonResource(e).then((e => this.#sr(e))).catch((e => this.#ir(e))) : Xt.parseZipResource(e).then((e => this.#sr(e))).catch((e => this.#ir(e)))
          } catch (e) {
              this.#ir(e)
          }
      }
      #rr(e, t) {
          const n = (n, r, s, i) => {
              const a = _t.asObjectUrl(e, t),
                  o = F.TRANSPARENT_ELEMENT;
              _t.loadImageData(a, s, i).then((e => {
                  try {
                      const t = _t.createSceneFromImageTemplate(e, n, o, r);
                      this.#ar(t)
                  } catch (e) {
                      this.#ir(e)
                  }
              })).catch((e => this.#ir(e)))
          };
          let r = Y.bootstrapDialogBuilder();
          r.setHeaderContent("Image template"), r.setBodyContent(this.#nr.create()), r.addSubmitButton("Place", (() => {
              let e = this.#nr.getMaterialBrush(),
                  t = this.#nr.getThresholdValue(),
                  r = this.#nr.getMaxWidth(),
                  s = this.#nr.getMaxHeight();
              n(e, t, r, s)
          })), r.addCloseButton("Close"), r.show(this.#tr.getDialogAnchor())
      }
      #ar(e) {
          this.#tr.pasteScene(e), V.triggerFeatureUsed(V.FEATURE_IO_IMAGE_TEMPLATE)
      }
      #sr(e) {
          if (e instanceof Fe) this.#or(e);
          else if (e instanceof S) {
              const t = e,
                  n = this.#tr.getToolManager();
              if (t instanceof N || t instanceof D) {
                  const e = n.createRevertAction();
                  n.setPrimaryTool(t), n.setSecondaryTool(k.actionTool(new P, e))
              } else n.setPrimaryTool(t)
          } else this.#ir("Unknown resource type")
      }
      #or(e) {
          try {
              let t = Y.bootstrapDialogBuilder();
              t.setHeaderContent("Import scene"), t.setBodyContent([Y.par(null, "The imported scene can be opened or placed on the current scene.")]), t.addSubmitButton("Open", (() => (V.triggerFeatureUsed(V.FEATURE_IO_IMPORT), this.#tr.openScene(e)))), t.addSubmitButton("Place", (() => (V.triggerFeatureUsed(V.FEATURE_IO_IMPORT), this.#tr.pasteScene(e)))), t.addCloseButton("Close"), t.show(this.#tr.getDialogAnchor())
          } catch (e) {
              this.#ir(e)
          }
      }
      #ir(e) {
          let t = Y.bootstrapDialogBuilder();
          t.setHeaderContent("Error"), t.setBodyContent([Y.par(null, "Error while loading resource:"), Y.element("code", null, "" + e)]), t.addCloseButton("Close"), t.show(this.#tr.getDialogAnchor())
      }
  }
  class Qt {
      #lr = 50;
      #hr = 300;
      #vn = 200;
      #cr = "sand";
      #dr = U.SAND;
      create() {
          return Y.element("form", null, [Y.element("fieldset", {
              class: "mb-3 row"
          }, [Y.element("legend", {
              class: "col-form-label col-sm-3 float-sm-left pt-0"
          }, "Material"), Y.div({
              class: "col-sm-9"
          }, [this.#ur("sand", U.SAND, "Sand"), this.#ur("soil", U.SOIL, "Soil"), this.#ur("wall", U.WALL, "Solid"), this.#ur("wood", U.TREE_WOOD, "Wood")])]), Y.element("fieldset", {
              class: "mb-3 row"
          }, [Y.element("legend", {
              class: "col-form-label col-sm-3 float-sm-left pt-0"
          }, "Background threshold"), Y.div({
              class: "col-sm-9"
          }, [this.#Er()])]), Y.element("fieldset", {
              class: "mb-3 row"
          }, [Y.element("legend", {
              class: "col-form-label col-sm-3 float-sm-left pt-0"
          }, "Max size"), Y.div({
              class: "col-sm-9"
          }, [this.#Ar(), this.#mr()])])])
      }
      #Er() {
          const e = "image-template_threshold-slider",
              t = Y.element("label", {
                  for: e
              }, "Value: " + this.#lr),
              n = Y.element("input", {
                  id: e,
                  class: "form-range",
                  type: "range",
                  min: 0,
                  max: 255,
                  value: this.#lr
              });
          return n.addEventListener("input", (e => {
              this.#lr = e.target.value, t.textContent = "Value: " + this.#lr
          })), Y.div({
              class: "mb-3"
          }, [n, Y.element("small", null, t)])
      }
      #Ar() {
          const e = "image-template_max-width",
              t = Y.element("label", {
                  for: e
              }, "Width: " + this.#hr),
              n = Y.element("input", {
                  id: e,
                  class: "form-range",
                  type: "range",
                  min: 25,
                  max: 800,
                  value: this.#hr
              });
          return n.addEventListener("input", (e => {
              this.#hr = e.target.value, t.textContent = "Width: " + this.#hr
          })), Y.div({
              class: "mb-3"
          }, [n, Y.element("small", null, t)])
      }
      #mr() {
          const e = "image-template_max-height",
              t = Y.element("label", {
                  for: e
              }, "Height: " + this.#vn),
              n = Y.element("input", {
                  id: e,
                  class: "form-range",
                  type: "range",
                  min: 25,
                  max: 800,
                  value: this.#vn
              });
          return n.addEventListener("input", (e => {
              this.#vn = e.target.value, t.textContent = "Height: " + this.#vn
          })), Y.div({
              class: "mb-3"
          }, [n, Y.element("small", null, t)])
      }
      #ur(e, t, n) {
          const r = this.#cr === e,
              s = "image-template_checkbox-material-" + e,
              i = Y.element("input", {
                  class: "form-check-input",
                  type: "radio",
                  name: "template-material",
                  id: s,
                  value: e,
                  checked: r || null
              });
          return i.addEventListener("click", (() => {
              this.#dr = t, this.#cr = e
          })), Y.div({
              class: "form-check"
          }, [i, Y.element("label", {
              class: "form-check-label btn btn-secondary btn-sand-game-tool " + e,
              for: s
          }, n)])
      }
      getThresholdValue() {
          return this.#lr
      }
      getMaterialBrush() {
          return this.#dr
      }
      getMaxWidth() {
          return this.#hr
      }
      getMaxHeight() {
          return this.#vn
      }
  }
  class jt extends X {
      static #gr = U.AIR.apply(0, 0, void 0);
      getDefaultElement() {
          return jt.#gr
      }
      getBrushWater() {
          return U.WATER
      }
      getBrushLava() {
          return U.LAVA
      }
      getBrushGravel() {
          return U.GRAVEl
      }
      getBrushSteam() {
          return U.STEAM
      }
      getBrushGrass() {
          return U.GRASS
      }
      getBrushTree() {
          return U.TREE
      }
      getBrushFishHead() {
          return U.FISH_HEAD
      }
      getBrushFishBody() {
          return U.FISH_BODY
      }
      getBrushFishCorpse() {
          return U.FISH_CORPSE
      }
      getBrushFire() {
          return U.FIRE
      }
      getBrushAsh() {
          return U.ASH
      }
      getTreeTrunkTemplates() {
          return b.TREE_TRUNK_TEMPLATES
      }
      getTreeLeafClusterTemplates() {
          return b.TREE_CLUSTER_TEMPLATES
      }
  }
  class $t {
      #pr = {
          scale: .5,
          canvasWidthPx: 700,
          canvasHeightPx: 400,
          scene: "empty"
      };
      #Tr;
      #fr;
      #Cr;
      #kn = null;
      #Rr = "pixelated";
      #Sr = [];
      #vr = !1;
      #wr = !1;
      #Or = Ae.canvasWebGL();
      #Ir = null;
      #yr;
      #br = new Zt(this);
      #Mr;
      #Ur = null;
      constructor(e, t, n) {
          e && (this.#pr = e), this.#Mr = t, this.#yr = n, this.#Tr = Math.trunc(this.#pr.canvasWidthPx * this.#pr.scale), this.#fr = Math.trunc(this.#pr.canvasHeightPx * this.#pr.scale), this.#Cr = this.#pr.scale
      }
      registerCanvasProvider(e) {
          this.#Ur = e
      }
      getInitialScene() {
          return this.#Ir
      }
      setInitialScene(e) {
          this.#Ir = e
      }
      setup(e) {
          this.setInitialScene(e), this.#Br(e)
      }
      #Br(e) {
          if (null == this.#Ur) throw "Illegal state: canvas provider not registered!";
          if (null == this.#Mr) throw "Illegal state: dialog anchor not registered!";
          const [t, n] = e.countSize(this.#Tr, this.#fr);
          t === this.#Tr && n === this.#fr || (this.#Tr = t, this.#fr = n, this.#Cr = +(t / this.#pr.canvasWidthPx).toFixed(3));
          const r = new jt,
              s = this.#Fr();
          let i;
          this.#kn = null;
          try {
              i = e.createSandGame(t, n, r, s, this.#Or)
          } catch (e) {
              return void this.#Lr("Initialization failed: " + e)
          }
          i.then((e => {
              this.#kn = e, this.#kn.graphics().replace(F.TRANSPARENT_ELEMENT, r.getDefaultElement()), this.#Nr.forEach((e => e(this.#kn))), this.#kn.addOnRenderingFailed((e => {
                  this.#Lr("Rendering failure: " + e)
              })), this.#kn.startRendering(), this.#vr && (this.#kn.startProcessing(), this.#Dr.forEach((e => e())))
          })).catch((e => {
              this.#Lr("Initialization failed: " + e)
          }))
      }
      #Fr() {
          const e = this.#Ur.initialize();
          let t = this.#Or.getContextType(),
              n = this.#xr(e, t);
          return "webgl2" === t && null == n && (this.#Pr("Unable to get WebGL context. Using fallback renderer; game performance may be affected"), this.#Or = Ae.canvas2d(), t = this.#Or.getContextType(), n = this.#xr(e, t), V.triggerFeatureUsed(V.FEATURE_RENDERER_FALLBACK)), n
      }
      #xr(e, t) {
          return "webgl2" === t && e.addEventListener("webglcontextlost", (e => {
              e.preventDefault(), setTimeout((() => {
                  this.restartAfterRenderingFailure("WebGL context loss detected. Using fallback renderer; game performance may be affected")
              }), 2e3)
          }), !1), e.getContext(t)
      }
      #Hr() {
          null !== this.#kn && (this.#kn.stopProcessing(), this.#kn.stopRendering());
          for (let e of this.#kr) e()
      }
      enableGlobalShortcuts() {
          document.onkeydown = e => {
              if (!e.ctrlKey || e.altKey || e.shiftKey || "Enter" !== e.key || (e.preventDefault(), this.switchStartStop()), !e.ctrlKey || e.altKey || e.shiftKey || " " !== e.key || (e.preventDefault(), null !== this.#kn && this.#kn.doProcessing()), e.ctrlKey && !e.altKey && e.shiftKey && " " === e.key && (e.preventDefault(), null !== this.#kn)) {
                  const e = prompt("Enter the number of iterations to run", "10000"),
                      t = Math.abs(parseInt(e)),
                      n = new Date;
                  for (let e = 0; e < t; e++) this.#kn.doProcessing(), e % 2500 == 0 && console.log(`Performed ${e} of ${t} iterations`);
                  const r = (new Date).getTime() - n.getTime();
                  console.log(`Performed ${t} iterations in ${r} ms`)
              }
          }
      }
      getSandGame() {
          return this.#kn
      }
      getCanvas() {
          return null !== this.#Ur ? this.#Ur.getCanvasNode() : null
      }
      #Nr = [];
      #kr = [];
      #Wr = [];
      #Dr = [];
      #Vr = [];
      addOnInitialized(e) {
          this.#Nr.push(e)
      }
      addOnBeforeNewSceneLoaded(e) {
          this.#Wr.push(e)
      }
      addOnBeforeClosed(e) {
          this.#kr.push(e)
      }
      addOnStarted(e) {
          this.#Dr.push(e)
      }
      addOnStopped(e) {
          this.#Vr.push(e)
      }
      restartAfterRenderingFailure(e) {
          this.#Pr(e);
          const t = this.createSnapshot();
          this.#Or = Ae.canvas2d(), this.openScene(new De(t)), V.triggerFeatureUsed(V.FEATURE_RENDERER_FALLBACK)
      }
      #Pr(e) {
          console.warn(e);
          let t = Y.bootstrapToastBuilder();
          t.setHeaderContent(Y.element("strong", {
              style: "color: orange;"
          }, "Warning")), t.setBodyContent(Y.par(null, e)), t.setDelay(2e4), t.show(this.#Mr)
      }
      #Lr(e) {
          console.error(e);
          let t = Y.bootstrapToastBuilder();
          t.setHeaderContent(Y.element("strong", {
              style: "color: red;"
          }, "Error")), t.setBodyContent(Y.par(null, e)), t.show(this.#Mr)
      }
      start() {
          null !== this.#kn && (this.#vr || (this.#kn.startProcessing(), this.#Dr.forEach((e => e())))), this.#vr = !0
      }
      switchStartStop() {
          this.#vr = !this.#vr, null !== this.#kn && (this.#vr ? (this.#vr = !0, this.#kn.startProcessing(), this.#Dr.forEach((e => e()))) : (this.#kn.stopProcessing(), this.#Vr.forEach((e => e()))))
      }
      createSnapshot() {
          let e = this.#kn.createSnapshot();
          return e.metadata.scale = this.getCurrentScale(), void 0 !== this.#pr.version && (e.metadata.appVersion = this.#pr.version), e
      }
      openScene(e) {
          for (let t of this.#Wr) t(e);
          this.#Hr(), this.#Br(e)
      }
      pasteScene(e) {
          const t = this.getToolManager(),
              n = t.createRevertAction();
          t.setPrimaryTool(k.insertScenesTool(new P, [e], n)), t.setSecondaryTool(k.actionTool(new P, n))
      }
      getCurrentWidthPoints() {
          return this.#Tr
      }
      getCurrentHeightPoints() {
          return this.#fr
      }
      getCurrentScale() {
          return this.#Cr
      }
      changeCanvasSize(e, t, n) {
          if ("number" != typeof e || !(e > 0 && e < 2048)) throw "Incorrect width";
          if ("number" != typeof t || !(t > 0 && t < 2048)) throw "Incorrect height";
          if ("number" != typeof n || !(n > 0 && n <= 1)) throw "Incorrect scale";
          this.#Hr(), this.#Tr = e, this.#fr = t, this.#Cr = n, this.#Br(new Le(this.#kn))
      }
      setShowActiveChunks(e) {
          this.#wr = e
      }
      isShowActiveChunks() {
          return this.#wr
      }
      setRendererInitializer(e) {
          this.#Or = e, this.#kn && (this.#Hr(), this.#Br(new Le(this.#kn)))
      }
      getRendererInitializer() {
          return this.#Or
      }
      setCanvasImageRenderingStyle(e) {
          this.#Rr = e;
          for (let t of this.#Sr) t(e)
      }
      getCanvasImageRenderingStyle() {
          return this.#Rr
      }
      addOnImageRenderingStyleChanged(e) {
          this.#Sr.push(e)
      }
      getToolManager() {
          return this.#yr
      }
      getIOManager() {
          return this.#br
      }
      getDialogAnchor() {
          return this.#Mr
      }
  }
  class en extends Fe {
      name;
      description;
      #Yr;
      constructor({
          name: e,
          description: t,
          apply: n
      }) {
          super(), this.#Yr = n, this.name = e, this.description = t
      }
      countSize(e, t) {
          return [e, t]
      }
      async createSandGame(e, t, n, r, s) {
          let i = this.createElementArea(e, t, n.getDefaultElement()),
              a = new Be(i, null, n, r, s);
          return await this.#Yr(a), a
      }
      createElementArea(e, t, n) {
          return F.create(e, t, n)
      }
  }
  class tn {
      static ROCK_SM = {
          info: {
              displayName: "Rock SM",
              category: "template",
              icon: {
                  imageData: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAwCAYAAAChS3wfAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVRoQ+2WO28cRQCAv5l93p69do5zTsQFBkehiJBRhKAxSNBRUCSFqfgBNEgRoqBLmS4lFIiKBv8BuiChoGBCZBxjiBDGTmHs6OLHPbzv2aEgAXtpswvS7tftp5mR5tPM7prUHLMo6kYToCjqRhOgKOpGE6Ao6kYToCjqRhOgKOpGE6Ao6kYToCjKZunKOzrNQhA5bW8Cr91hZeUOa+sboji2CioN8Mbrr+ooHpGpFKUihsMhz81N0eudYwH0fxGh1ADLy8v20tJS8uRZ6pzx8QgpQUqNEHCw36fddnl+bp619Y2T0yuh1AAnN3/t2kcvf3/7O5I0QqmUOEnIlSQYP8Sf7JDnioWXLlZ+CkoNcJJHu/3VVy5d4v79n+n3+xgYJGGCSlP8mWc5ODpiZrpTnFY6lQUYj0b4/gRtb5IDeYRKwRQSAcRhhFYKAby1uKhv3rpV2SmoLECWZQTBMVPTU+zs7JKoFNOw0TJjPBqQCxACkiyt9CpUFsBtuYxGI3q9cxhCkOcKyzCRQhBGEU7LRWuNlJIz/nRxemlUEuC9d69oISTBccDho31c1yUcB6gsQxqSluOgtCZOEjrdswzHo8pOQSUBTNOk232GJAwxDEm322VvZxdpSAwMAIQQQE6mUkzLYn6+ms9iJQEMNG3Xw3Ud0jjCtW0mJlpkSqMSdWpsFEW4XovNzc1TvixKD/Dxhx/o33/7Fa0z8lwRBSFZlnG212NwNGSYjP4eKzTEQUDb8+hMTvPJjRtz71+9uv3Pak+f0gOs3f2BbrfDvdV1ZmdnsaRNFEVYloNpOgRRH8txCIKILMtwWi2ODg4ZByGffv7ZFlDqe6D0APuHAzzPJQgitra3iOMYlWX4/jSDwQDf97FtmzCMkaaJ1jlCmOR5zr31X0rdPFQQYGVtQwAa4Pz5F3BTxfaDBxiWQxBHoCVBnBAEAa7XwnJamIaN7Xp8df363NuXL2+fXvHpUnoA+CvCm4uL+o+HhwB4Ez5KC6RpEccxpjBxvRYzMz329vrc/em2ALj57Ten1imDSgIAfP349/a1hYvamzxDloNpuxiWQxzHvHjhAl98uVz6kS9SWYAnPL4S/+LO6o9FVQmVB/i/0QQoirrRBCiKutEEKIq60QQoirrRBCiKutEEKIq60QQoirrxJ1JCV8S5Z+TMAAAAAElFTkSuQmCC"
              }
          },
          action: {
              type: "random-template",
              actions: [{
                  type: "image-template",
                  imageData: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAATCAYAAACdkl3yAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC7UlEQVQ4T62UPW9cRRiFn5k793Pt682yzoq4wOAoFBEyihA0Bgk6CoqkMBU/gAYpQhR0KdOlhAJRpcF/gC5IKCiYEBnHGCKEsVMYO9rY3t27vp8zdyjAa6+ddJzyaM6j94zeGcX/JHXaAFi89oGtdAaiphFNEDVaLC/fZ3VtXZw+e6QzoHfeftPmRYI2FcbkDAYDXpqdotO5wDzY58HU0tKSt7i4WB4Z0tYMDxOkBCktQsD+XpdGI+Dl2TlW19ZP5kdSJyE3bnz2+k/3fqSscoypKMqS2kjS4RPiyRZ1bZh/7fIzpxqr9nSnu/LGlSs8evQb3W4XB4cyKzFVRTz9Ivu9HtPN1snISGOgYZIQxxM0okn2ZQ9TgRISARRZjjUGAby3sGDv3L07NtUYSGtNmh4y1Zxie3uH0lQox8NKzTDpUwsQAkpdnak4BgrCgCRJ6HQu4AhBXRtcRyGFIMtz/DDAWouUknNx82T0GPTRh9esEJL0MOXg6R5BEJANU4zWSEcS+j7GWoqypNU+z2CYjE01AimlaLdfoMwyHEfSbrfZ3d5BOhIHBwAhBFCjTYVyXebmjtdhBHKwNIKIIPCpipzA85iYCNHGYkpzdAyAPM8JopCNjY2RpwA+//QT+9eff2Ctpq4NeZqhteZ8p0O/N2BQJqOAsFCkKY0oojXZ5Itbt2Y/vn59SwGsPviZdrvFw5U1ZmZmcKVHnue4ro9SPmnexfV90jRHa40fhvT2DximGV9+/dUmIBTA3kGfKApI05zNrU2KosBoTRw36ff7xHGM53lkWYFUCmtrhFDUdc3Dtd+PL3t5dV0AFuDixVcIKsPW48c4rk9a5GAlaVGSpilBFOL6Icrx8IKIb2/enH3/6tV/qx3B3l1YsH8/OQAgmogxViCVS1EUKKEIopDp6Q67u10e/HpPANz54Xvg1EJ+99/avzV/2UaT59A1KC/AcX2KouDVS5e4/c3SmQcLz/iPYFT1jO6v/HLaGukfK6ZXUFEV3tAAAAAASUVORK5CYII=",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0
              }, {
                  type: "image-template",
                  imageData: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAALCAYAAACQy8Z9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB6klEQVQoU7WSzU4TURiGnzNz5qfTMkEMaFkg0XgXbePCcAWscKXeSG+GRAVvgLgw6J4ASwKr0kCBTmf6M2dmzum4aKhQY1z57M57zvfkTb4j+Q/IxWCRVqNZKjVmefkJtVqVMAzR2lAUOZ/3vorF9/AXaavRLAE8zyHPc4SwiOOYm5sbpLSZ3Xm0Gs1yOIw5Oj55JJ9LW41m+XRlhSxP0dpgjKYoCqS08TwPYzSTyexs25KyLBkOY+r15xwdnzx0zqT3zZIkQTqzJq7rYts2taDKZDxmkqYk05hBP8KREum52LYkSRLetJrl98Mf87YSYL1eZ5KmZFnG0lIVAK0LsixDKYXruqyurvJsbY1Op0OeF0yyFKUUWhcEQZWtrbflwcE3MZcCVHwfKW3G4xFhGOJ5NaR02NzYoNPpcHnZpdfrkRc5QgiwBI4jUUohhCBKBrx++ao8uzgXEuDT3hfx8f2HsuL75IUiDEOMmTIYRJyenNLrXSOEhTaaqTEIYSGwwALf99HaUA2qjOIRj5qqPGNj8wXRXZ9u94rrq2uGoyFRPyKoBjjSwbZsUpUDhnc7O3a73Z7ezz9kLt3d3RXb29ulyQtu726pVAKifkR9fZ3Dn7+XcE+73V6M5jz6p/v7+38Mn12cL0b/5Bf4ONku8uljuAAAAABJRU5ErkJggg==",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0,
                  randomFlipVertically: !0
              }, {
                  type: "image-template",
                  imageData: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAASCAYAAABfJS4tAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFklEQVQ4T7XUz2ucRRzH8fc8z+zMs88++yvG1GRrhUKLWOKhxTZYqeBBinrwUr34X4l4lyLoqQcFxZLakJb+sF7ExkAuSmh2m/3R7JN95vk9HpYkVkJsDn6Ow3xfDDMfRvI/Rf574ahceuuiPTH/Ckop4shQrwdsbm4CMBgMefzHmtjb+0LwtWvXrNaa4XafJEkYDQakacZoOMSVEsdxmJubY2Fh3t5cXhZwCHz50kWrtQZgYhLuP3wgJuMQ/ZICYH7uBOrkqxRZxsbGBtJxMcagqh5PnmztO/vwB1fftzWvSmQMVc9DCMG8Upx7/awd7jxjNwyx1rKzs4MrJVpKTp16jbW1NVrtFiaOcR2HxTfO2d8e/y4kTO9u1B8Sex5SCl6eaSOEi+/7rK+vI5XCWovWinD8jLIsGQwGaK1pNAPKMqe0lloQYK09OHEYhniug680eZLxtNslTQsAlFK4rkteFNRrAXFkyPJ8OuxKhBCEYYiu+vh+jTiOD+A3Fxfpd7fob/XwfR+bQxD4AGitkLoCgC1yZmfaJFlKq9HEdV1MmlD1PIKgxqDfx1XTvRKg2+sx6j2l3WphjKEoCiITAyVe1SOODMJ1sNbSarWZnZ1lYmKstRSjEYXOUUpRlCVSTBsnAX5euS3eu3zFRvEuwquw8ugXcfXKuzbcDTFJhhCCdr3O9vY2Qgji2JDlGdJ1SbOYWuCTJAnNZpOFkx1W7947aMXynZX9cgP8sHJbLF04b+M4RimF79c4fbrOeDwmtwWeVyUIakRJTKfT4c7qXc6cOctX178+vMf/zL1Hv4qlC+dtsyIZ704QQiCES7PeJM9z/vpzk6DZoLvVo9Fu41Tc/dkjYTjApZQsdDoUZUGcJoQ7YxzHwUSGSTSZVq/R2J/7Txim+GeffmK7vS6TKMJxHMqyxHEcsjTFcVzaszN8/sWXx/srAK5/8634+KMPbUVWSNOUNEuxpUVrjTERt26sPvdGLwwD3Pjue/HO20tWCEHQaLAzHHJr9XlwL8eCAbKsRCmXH3+6eSi4l2PD9x8+OBLcy99QElUk8fCpxwAAAABJRU5ErkJggg==",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0
              }]
          }
      };
      static ROCK_MD = {
          info: {
              displayName: "Rock",
              category: "template",
              icon: {
                  imageData: "data:image/png;base64,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"
              }
          },
          action: {
              type: "random-template",
              actions: [{
                  type: "image-template",
                  imageData: "data:image/png;base64,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",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0
              }, {
                  type: "image-template",
                  imageData: "data:image/png;base64,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",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0,
                  randomFlipVertically: !0
              }, {
                  type: "image-template",
                  imageData: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAgCAYAAAC7FpAiAAAACXBIWXMAAAsTAAALEwEAmpwYAAALF0lEQVRYR92YW4wk1XnHf6fOqVvfbzPDzLAXyC67GJCVjVnAOMaRcUyABMnGyA+WHOUhDpEiZx+sPOcpT4miPCSRn2LJihziWCYBK2ASA0I43sVcd4dlYWcvM9Nz65nprqru6qo6VScPvbvswnILtuLk/1ZVrfq+X33X04r/B1LvvPF/Ue8L8acPf8PUG3XSNOUv/vKvxTuf/6roEsS3vvlHJssyxqMYx3FI0xQLzdK5RRr1Ot/6k2+Y0XBIqVwmSRJGwyFJklCpVimVfJSyyXPNcDi6/P0URYHruvzNt//hl/YRFMCX7/mcicOAJElQSjGKAiqVCsl4hGtLepvreJ7H3Nwcm5ubOI5Dp91EKYUxBmlJ0iwlHkbUq1VGoxGWZRHHMVmW0axX+fM/+6aJ45hatcGxF45R8kuMs5R/efzHHxtOATQqZaQp8GyFVJJKyWE4GuJIheM7mCyFIifY6lHxXJIkYbvfJ0kSSuUSaZIghMD3S4TbW/h+CSGg2mried4FU4aq77F09i1mOm1eP/k6llLcdvM+87Pjb30sEAUQhQNqlTJRFOK4Lhgbk2dIJdHpGFdJdK6JwoDRcIiwBEIIhLCYbrcYDAaM4phkPCJLU5LxiFazhU7H5PJK/5QlePnVV8m1pre9TaPR4jOHbjad6Sk8t8T3Hn38IwMpgH964jnx+1/6HeM4iu3tHpZlMTPVxpicIIhwlI0lBK6yKLWbKCmxLAthWWz3NnBdl7LvMoxjCpOz3l2jXq+yttKlKAqmp6fxfZ84jrGE4PCnDnH0hReo12pkOsMzBefPnKNSKXPowD7j+B4HbjjIdx75/ocCulTYKTbVchVfZzTqVYzOmJ2ZodA5tpQEgwjP85AIls8v0Wg0GA6HVKtVeoOA8XhMrVHHVQplWfTWN/Bcl1Ecs3TuPDrLEEIwznKGUUSapbiuSzKI2NnZQUqbeDii0DnDIOTnx45y+y2fMG6pzDM/O/a+MJcg/vEH/yq++sB9plWv0l1ZwVESCk2r3mYwGKCUYnllGdd1mZqaotfrIaVEa021WmVubo6lpSVqtRpzs3MYUxAEAZ7n4zgOYRiy1etRrtaZn59HuQ5aF5w7u0SaalKdkYwzdJ4jhMC2FfFwiJQ2n/71T5rnX3rlPUGumBPRcIjrguP7tGtVKDTLy8vYtk3ZK1MrVXAch7VulxsP3sjimUXi4QhH2exsbbF31262+jsoywIsrt97HX65RG9rCyEEjXqd88td8iLHsRSOA7fccgtROKQfRoRhxM52H61zxnGKVIrRKMIt+Ry6+YBpdtrc/8BXmkeOHOlf7vcVEI899bT4+kP3Gcex6YcBvpL0+3127dpFPB5jSetSJAaDAXv37CUMQ8IoBODM2TO0Oh2mp6fp9/uEYUiSpdhKUa1WJ/NlNCIIApTrUSnX2LfvBjwvxxmnZFmGsm0sy6IoJFrnSCmpVCp011YJgoBHf/jIDnBFVN41sZuNJlG4gzaGNJ10qJWVFXSiGQwGHDh4kCIvkJ7C8zzSXF9IDU2e5xRFwebm5qWZI4Rgc3OTZquF53nceeedLCws4JXKbGz0WO6u0Gq1KVdL7Kvv58UXXySOY8qVMnfcfjvdbhflOjiOQxAEpFnOrb/xSXPs52+n17sg1jY2KXsTx/NkjBKKTqdDtVql2WpR8n0AXNe9kLs21oWWa1kWWmuGwyGNRoPxeIwlJZ1OhyzT2Lai3+8TDSOCaIhSLr1ej5WVFWZmZ/FLPq1Wi6IoSNKE1dXVSTORkiQeI6VFFAR0ZmY4fPiQOXr0RQFXgfjeD58QX77308b3fertNnmWMTU1he+4jMdjhGVwHAfLguEoIohCdK7JtUHnGlMY6vU6URTRaNQRlsUgGtJsNVntdtEFVKtVVrrr+D7ESUqapoziEUII6vU6YRiS5zn1Rh2AEydOXNoMbNuaNBX7bdffBQEgLY/9N+xl8dRJRJHT623QbLQRBpIkwbIsjDFE0RDHcxCWwBIGIQSZzi5FAiAMApSSbPV6DAYh3bU19u/fT6ejaTSaLHdXmZubJ8lSMp2xsd6j0+nQbrdoNpoce+EYuijIjSFPMvxyiSKdpOpFXRXikcf+U/zBQw8Zt9xmHPXYf+AAJp8U2ThOyIsCx3Wo2za2rdB5TjCICIKAqZlZarUaWmckScLp02fYs2cvxghmZ+cYhEOWllaYmb2GNEvJiwKtE249fJhjR4+BJWh1pknTlOMLJ9npB1iWhVQKS1oYI5DSYeHEqfeuiYtqtNoIy1CvuqysrlEplUjiMe12G7QmTVMcxyEvCmzlUq1O6iIIArTOsB0H3/OYmZmhVC5hicnzoihQts3i4hkOHjzAbbcd5tzZc2z1tmg0WszMXkuv16Pf77O5uflOt0iSBL9cuuLee0L81d//nfjjr3/NBIMIneR0u2eRWNhOiUq1jNCaJNW0my2UclAqYRynxHGfSqXC7l27WFhYIE0zLCHwPI/z588TBAGj0YhDt36KmZlryPKCWq3GKB6xsbHB7r3Xsb6+ThQNL7RY6wq/hBC88tqJ92+xl+tvv/Nd8Ydfe8iEWrNn735OL77J+tY2WlhUq2XQOYNwSKUCjufSnp4iThOuvXaezc1NSqUyCwsLtFpNbMfhtdeO45cnA3N+fp4iL9jY2CAIAhKdE4R9XnrpRSxLYUwxiXSur/CpXCpfcQ0fAAHw7e8+IgAe+MJdptGZIhgEDOMVlG3TatSYnZ0miCJqtRrb21vMz89x+vQinucxHEY8+OCDnDhxguPP/xTbVpTLZer1Oq1mk83NTZaXlxlnKTrLSHRBUQAixZICMORpgeO6pDrDs/3LVvu39YEQF/Xoj58RX7r3bpMWBQeu38f87Ayvn3ydp3/yLHd/4fMsLi7SarcnHcuxKZdLGGNYXV3jpptuQimb1dUuN950C2fOnmV1bQ0lJVmWobOMTOsJAADykl2/5JPrnFqtRq5znj/27mXwQ0MA/OBHT4n7Pn+XOXf+HItn3mLvrt3c+dnfZGb6GsbjMaMo4uD+A2xvbwGgdU61WuHUqTe5/vrrCIKA06dPMzU1xcLCAnfccQeZ1mRphi7MxIhlgclBTEBc1ya/sO7kMr/oyhX6SBAAj//HMwLg/rs/a84tL9GIGkRRxFS7g5IOve0deuuTM0mpXGZpaYXZ2TleeeU4SabJsozdu3ezEwwIwxCdZeRaY8SkgEVRIC2JQFAIkJZFuVYm1Tl+abItvFMfGeKiHnvqWfHg/b9t1lY3WOuuclK8yc03foJ6vU5uBNdcM0cQBOy57td4+eWXaTSaWGnCG6feYLm7hrQUO9sD8qJAWAJpJidFIQSWEEgpEVIigGgYIaTi6E9fe1cqwceAAPj+Y08KgK/+3j1mZ3uHN958C79UQicpWV6QZhnrvS0s5eB4PvE4wRSC8TglDEesrq9hCoFAoexJ+kx2sMkQlVJd2IIlzXbnCtuX62NBXNRdv/XF6x4+cuTsV+79otna2qLQOW+8dZos04RhSL1eZ2cQEoYhrl/i5Kk3J6lUFBhhIaXEiMlHlkohpY20baSUWHmBKeDJZ5+7ahTgFwTx8JEjZwH++UdPXDL00O/eZ3Z2+sSZJjPQ6/cnu1UyOZZ61RpBECCUBUJgmEQBqbCUg6UUylIoWfBfx199TwD4BUFcTY/82/v/a/HAPfcZvxSws7ONlAqlJFIq4nhEuVrHthWjcPiBAPBLhPggPfrvV4e86zOfM3EaU6lVePKZn1z1N+/U/xrEe+mZ557+UI5frl85iP+J/hsrK0NCDSo5ZgAAAABJRU5ErkJggg==",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0,
                  randomFlipVertically: !0
              }, {
                  type: "image-template",
                  imageData: "data:image/png;base64,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",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0,
                  randomFlipVertically: !0
              }, {
                  type: "image-template",
                  imageData: "data:image/png;base64,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",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0
              }, {
                  type: "image-template",
                  imageData: "data:image/png;base64,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",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0,
                  randomFlipVertically: !0
              }]
          }
      };
      static ROCK_LG = {
          info: {
              displayName: "Rock LG",
              category: "template",
              icon: {
                  imageData: "data:image/png;base64,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"
              }
          },
          action: {
              type: "random-template",
              actions: [{
                  type: "image-template",
                  imageData: "data:image/png;base64,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",
                  brush: "wall",
                  threshold: 50
              }, {
                  type: "image-template",
                  imageData: "data:image/png;base64,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",
                  brush: "wall",
                  threshold: 50,
                  randomFlipHorizontally: !0
              }]
          }
      };
      static CABIN = {
          info: {
              displayName: "Cabin",
              category: "template",
              icon: {
                  imageData: "data:image/png;base64,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"
              }
          },
          action: {
              type: "image-template",
              imageData: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAkCAYAAAD2IghRAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAFcUlEQVRYR82Y3W4TRxTHf7vetb2Osd2AY18kogqpKkETSC7sUEEAqep9L7jhEfoYfYA+BqqUN6hUKNyUQgnioxcVigOqIR84ITHGG3u9M73YzHr9tXZIgP5udj1n9sx/Zs7MmbHBR2Jp6YpsNBrEYjHu3r2jdduPitFdcFQKhaKMRCIIITCjJq5wKRYXpXBdHvz14Ng6cGzCFxcvSiklZtRESsne3h5CCPSITjqdRkqDQqEodV3n3r0/Ojrww/ffyWjcwjRNIhqsr67x66NHoZ08kvCrV69JIQQArnABqO5VAZg91fDrPduuIqUkeSKJrutcvrwkTdPk1q3fNAApdVxNx2jYtAwTDc9nGB8k/NKly9JxHFzXE4sWFNwCXBJWEoBkMsY3bAMRnlZqaJpGOp2m6TQpFhclQHlnh7NGlpZpEDUMNEIHGzik8Pn5BRkxImi6hhk1/XDQNK1HcCrlPROWQa3mvc+eqgHw5I1A13VS6RS6piOiJk/WN4jHY3w1cRLDjDOMocILhaJ0HAdN00ilUriuy9udtwghuJCTgDfqSrAiYRnU7RZRa4x8zivb2PSec9kaEOHx1luklEQMgy8yGVzh8uzf9fZMhjBQ+MWL30p73yYej2NZFltbW+zv7wP4goNi1Qgr6nYLgN2dPb9M1UkmY9RqDc5PeDMAksdb28RiMVKpFFJKLlyYl/F4vGchK3qEFwpF2Wg2MAyDdCpNpVJBCMF8Xo1ChIRlkc9lfHGHRddN8jnLnwHgoBOCv3dcHMchm80ipGB2dk5alsX9+392dMAXfuXKVbm/v080GsWMmlSrVYQQnJ9wgHYo5HMZ9QmZ8bT/Dt7oqrLgSHfXU+RzELXGAGja79nY3OXcuFoH2+i6TjrjfVssLsp4PM6dO79rAEahUJQArutimIa/4OayLuAykT1JrdboEKxo2u+7i0YuUwQ7mM9l2Nj0QmmOXcDlaWUPNDiRSuEKl0KhKKUQGG6rhSsFTsvBaTrMZZu+I4CtN9sAlF6oePz41O12W7OnvBB9WqliRk2EK7xBfrjy0I+dG9fOyukvJ/2PwFtkCatnKXwG1rl5+4mvtUfRxubuwZTtAt60qWrK9qlRWoL0CK/btY6wqNs1tt607Z8yZDqJdPzqEa52j7ptk7CsLuunJaihbtsdth7h7TDpzV7BvTszng7dLRT9pnl03I6wDdIjPMigbAid21gY3T5GJWEZlF7UBia5UOFBNjY3uosAyOfy3UUjcVR/ocLVQSkznubnX/pfv3768WvZXaYyaPAJXnip95u3/wn1NywMQ4Urwpw07ff+dKqOQjuU1DNhGSOFl/I3LHeEWw8YFGfQaRu1Xhij1gsVHrXGiFrhCzFhGf5BKXjI6mbQAawfg3wECRUeDINB1O0WdbstJExUmC3I7s7e0UJlmOiPybC2Q4VXq7WRLwxqYQ4aqaBtmL+EZfRNOkH6t3JAKpUc2ohC1QurH2YLUrdb5HOZ0HNRqPDg9vZ/I1S42lUAblzrTTQw2g7Qj2H+wnIHDBEeTAbdFwxFdwIKI1hvFH9hhLd0wCiO4HjrDRuEcCsfHgqHYadSASA5ZnXc+sMYKnyYg+MgOda+sHS3l7AMqt7fkh30CC+9KPd9/1y0NQy4ui0tLcnGeBYpJeVymcnJSXRdR9O802epVOLMmTM4jkO5XGZqaopIxHOmaRpS9t0kBqL8qj9Ng5RKJaanpwFotVq8evWKqakprl8/J5eXlzU4ED4/Py+r1Srv3r1DSommabx8+RLw/ihSjp8/fw6AlJK1tTUOy8zMTMdAqM7qus7k5CSvX7/m9OnTzMzM4Louq6ur/rerq6vous7CwoJcWVnR/gMS6rip19cCIwAAAABJRU5ErkJggg==",
              brush: "wood",
              threshold: 50,
              randomFlipHorizontally: !0
          }
      };
      static SAND_CASTLE = {
          info: {
              displayName: "Sand Castle",
              category: "template"
          },
          action: {
              type: "image-template",
              imageData: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAOCAIAAACtuNvgAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB5UlEQVQoz1XPy04UURAG4Ko6t+6eGRkl0dGFLly5cOv7+AY+itEVCStDfBg1JhICbCQIiAmCc6FP97mXi9EJXZtK/sqXqkJmhv91/PktM7x49QaGdXm4x0pnZ5++fL1OaDM7P9xTciyFPjv4cNecfNsNXNq+db7bjP6x7193gm+ZgtYm39l/9OW9QIyu7RZXRCJEu87luuWcfAqCBI4m2S83rGqmSjYo+8RBCIopDpjSejJ9kktw3UKresNyDq1tkaCutr1bNM10wLgU2/8uIIiZVLVh3t4KIgAjuDeqRlSD33rf3c7n7B0i9N31yf7OOp9OtsfjSVOJ5eImINjuarDtwfaz7Nu2W6ZUtBzZdnV6sAfF5ZRzSYXTw9lzSiUgDdhq+ROZiFDryvteG/3j9Hz2eAqcYvKVHvlu7r1HMoMjjW6kFjFGH3pTVecXNyH4s4s5AxOqEJ2WtRSKsx8w26+8d1LKVLK1rTENQ/ZuRUjj5p5UCjAT4mRrNmBaGYGaGaaTR3XdWLtS0milS4JbO/fe9a6PzDEsTvd3AQCZ+ejTu7oaMRdEijGQaUK3ICRCAYBAzBliDve3Zi4scyopR/nr+CMAh9gJKQVr57sGBQNoo4Gxd50RlaxlA+M/y0sSJiUrSf0F+OQcr89DEA8AAAAASUVORK5CYII=",
              brush: "sand",
              threshold: 1
          }
      }
  }
  class nn {
      static SCENE_EMPTY = new en({
          name: "Empty",
          description: "Boxed mode",
          apply: function(e) {
              e.setBoxedMode()
          }
      });
      static SCENE_LANDSCAPE_1 = new en({
          name: "Landscape 1",
          description: "Boxed mode",
          apply: async function(e) {
              e.setBoxedMode();
              let t = e.layeredTemplate().layerSpline([
                  [0, 35],
                  [40, 40],
                  [60, 50],
                  [80, 40],
                  [200, 20],
                  [400, 20],
                  [1e3, 20]
              ], !0, C.concat(U.SOIL, U.EFFECT_NOISE_LG)).layerSpline([
                  [0, 0],
                  [90, 0],
                  [110, 10],
                  [150, 10],
                  [250, 0]
              ], !0, U.SAND, 2).tool(120, 5, await Xt.parseToolDefinition(tn.SAND_CASTLE)).tree(60, 1, 200).tree(30, 5).grass(20, 40).grass(50, 70);
              e.getWidth() / e.getHeight() > 1.5 ? e.blockTemplate().withMaxHeight(120).withBlueprint(["          ", "        ww", "          ", "       1  ", "     111111", "          ", "          ", "          ", "          "]).withBrushes({
                  w: C.withIntensity(.5, U.WATER),
                  1: U.SAND
              }).paint() : t.layer(26, !1, U.WATER).layer(27, !1, C.withIntensity(.33, U.WATER))
          }
      });
      static SCENE_LANDSCAPE_2 = new en({
          name: "Landscape 2",
          description: "Boxed mode",
          apply: function(e) {
              e.setBoxedMode(), e.layeredTemplate().layerSpline([
                  [0, 20],
                  [50, 15],
                  [100, 10],
                  [150, 10],
                  [200, 10],
                  [250, 10],
                  [1250, 10]
              ], !0, C.concat(U.GRAVEL, U.EFFECT_NOISE_LG)).layerSpline([
                  [0, 30],
                  [25, 31],
                  [50, 27],
                  [100, 15],
                  [150, 0],
                  [200, 5],
                  [220, 15],
                  [300, 35],
                  [330, 37],
                  [370, 50],
                  [400, 45],
                  [500, 40],
                  [1250, 40]
              ], !0, C.concat(U.SOIL, U.EFFECT_NOISE_LG), 30).layerSpline([
                  [0, 0],
                  [50, 0],
                  [100, 10],
                  [150, 10],
                  [200, 9],
                  [275, 0],
                  [1250, 0]
              ], !0, U.SAND, 5).layer(35, !1, U.WATER).layer(36, !1, C.withIntensity(.33, U.WATER)).fish(150, -8).grass().tree(16, 6).tree(28, 3, 70).tree(45, 5).tree(309, 1).tree(336, 4).tree(361, 0)
          }
      });
      static SCENE_FALLTHROUGH = new en({
          name: "Fall-through",
          description: "Fall-through mode",
          apply: function(e) {
              e.setFallThroughMode();
              const t = e.graphics(),
                  n = Math.trunc((e.getWidth() - 150) / 2 - 15),
                  r = Math.trunc((e.getHeight() - 150) / 2);
              t.drawRectangle(40 + n, 20 + r, 60 + n, 40 + r, U.WATER), t.drawLine(30 + n, 30 + r, 30 + n, 50 + r, 5, U.WALL, !0), t.drawLine(30 + n, 50 + r, 70 + n, 80 + r, 5, U.WALL, !0), t.drawLine(65 + n, 90 + r, 100 + n, 100 + r, 5, U.WALL, !0), t.drawLine(55 + n, 140 + r, 125 + n, 140 + r, 10, U.WALL, !1), t.drawLine(55 + n, 130 + r, 55 + n, 140 + r, 10, U.WALL, !1), t.drawLine(70 + n, 125 + r, 90 + n, 125 + r, 10, U.SAND, !1), t.draw(120 + n, 130 + r, U.SAND), t.drawLine(150 + n, 10 + r, 80 + n, 35 + r, 5, U.WALL, !0), t.drawLine(80 + n, 35 + r, 80 + n, 15 + r, 5, U.WALL, !0)
          }
      });
      static SCENE_PLATFORM = new en({
          name: "Platform",
          description: "Erasing mode",
          apply: function(e) {
              e.setErasingMode(), e.blockTemplate().withBlueprint(["          ", "          ", "        w ", "        w ", "          ", "          ", " ssssssss ", "          ", "          "]).withBrushes({
                  w: U.SAND,
                  s: U.WALL
              }).paint()
          }
      });
      static SCENES = {
          empty: nn.SCENE_EMPTY,
          landscape_1: nn.SCENE_LANDSCAPE_1,
          landscape_2: nn.SCENE_LANDSCAPE_2,
          fallthrough: nn.SCENE_FALLTHROUGH,
          platform: nn.SCENE_PLATFORM
      }
  }
  class rn {
      createNode(e) {
          throw "Not implemented"
      }
  }
  class sn {
      performAction(e) {
          throw "Not implemented"
      }
      static create(e) {
          return new an(e)
      }
      static createToggle(e, t) {
          let n = e;
          return new an((function(e) {
              n = !n, t(e, n)
          }))
      }
  }
  class an extends sn {
      #h;
      constructor(e) {
          super(), this.#h = e
      }
      performAction(e) {
          this.#h(e)
      }
  }
  class on extends rn {
      createNode(e) {
          let t = [],
              n = [tn.ROCK_SM, tn.ROCK_MD, tn.ROCK_LG, tn.CABIN];
          for (const r of n) {
              const n = r.info.displayName;
              let s = null,
                  i = Y.button(n, {
                      class: "btn btn-light template-button",
                      "data-bs-dismiss": "modal"
                  }, (() => {
                      if (null !== s) {
                          const t = e.getToolManager(),
                              n = t.createRevertAction();
                          t.setPrimaryTool(s), t.setSecondaryTool(k.actionTool(new P, n))
                      }
                  }));
              i.style.backgroundImage = `url(${r.info.icon.imageData})`, t.push(i), Xt.parseToolDefinition(r).then((e => {
                  s = e
              })).catch((e => {
                  console.warn("Template loading failed: " + e)
              }))
          }
          return Y.div({
              class: "sand-game-templates"
          }, t)
      }
  }
  class ln extends sn {
      performAction(e) {
          let t = new on,
              n = Y.bootstrapDialogBuilder();
          n.setHeaderContent("Templates"), n.setBodyContent(Y.div({
              class: "sand-game-component"
          }, [Y.par(null, "Select a template"), t.createNode(e), Y.par(null, ""), Y.par(null, "You can also create your own template using an image. See the Import button.")])), n.addCloseButton("Close"), n.show(e.getDialogAnchor())
      }
  }
  class hn extends rn {
      #Gr;
      #zr;
      constructor(e, t) {
          super(), this.#Gr = e, this.#zr = t
      }
      createNode(e) {
          let t = [];
          for (let n of this.#Gr) {
              let r = n.getInfo().getCodeName(),
                  s = n.getInfo().getDisplayName(),
                  i = Y.button(s, {
                      class: "btn btn-secondary btn-sand-game-tool " + r
                  }, (() => {
                      e.getToolManager().setPrimaryTool(n), e.getToolManager().setSecondaryTool(W.ERASE)
                  }));
              e.getToolManager().addOnPrimaryToolChanged((e => {
                  e === n ? i.classList.add("selected") : i.classList.remove("selected")
              })), n === e.getToolManager().getPrimaryTool() && i.classList.add("selected"), e.getToolManager().addOnInputDisabledChanged((e => {
                  i.disabled = e
              })), t.push(i)
          }
          if (this.#zr) {
              let n = Y.button("Template", {
                  class: "btn btn-secondary btn-sand-game-tool template"
              }, (() => {
                  (new ln).performAction(e)
              }));
              t.push(n)
          }
          return Y.div({
              class: "sand-game-tools"
          }, t)
      }
  }
  class cn extends rn {
      #tr;
      #Kr;
      #qr = null;
      #_r = null;
      #Jr;
      #Xr;
      #Zr;
      constructor(e, t, n, r) {
          super(), this.#Jr = e, this.#Xr = t, this.#Zr = n;
          const s = e / n,
              i = t / n;
          this.#Kr = Y.div({
              style: {
                  display: "none",
                  position: "absolute",
                  left: "0",
                  top: "0",
                  width: `${s}px`,
                  height: `${i}px`
              },
              class: "sand-game-canvas-overlay",
              width: e + "px",
              height: t + "px"
          }), this.#tr = r
      }
      highlightChunks(e) {
          null !== e ? (null === this.#_r && this.#pr(), this.#Kr.style.display = "unset", this.#Qr(e)) : null !== this.#_r && (this.#Kr.style.display = "none")
      }
      #Qr(e) {
          const t = this.#tr.getSandGame(),
              n = t.getChunkSize(),
              r = Math.ceil(t.getWidth() / n),
              s = Math.ceil(t.getHeight() / n);
          let i = 0;
          for (let t = 0; t < s; t++)
              for (let n = 0; n < r; n++) {
                  const s = t * r + n,
                      a = this.#_r[s];
                  e[s] ? (i++, a.style.display = "initial") : a.style.display = "none"
              }
          const a = r * s,
              o = Math.trunc(i / a * 100);
          this.#qr.textContent = `${i}/${a} (${o}%)`
      }
      #pr() {
          const e = this.#tr.getSandGame(),
              t = e.getChunkSize(),
              n = Math.ceil(e.getWidth() / t),
              r = Math.ceil(e.getHeight() / t),
              s = Array(r * n);
          for (let e = 0; e < r; e++)
              for (let r = 0; r < n; r++) {
                  s[e * n + r] = this.#jr(r, e, t)
              }
          this.#_r = s, this.#Kr.append(...s), this.#qr = this.#$r(0, 0), this.#Kr.append(this.#qr)
      }
      #$r(e, t) {
          const n = e / this.#Zr,
              r = t / this.#Zr;
          return Y.span("", {
              style: {
                  left: n + "px",
                  top: r + "px",
                  position: "absolute",
                  color: "rgb(0, 255, 0)"
              }
          })
      }
      #jr(e, t, n) {
          const r = this.#Jr / this.#Zr,
              s = this.#Xr / this.#Zr,
              i = e * n / this.#Zr,
              a = t * n / this.#Zr,
              o = n / this.#Zr,
              l = n / this.#Zr,
              h = Y.div({
                  style: {
                      left: i + "px",
                      top: a + "px",
                      width: o + "px",
                      height: l + "px",
                      position: "absolute",
                      outline: "rgb(0, 255, 0) 1px solid"
                  }
              });
          if (i + o >= r || a + l >= s) {
              const e = -1,
                  t = e,
                  c = i + o >= r ? i + o - r : e,
                  d = a + n >= s ? a + l - s : e,
                  u = e;
              h.style.clipPath = `inset(${t}px ${c}px ${d}px ${u}px)`
          }
          return h
      }
      createNode(e) {
          return this.#Kr
      }
  }
  class dn extends rn {
      #tr;
      #Kr;
      #Jr;
      #Xr;
      #Zr;
      constructor(e, t, n, r) {
          super(), this.#Jr = e, this.#Xr = t, this.#Zr = n;
          const s = e / n,
              i = t / n;
          this.#Kr = Y.div({
              style: {
                  display: "none",
                  position: "absolute",
                  left: "0",
                  top: "0",
                  width: `${s}px`,
                  height: `${i}px`
              },
              class: "sand-game-canvas-overlay",
              width: e + "px",
              height: t + "px"
          }), this.#tr = r
      }
      register(e) {
          const t = e.getMarkers();
          if (t.length > 0) {
              for (const e of t) this.#Kr.append(this.#es(e));
              this.#Kr.style.display = "initial"
          }
          e.addOnMarkerAdded((e => {
              this.#Kr.append(this.#es(e)), this.#Kr.style.display = "initial"
          }))
      }
      #es(e) {
          const t = e.getConfig(),
              [n, r, s, i] = e.getPosition(),
              a = this.#jr(n, r, s, i, t.label);
          if ("object" == typeof t.style)
              for (const [e, n] of Object.entries(t.style)) a.style[e] = n;
          return e.isVisible() || (a.style.display = "none"), e.addOnVisibleChanged((e => {
              a.style.display = e ? "initial" : "none"
          })), a
      }
      #jr(e, t, n, r, s = null) {
          const i = {
              class: "sand-game-marker",
              style: {
                  left: e / this.#Zr + "px",
                  top: t / this.#Zr + "px",
                  width: (n - e) / this.#Zr + "px",
                  height: (r - t) / this.#Zr + "px",
                  position: "absolute"
              }
          };
          return Y.div(i, s)
      }
      createNode(e) {
          return this.#Kr
      }
  }
  class un extends rn {
      #tr;
      #Kr;
      #ts = null;
      constructor(e, t, n, r) {
          super();
          const s = e / n,
              i = t / n;
          this.#Kr = Y.div({
              style: {
                  position: "absolute",
                  left: "0",
                  top: "0",
                  width: `${s}px`,
                  height: `${i}px`
              },
              class: "sand-game-canvas-overlay",
              width: e + "px",
              height: t + "px"
          }), this.#tr = r
      }
      createNode(e) {
          return this.#Kr
      }
      hideCursors() {
          this.#Kr.innerHTML = "", this.#ts = null
      }
      repaintRectangleSelection(e, t, n, r, s) {
          this.#Kr.innerHTML = "";
          let i = Math.min(e, n) / s,
              a = Math.min(t, r) / s,
              o = Math.abs(n - e) / s,
              l = Math.abs(r - t) / s;
          const h = Y.div({
              style: {
                  left: i + "px",
                  top: a + "px",
                  width: o + "px",
                  height: l + "px",
                  position: "absolute",
                  outline: "black 1px solid",
                  pointerEvents: "none"
              }
          });
          this.#Kr.append(h)
      }
      repaintLineSelection(e, t, n, r, s) {
          this.#Kr.innerHTML = "";
          const i = this.#tr.getCurrentWidthPoints(),
              a = this.#tr.getCurrentHeightPoints(),
              o = Y.create(`\n            <svg viewBox="0 0 ${i} ${a}" xmlns="http://www.w3.org/2000/svg">\n              <line x1="${e}" y1="${t}" x2="${n}" y2="${r}" stroke="black" />\n            </svg>\n        `);
          o.style.pointerEvents = "none", this.#Kr.append(o)
      }
      showCursor(e, t, n, r) {
          if (r instanceof L) {
              {
                  const e = Math.trunc(r.getWidth() / n),
                      t = Math.trunc(r.getHeight() / n),
                      s = Y.element("canvas", {
                          width: r.getWidth() + "px",
                          height: r.getHeight() + "px",
                          style: {
                              width: `${e}px`,
                              height: `${t}px`,
                              outline: "black 1px solid"
                          }
                      });
                  s.style.imageRendering = "pixelated", he.renderPreview(r.getElementArea(), s.getContext("2d"), 187), this.#ts = {
                      width: e,
                      height: t,
                      node: s
                  }
              }
              this.#ts.node.style.position = "absolute", this.#ts.node.style.pointerEvents = "none", this.moveCursor(e, t, n)
          }
      }
      hasCursor() {
          return null !== this.#ts
      }
      moveCursor(e, t, n) {
          const r = this.#ts,
              s = this.#tr.getCurrentWidthPoints() / n,
              i = this.#tr.getCurrentHeightPoints() / n,
              a = t / n - Math.trunc(r.height / 2),
              o = e / n - Math.trunc(r.width / 2),
              l = a < 0 ? -a : -1,
              h = o + r.width >= s ? o + r.width - s : -1,
              c = a + r.height >= i ? a + r.height - i : -1,
              d = o < 0 ? -o : -1;
          r.node.style.top = a + "px", r.node.style.left = o + "px", r.node.style.clipPath = `inset(${l}px ${h}px ${c}px ${d}px)`, this.#Kr.innerHTML = "", this.#Kr.append(r.node)
      }
  }
  class En extends rn {
      #tr;
      #Kr;
      #Jr;
      #Xr;
      #Zr;
      constructor(e, t, n, r) {
          super(), this.#Jr = e, this.#Xr = t, this.#Zr = n;
          const s = e / n,
              i = t / n;
          this.#Kr = Y.div({
              style: {
                  display: "none",
                  position: "absolute",
                  left: "0",
                  top: "0",
                  width: `${s}px`,
                  height: `${i}px`,
                  pointerEvents: "none"
              },
              class: "sand-game-canvas-overlay",
              width: e + "px",
              height: t + "px"
          }), this.#tr = r
      }
      register(e) {
          let t = !1;
          const n = e => {
              this.#Kr.append(e), t || (t = !0, this.#Kr.style.display = null)
          };
          for (const t of e.getSplashes()) n(this.#ns(t));
          e.addOnSplashAdded((e => {
              n(this.#ns(e))
          }));
          let r = null,
              s = 0;
          const i = e => {
              const t = this.#rs(e);
              null === r && (e.isVisible() && s++, r = this.#ss(), r.style.display = s > 0 ? null : "none", n(r)), r.append(t), e.addOnVisibleChanged((e => {
                  s += e ? 1 : -1, r.style.display = s > 0 ? null : "none"
              }))
          };
          for (const t of e.getObjectives()) i(t);
          e.addOnObjectiveAdded((e => {
              i(e)
          }))
      }
      #ns(e) {
          let t = e.getConfig(),
              n = {
                  class: "sand-game-splash",
                  style: {
                      display: e.isVisible() ? null : "none"
                  }
              };
          Object.assign(n.style, t.style);
          let r = Y.div(n, [Y.div({
              class: "sand-game-splash-content"
          }, t.content), Y.div({
              class: "sand-game-splash-footer"
          }, t.buttons.filter((e => null !== e)).map((t => {
              let n;
              if ("string" == typeof t.action) n = Y.element("a", {
                  href: t.action,
                  class: t.class
              }, t.title);
              else {
                  if ("function" != typeof t.action) throw "Button action type not supported: " + typeof t.action;
                  n = Y.button(t.title, {
                      class: t.class
                  }, (() => t.action(e)))
              }
              return t.focus && setTimeout((() => {
                  n.focus({
                      preventScroll: !0
                  })
              }), 0), n
          })))]);
          return e.addOnVisibleChanged((e => {
              r.style.display = e ? null : "none"
          })), r
      }
      #ss() {
          return Y.div({
              class: "sand-game-objectives-list"
          }, null)
      }
      #rs(e) {
          const t = Y.span(null, {
              class: "sand-game-objective-icon"
          });
          e.isVisible() && Y.setContent(t, this.#is(e));
          const n = {
                  style: {
                      display: e.isVisible() ? null : "none"
                  }
              },
              r = Y.div(n, [t, e.getConfig().name]);
          return e.addOnVisibleChanged((n => {
              r.style.display = n ? null : "none", n && Y.setContent(t, this.#is(e))
          })), e.addOnActiveChanged((n => {
              e.isVisible() && Y.setContent(t, this.#is(e))
          })), e.addOnCompleted((() => {
              e.isVisible() && Y.setContent(t, this.#is(e))
          })), r
      }
      #is(e) {
          return e.isCompleted() ? Y.create('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-square-fill" viewBox="0 0 16 16">\r\n    <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm10.03 4.97a.75.75 0 0 1 .011 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.75.75 0 0 1 1.08-.022z"/>\r\n</svg>') : e.isActive() ? Y.create('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-square" viewBox="0 0 16 16">\r\n    <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>\r\n</svg>') : Y.create('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-square-dotted" viewBox="0 0 16 16">\r\n    <path d="m2.5 0q-.25 0-.487.048l.194.98a1.5 1.5 0 01.293-.028h.458v-1zm2.292 0h-.917v1h.917zm1.833 0h-.917v1h.917zm1.833 0h-.916v1h.916zm1.834 0h-.917v1h.917zm1.833 0h-.917v1h.917zm1.375 0h-.458v1h.458q.151 0 .293.029l.194-.981a2.5 2.5 0 00-.487-.048m2.079 1.11a2.5 2.5 0 00-.69-.689l-.556.831q.248.167.415.415l.83-.556zm-14.469-.689a2.5 2.5 0 00-.689.69l.831.556c.11-.164.251-.305.415-.415zm14.89 2.079q0-.25-.048-.487l-.98.194q.027.141.028.293v.458h1zm-15.952-.487a2.5 2.5 0 00-.048.487v.458h1v-.458q0-.151.029-.293zm-.048 1.862v.917h1v-.917zm16 .917v-.917h-1v.917zm-16 .916v.917h1v-.917zm16 .917v-.917h-1v.917zm-16 .917v.916h1v-.916zm15 .916h1v-.916h-1zm-15 .917v.917h1v-.917zm16 .917v-.917h-1v.917zm-16 .916v.917h1v-.917zm16 .917v-.917h-1v.917zm-16 .917v.458q0 .25.048.487l.98-.194a1.5 1.5 0 01-.028-.293v-.458zm16 .458v-.458h-1v.458q0 .151-.029.293l.981.194q.048-.237.048-.487m-15.579 1.39c.183.272.417.506.69.689l.556-.831a1.5 1.5 0 01-.415-.415zm14.469.689c.272-.183.506-.417.689-.69l-.831-.556c-.11.164-.251.305-.415.415l.556.83zm-12.877.373q.237.048.487.048h.458v-1h-.458q-.151 0-.293-.029zm11.487.048q.25 0 .487-.048l-.194-.98a1.5 1.5 0 01-.293.028h-.458v1zm-9.625 0h.917v-1h-.917zm1.833 0h.917v-1h-.917zm1.834 0h.916v-1h-.916zm1.833 0h.917v-1h-.917zm1.833 0h.917v-1h-.917z"/>\r\n</svg>')
      }
      createNode(e) {
          return this.#Kr
      }
  }
  class An extends rn {
      #tr;
      #as;
      #os;
      #ls;
      #hs;
      #cs;
      #ds;
      #us;
      #Es;
      #As;
      constructor(e) {
          super(), this.#tr = e;
          const t = this.#tr.getCurrentWidthPoints(),
              n = this.#tr.getCurrentHeightPoints(),
              r = this.#tr.getCurrentScale();
          this.#as = this.#ms(t, n, r), this.#os = new cn(t, n, r, e), this.#ls = this.#os.createNode(), this.#hs = new dn(t, n, r, e), this.#cs = this.#hs.createNode(), this.#ds = new un(t, n, r, e), this.#us = this.#ds.createNode(), this.#Es = new En(t, n, r, e), this.#As = this.#Es.createNode()
      }
      #ms(e, t, n) {
          const r = e / n,
              s = t / n,
              i = Y.element("canvas", {
                  style: `position: relative; width: ${r}px; height: ${s}px;`,
                  class: "sand-game-canvas",
                  width: e + "px",
                  height: t + "px"
              });
          return i.style.imageRendering = this.#tr.getCanvasImageRenderingStyle(), i
      }
      createNode(e) {
          return Y.div({
              style: "position: relative;",
              class: "sand-game-canvas-component"
          }, [this.#as, this.#ls, this.#cs, this.#us, this.#As])
      }
      register(e) {
          this.#hs.register(e.overlay()), this.#Es.register(e.scenario()), e.addOnRendered((e => {
              this.#tr.isShowActiveChunks() ? this.#os.highlightChunks(e) : this.#os.highlightChunks(null)
          })), this.#gs(e)
      }
      #gs(e) {
          const t = this.#us,
              n = this.#tr.getCurrentScale(),
              r = this.#tr.getToolManager();
          let s, i, a = e => {
                  const r = t.getBoundingClientRect();
                  return [Math.max(0, Math.trunc((e.clientX - r.left) * n)), Math.max(0, Math.trunc((e.clientY - r.top) * n))]
              },
              o = null,
              l = !1,
              h = !1,
              c = !1,
              d = null;
          const u = (t, n, r) => {
                  o.isRepeatingEnabled() && (d = setInterval((() => {
                      o.applyPoint(t, n, e.graphics(), r)
                  }), 80))
              },
              E = () => {
                  null !== d && (clearInterval(d), d = null)
              };
          this.#us.addEventListener("contextmenu", (e => (e.preventDefault(), !1))), t.addEventListener("mousedown", (t => {
              if (r.isInputDisabled()) return;
              const [d, A] = a(t);
              if (s = d, i = A, o = null, l = !1, h = !1, c = !1, 1 === t.buttons) o = r.getPrimaryTool(), V.triggerFeatureUsed(V.FEATURE_DRAW_PRIMARY);
              else {
                  if (2 !== t.buttons) {
                      if (4 === t.buttons) {
                          if (t.preventDefault(), t.altKey || t.ctrlKey || t.shiftKey) t.altKey && t.ctrlKey && t.shiftKey && console.log(d + "x" + A + ": " + e.debugElementAt(d, A));
                          else {
                              const t = r.getTertiaryTool();
                              t.applyPoint(d, A, e.graphics(), !1), V.triggerFeatureUsed(V.FEATURE_DRAW_TERTIARY), V.triggerToolUsed(t)
                          }
                          return
                      }
                      return
                  } {
                      let n = r.getPrimaryTool();
                      if (n.isSecondaryActionEnabled()) return n.applySecondaryAction(d, A, e.graphics(), t.altKey), this.#ds.hideCursors(), void E();
                      o = r.getSecondaryTool(), V.triggerFeatureUsed(V.FEATURE_DRAW_SECONDARY)
                  }
              }
              if (t.ctrlKey || t.shiftKey) t.ctrlKey && t.shiftKey ? (o.applySpecial(d, A, e.graphics(), t.altKey), V.triggerFeatureUsed(V.FEATURE_DRAW_FLOOD), V.triggerToolUsed(o), o = null) : (t.ctrlKey && o.isAreaModeEnabled() && (h = t.ctrlKey), t.shiftKey && o.isLineModeEnabled() && (c = t.shiftKey));
              else {
                  o.applyPoint(d, A, e.graphics(), t.altKey), V.triggerToolUsed(o), u(d, A, t.altKey), this.#ds.hideCursors();
                  const s = r.getPrimaryTool().createCursor();
                  null !== s && this.#ds.showCursor(d, A, n, s)
              }
          })), t.addEventListener("mousemove", (t => {
              if (E(), r.isInputDisabled()) return o = null, void this.#ds.hideCursors();
              if (!h && !c) {
                  if (this.#ds.hasCursor()) {
                      const [e, r] = a(t);
                      this.#ds.moveCursor(e, r, n)
                  } else {
                      const e = r.getPrimaryTool().createCursor();
                      if (null !== e) {
                          const [r, s] = a(t);
                          this.#ds.showCursor(r, s, n, e)
                      }
                  }
                  if (null === o) return;
                  const [h, c] = a(t);
                  return l || (o.onDragStart(s, i, e.graphics(), t.altKey), l = !0), o.applyStroke(s, i, h, c, e.graphics(), t.altKey), V.triggerToolUsed(o), u(h, c, t.altKey), s = h, void(i = c)
              }
              if (!(null === o || h && c))
                  if (h) {
                      const [e, r] = a(t);
                      this.#ds.repaintRectangleSelection(s, i, e, r, n)
                  } else if (c) {
                  const [e, r] = a(t);
                  this.#ds.repaintLineSelection(s, i, e, r, n)
              } else;
          })), t.addEventListener("mouseup", (t => {
              if (E(), !r.isInputDisabled() && null !== o) {
                  if (l) o.onDragEnd(s, i, e.graphics(), t.altKey), l = !1, o.hasCursor() || this.#ds.hideCursors();
                  else if (h) {
                      const [n, r] = a(t);
                      let l = Math.min(s, n),
                          h = Math.min(i, r),
                          c = Math.max(s, n),
                          d = Math.max(i, r);
                      o.applyArea(l, h, c, d, e.graphics(), t.altKey), this.#ds.hideCursors(), V.triggerFeatureUsed(V.FEATURE_DRAW_RECT), V.triggerToolUsed(o)
                  } else if (c) {
                      const [n, r] = a(t);
                      o.applyStroke(s, i, n, r, e.graphics(), t.altKey), this.#ds.hideCursors(), V.triggerFeatureUsed(V.FEATURE_DRAW_LINE), V.triggerToolUsed(o)
                  }
                  o = null, h = !1, c = !1
              }
          })), t.addEventListener("mouseout", (e => {
              E(), this.#ds.hideCursors()
          })), t.addEventListener("mouseenter", (e => {
              null !== o && 0 === e.buttons && (o = null, this.#ds.hideCursors(), e.preventDefault())
          }));
          let A = e => {
              let t = e.touches[0];
              return a(t)
          };
          t.addEventListener("touchstart", (t => {
              if (r.isInputDisabled()) return;
              const [n, a] = A(t);
              s = n, i = a, o = r.getPrimaryTool(), o.applyPoint(n, a, e.graphics(), !1), V.triggerFeatureUsed(V.FEATURE_DRAW_PRIMARY), V.triggerToolUsed(o), t.preventDefault()
          })), t.addEventListener("touchmove", (t => {
              if (r.isInputDisabled()) return void(o = null);
              if (null === o) return;
              const [n, a] = A(t);
              o.applyStroke(s, i, n, a, e.graphics(), !1), V.triggerToolUsed(o), s = n, i = a, t.preventDefault()
          })), t.addEventListener("touchend", (e => {
              o = null, e.preventDefault()
          }))
      }
      getCanvasNode() {
          return this.#as
      }
      setImageRenderingStyle(e) {
          this.#as.style.imageRendering = e
      }
      onInputDisabledChanged(e) {
          this.#us.style.cursor = e ? "not-allowed" : null
      }
  }
  class mn extends rn {
      #ps = Y.div({
          class: "sand-game-canvas-holder"
      });
      #Ts = null;
      createNode(e) {
          return e.registerCanvasProvider({
              initialize: () => (this.#ps.innerHTML = "", this.#Ts = new An(e), this.#ps.append(this.#Ts.createNode(e)), this.#Ts.getCanvasNode()),
              getCanvasNode: () => null !== this.#Ts ? this.#Ts.getCanvasNode() : null
          }), e.addOnImageRenderingStyleChanged((e => {
              null !== this.#Ts && this.#Ts.setImageRenderingStyle(e)
          })), e.addOnInitialized((e => {
              if (null === this.#Ts) throw "Illegal state: canvas is not initialized";
              this.#Ts.register(e)
          })), e.addOnBeforeClosed((() => {
              this.#Ts = null, this.#ps.innerHTML = ""
          })), e.getToolManager().addOnInputDisabledChanged((e => {
              null !== this.#Ts && this.#Ts.onInputDisabledChanged(e)
          })), this.#ps
      }
  }
  class gn extends sn {
      performAction(e) {
          let t = Y.bootstrapSimpleFormBuilder();
          t.addInput("Width", "width", "" + e.getCurrentWidthPoints()), t.addInput("Height", "height", "" + e.getCurrentHeightPoints()), t.addInput("Scale", "scale", "" + e.getCurrentScale());
          let n = Y.bootstrapDialogBuilder();
          n.setHeaderContent("Change canvas size manually"), n.setBodyContent(t.createNode()), n.addSubmitButton("Submit", (() => {
              let n = t.getData(),
                  r = Number.parseInt(n.width),
                  s = Number.parseInt(n.height),
                  i = Number.parseFloat(n.scale);
              e.changeCanvasSize(r, s, i), V.triggerFeatureUsed(V.FEATURE_CANVAS_SIZE_CHANGE)
          })), n.addCloseButton("Close"), n.show(e.getDialogAnchor())
      }
  }
  class pn extends rn {
      static CLASS_SELECTED = "selected-size";
      static SIZES = [{
          scale: .75,
          image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAYAAADSm7GJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACHUlEQVR4Xu3WQW6EMBBEUSJx3jkMF55s4ogQG2zTxeDi/10ijdxTb5HME1k3b39BXgFsHsDmAWwewOYBbB7A5gFsHsDmAWwewOYBbB7A5gFsHsDmAWwewOYBbB7A5gFsHsCrlmV5r39+vV5f659HDOCftrjpd6MjAzzlcVOjIz8eeA83NTLyo4FrcFOjIj8WuAU3NSLyI4F7cFOjIT8O+AxuaiTkRwFH4KZGQX4McCRuagTkjwGvB1ePpMBN3R35I8DbwZUjbd9SpLz/bJcDlwZXjFR6S5Hi/oguBT4aPHKko7cURd4f1WXAtYNHjFT7lqKI+yO7BLh18DMjtb6l6Mz90cmBewfvGan3LUU99yuSAp8dvGWks28parlflQw4avCakaLeUlRzvzIJcPTgeyNFv6Vo73514cCqwXMjqd5SlLu/1Pp71X6mVCiwevD1SOq3FNUgb79XzWf2CgPeHqbqqndU7YGVvtveZ44KAS4dRvlyYEcb5j5T02ngo8MoX8+fmx7kU8C1h1G+nv1akbuBe46jmFqQu4DB/Xy1yM3A4N6nGuQmYHDv1xFyNTC4920PuQoY3PtXQj4EBneccsi7wOCO1xa5CAzuuK2Rs8Dgjl9C/gcMrk/Lsrz/AIPr1y8wuJ7N0wSuczO43v37J4u8Atg8gM0D2DyAzQPYPIDNA9g8gM0D2DyAzQPYPIDNA9g8gM0D2DyAzQPYvG9K/XJS29iPWwAAAABJRU5ErkJggg==",
          description: "Very small elements"
      }, {
          scale: .5,
          image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAYAAADSm7GJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABSElEQVR4Xu3WQQ6EIBAFUUw8L4fxwjN78xedQBDLeksiYbAysc8mtPO+IBYDwxkYzsBwBoYzMJyB4QwMZ2A4A8MZGM7AcAaGMzCcgeEMDGdgOAPDGRjOwK2167p+97Wk937c13ZnYDgDwxkYzsBwnwtcHaiStHf3wetzgb/GwHAGhjMw3JLAaThJZg8s1XNHpDNm32PEksB6joHhDAxnYLjpgdPQUZX2VgeWtPcp6bdU7zHb9MDai4HhDAxnYLihwGmYmG3FGSuke6TBq/pc1VBg7c/AcAaGMzBcOXD6+GtM9Z2m56qDVzmw3snAcAaGMzBcDJw+6tpLapQGrxhYHAaGMzCcgeHO9LHWO6WW/oPhDAxnYDgDwxkYzsBwBoYzMJyB4QwMZ2A4A8MZGM7AcAaGMzCcgeEMDGdgOAPDGRjOwHAGhjMw3B/1T0cI5HMokgAAAABJRU5ErkJggg==",
          description: "Small elements"
      }, {
          scale: .375,
          image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAYAAADSm7GJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABGklEQVR4Xu3YMU7EMBQAUZBy3hwmF4Y+BforGcNO3itdOFZGLvyPD9KO+wItAscJHCdwnMBxAscJHCdwnMBxAscJHCdwnMBxAscJHCdwnMBxjw58XdfXfe3uPM/P+9o7eXTgJxA4TuA4geMEjhM4TuA4geO2Bt45WJh8a2Kyz6oz/4atgdlP4DiB4wSOEzhO4DiB4wSOWxZ4MhCYWLXPTpMz/9UwZFlg/ieB4wSOEzhO4DiB4wSOEzhuFHjykOdnq/7hqwOTUWDel8BxAscJHCdwnMBxAscJHHeseoCzx6u93OA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuA4geMEjhM4TuC4b6YQJX8pLssnAAAAAElFTkSuQmCC",
          description: "Medium elements"
      }, {
          scale: .25,
          image: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABQCAYAAADSm7GJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA+ElEQVR4Xu3ZsQ3DMAwAwRjwvBpGCye9KgMq7LzvSnbiQxXPD2nnOqBF4DiB4wSOEzhO4DiB4wSOEzhO4DiB4wSOEzhO4LjXBZ5zftfZVWOMY5093esCv43AcQLHCRwncJzAcQLHCRwncJzAcQLHCRwncJzAcVuBd05v/2jnvXedGrcC83wCxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECx507JzCuu2vPfnCcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHECxwkcJ3CcwHE/D68RYAgtpF0AAAAASUVORK5CYII=",
          description: "Big elements"
      }];
      #fs = [];
      #Cs = null;
      #Rs = null;
      createNode(e) {
          for (let t of pn.SIZES) {
              let n = this.#Ss(t.scale, t.image, t.description);
              t.scale === e.getCurrentScale() && this.#vs(n, t.scale), n.addEventListener("click", (r => {
                  this.#ws(n, t.scale, e)
              })), this.#fs.push(n)
          }
          return Y.div(null, [Y.par(null, "Increasing the size of the elements will result in the top and right parts of the canvas being clipped."), Y.par(null, "Reducing the size of the elements will result in an expansion of the canvas in the upper and right parts."), Y.par(null, "Only the scale of the current scene and the initial setting for new scenes will be changed. Scene can be regenerated by clicking on the scene card."), Y.div({
              class: "element-size-options"
          }, this.#fs)])
      }
      #ws(e, t, n) {
          if (this.#Rs === t) return;
          this.#Cs && this.#Cs.classList.remove(pn.CLASS_SELECTED), this.#vs(e, t);
          let r = Math.trunc(n.getCurrentWidthPoints() / n.getCurrentScale() * t),
              s = Math.trunc(n.getCurrentHeightPoints() / n.getCurrentScale() * t);
          n.changeCanvasSize(r, s, t), V.triggerFeatureUsed(V.FEATURE_SWITCH_SCALE)
      }
      #vs(e, t) {
          e.classList.add(pn.CLASS_SELECTED), this.#Cs = e, this.#Rs = t
      }
      #Ss(e, t, n) {
          return Y.div({
              class: "card"
          }, [Y.element("img", {
              src: t,
              alt: n
          })])
      }
  }
  class Tn extends sn {
      performAction(e) {
          let t = new pn,
              n = Y.bootstrapDialogBuilder();
          n.setHeaderContent("Adjust Scale"), n.setBodyContent(Y.div({
              class: "sand-game-component"
          }, [t.createNode(e)])), n.addSubmitButton("Set size manually", (() => {
              (new gn).performAction(e)
          })), n.addCloseButton("Close"), n.show(e.getDialogAnchor())
      }
  }
  class fn extends rn {
      createNode(e) {
          return Y.button(Y.create('\x3c!-- @author Patrik Harag --\x3e\r\n<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\r\n <g>\r\n  <rect stroke="#505050" stroke-width="4" id="svg_1" height="24" width="24" y="35.5" x="4.5" fill="none"/>\r\n  <rect stroke="#505050" stroke-width="2" stroke-dasharray="3,5" id="svg_2" height="54" width="54" y="4.5" x="4.5" fill="none"/>\r\n  <line stroke="#505050" id="svg_3" y2="10.65089" x2="51.9999" y1="27.9524" x1="34.38094" stroke-width="4" fill="none"/>\r\n  <line stroke="#505050" id="svg_4" y2="11.28581" x2="50.73007" y1="13.98421" x1="37.87298" stroke-width="4" fill="none"/>\r\n  <line stroke="#505050" id="svg_5" y2="11.762" x2="51.36499" y1="23.82543" x1="48.82531" stroke-width="4" fill="none"/>\r\n </g>\r\n</svg>'), {
              class: "btn btn-outline-secondary adjust-scale",
              "aria-label": "Adjust scale"
          }, (() => {
              (new Tn).performAction(e)
          }))
      }
  }
  class Cn extends rn {
      static CLASS_SELECTED = "selected-scene";
      static CLASS_VISITED = "visited-scene";
      #tr;
      #Os = !1;
      #y;
      #Is;
      #Cs = null;
      #ys = null;
      #bs = new Map;
      constructor(e, t, n) {
          super(), this.#tr = e, this.#y = t, this.#Is = n, this.#tr.addOnBeforeNewSceneLoaded((() => {
              this.#Os || (this.#Ms(), this.#Us())
          }))
      }
      createNode(e) {
          let t = Y.div({
              class: "scenes"
          }, []);
          for (const [e, n] of Object.entries(this.#y)) {
              let r = Y.element("span", {
                      class: "scene-title"
                  }, n.name),
                  s = Y.button(r, {
                      class: "btn btn-outline-secondary scene"
                  }, (() => {
                      this.#Bs(e, s, n)
                  }));
              e === this.#Is && (this.#Cs = s, this.#ys = e, s.classList.add(Cn.CLASS_SELECTED), s.classList.add(Cn.CLASS_VISITED)), t.append(s)
          }
          return t
      }
      #Bs(e, t, n) {
          this.#Cs ? this.#ys === e ? this.#Fs((() => {
              this.#ws(t, e, n), V.triggerFeatureUsed(V.FEATURE_RESTART_SCENE)
          })) : (this.#Ms(), this.#ws(t, e, n), V.triggerFeatureUsed(V.FEATURE_SWITCH_SCENE)) : (this.#ws(t, e, n), V.triggerFeatureUsed(V.FEATURE_SWITCH_SCENE))
      }
      #Fs(e) {
          let t = Y.bootstrapDialogBuilder();
          t.setHeaderContent("Restart scene"), t.setBodyContent([Y.par(null, "Do you want to restart the scene?")]), t.addSubmitButton("Confirm", e), t.addCloseButton("Close"), t.show(this.#tr.getDialogAnchor())
      }
      #ws(e, t, n) {
          this.#Us(), this.#Cs = e, this.#ys = t, e.classList.add(Cn.CLASS_SELECTED), e.classList.add(Cn.CLASS_VISITED);
          let r = this.#bs.get(t);
          r ? (this.#bs.delete(t), this.#Os = !0, this.#tr.openScene(new De(r)), this.#Os = !1) : (this.#Os = !0, this.#tr.openScene(n), this.#Os = !1)
      }
      #Us() {
          this.#Cs && this.#Cs.classList.remove(Cn.CLASS_SELECTED), this.#Cs = null, this.#ys = null
      }
      #Ms() {
          this.#Cs && this.#bs.set(this.#ys, this.#tr.createSnapshot())
      }
  }
  class Rn {
      static ALL_MATERIALS = function(e) {
          let t = e.getSandGame();
          if (null === t) return;
          const n = ["ash", "sand", "soil", "gravel", "wall", "rock", "metal", "wood", "water"];
          let r = Math.ceil(t.getWidth() / n.length);
          for (let e = 0; e < n.length; e++) {
              const s = U.byCodeName(n[e]);
              t.graphics().drawRectangle(e * r, 0, (e + 1) * r, -1, s, !0)
          }
      };
      static TREE_SPAWN_TEST = function(e) {
          let t = e.getSandGame();
          null !== t && (t.graphics().fill(U.AIR), t.layeredTemplate().layer(Math.trunc(t.getHeight() / 2), !1, U.AIR).layer(1, !0, U.WALL).layer(10, !0, U.SOIL).grass(), t.layeredTemplate().layer(1, !0, U.WALL).layer(10, !0, U.SOIL).grass())
      };
      static treeGrowTest(e = -1) {
          return function(t) {
              let n = t.getSandGame();
              if (null === n) return;
              n.graphics().fill(U.AIR);
              let r = b.TREE_TRUNK_TEMPLATES.length,
                  s = Math.trunc(n.getWidth() / 8);
              const i = n.layeredTemplate();
              i.layer(Math.trunc(n.getHeight() / 2), !1, U.AIR), i.layer(1, !0, U.WALL), i.layer(10, !0, U.SOIL);
              for (let t = 0; t < 8; t++) i.tree(Math.trunc((t + .5) * s), t % r, e);
              i.grass();
              const a = n.layeredTemplate();
              a.layer(1, !0, U.WALL), a.layer(10, !0, U.SOIL);
              for (let t = 0; t < 8; t++) a.tree(Math.trunc((t + .5) * s), (t + 8) % r, e);
              a.grass()
          }
      }
  }
  var Sn = {};
  ! function(e, t) {
      ! function() {
          function t(e, t) {
              return void 0 === t ? t = {
                  autoBom: !1
              } : "object" != typeof t && (console.warn("Deprecated: Expected third argument to be a object"), t = {
                  autoBom: !t
              }), t.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type) ? new Blob(["\ufeff", e], {
                  type: e.type
              }) : e
          }

          function n(e, t, n) {
              var r = new XMLHttpRequest;
              r.open("GET", e), r.responseType = "blob", r.onload = function() {
                  o(r.response, t, n)
              }, r.onerror = function() {
                  console.error("could not download file")
              }, r.send()
          }

          function r(e) {
              var t = new XMLHttpRequest;
              t.open("HEAD", e, !1);
              try {
                  t.send()
              } catch (e) {}
              return 200 <= t.status && 299 >= t.status
          }

          function s(e) {
              try {
                  e.dispatchEvent(new MouseEvent("click"))
              } catch (n) {
                  var t = document.createEvent("MouseEvents");
                  t.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), e.dispatchEvent(t)
              }
          }
          var i = "object" == typeof window && window.window === window ? window : "object" == typeof self && self.self === self ? self : "object" == typeof be && be.global === be ? be : void 0,
              a = i.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent),
              o = i.saveAs || ("object" != typeof window || window !== i ? function() {} : "download" in HTMLAnchorElement.prototype && !a ? function(e, t, a) {
                  var o = i.URL || i.webkitURL,
                      l = document.createElement("a");
                  t = t || e.name || "download", l.download = t, l.rel = "noopener", "string" == typeof e ? (l.href = e, l.origin === location.origin ? s(l) : r(l.href) ? n(e, t, a) : s(l, l.target = "_blank")) : (l.href = o.createObjectURL(e), setTimeout((function() {
                      o.revokeObjectURL(l.href)
                  }), 4e4), setTimeout((function() {
                      s(l)
                  }), 0))
              } : "msSaveOrOpenBlob" in navigator ? function(e, i, a) {
                  if (i = i || e.name || "download", "string" != typeof e) navigator.msSaveOrOpenBlob(t(e, a), i);
                  else if (r(e)) n(e, i, a);
                  else {
                      var o = document.createElement("a");
                      o.href = e, o.target = "_blank", setTimeout((function() {
                          s(o)
                      }))
                  }
              } : function(e, t, r, s) {
                  if ((s = s || open("", "_blank")) && (s.document.title = s.document.body.innerText = "downloading..."), "string" == typeof e) return n(e, t, r);
                  var o = "application/octet-stream" === e.type,
                      l = /constructor/i.test(i.HTMLElement) || i.safari,
                      h = /CriOS\/[\d]+/.test(navigator.userAgent);
                  if ((h || o && l || a) && "undefined" != typeof FileReader) {
                      var c = new FileReader;
                      c.onloadend = function() {
                          var e = c.result;
                          e = h ? e : e.replace(/^data:[^;]*;/, "data:attachment/file;"), s ? s.location.href = e : location = e, s = null
                      }, c.readAsDataURL(e)
                  } else {
                      var d = i.URL || i.webkitURL,
                          u = d.createObjectURL(e);
                      s ? s.location = u : location.href = u, s = null, setTimeout((function() {
                          d.revokeObjectURL(u)
                      }), 4e4)
                  }
              });
          i.saveAs = o.saveAs = o, e.exports = o
      }()
  }({
      get exports() {
          return Sn
      },
      set exports(e) {
          Sn = e
      }
  });
  var vn = Sn;
  class wn extends sn {
      performAction(e) {
          new On(e, (t => {
              let n = Y.bootstrapDialogBuilder();
              n.setHeaderContent("Benchmark results"), n.setBodyContent([Y.par(null, "IPS AVG: " + t.ipsAvg.toFixed(2)), Y.par(null, "IPS MIN: " + t.ipsMin)]), n.addCloseButton("Close"), n.addButton(Y.button("Download results", {
                  type: "button",
                  class: "btn btn-primary"
              }, (e => {
                  const n = JSON.stringify(t, null, "  "),
                      r = new Blob([n], {
                          type: "application/json;charset=utf-8"
                      }),
                      s = this.#Ls(new Date);
                  vn.saveAs(r, `${s}.benchmark.json`)
              }))), n.show(e.getDialogAnchor())
          })).start()
      }
      #Ls(e) {
          let t = String(e.getDate()).padStart(2, "0"),
              n = String(e.getMonth() + 1).padStart(2, "0");
          return `${e.getFullYear()}-${n}-${t}_${String(e.getHours()).padStart(2,"0")}-${String(e.getMinutes()).padStart(2,"0")}`
      }
  }
  class On {
      static WAITING_GAP = 300;
      #tr;
      #Ns;
      constructor(e, t) {
          this.#tr = e, this.#Ns = t
      }
      start() {
          let e = new en({
              apply: e => this.#Ds(e)
          });
          this.#tr.openScene(e), this.#tr.start()
      }
      #Ds(e) {
          const t = [],
              n = [...On.BENCHMARKS];
          let r = 0,
              s = On.WAITING_GAP,
              i = 0,
              a = Number.MAX_SAFE_INTEGER;
          e.addOnProcessed((() => {
              if (s > 0) return void s--;
              if (0 === n.length) return;
              const o = n[0];
              0 === r && console.log("Running benchmark: " + o.name), o.nextIteration(e, r), r++;
              const l = e.getIterationsPerSecond();
              if (i += l, a = Math.min(a, l), o.iterations === r) {
                  const l = i / o.iterations;
                  t.push({
                      name: o.name,
                      ipsAvg: l,
                      ipsMin: a
                  }), n.shift(), r = 0, i = 0, a = Number.MAX_SAFE_INTEGER, s = On.WAITING_GAP, e.graphics().fill(U.AIR), 0 === n.length && this.#Ns(this.#xs(e, t))
              }
          }))
      }
      #xs(e, t) {
          const n = t.map((e => e.ipsAvg)).reduce(((e, t) => e + t), 0) / t.length,
              r = t.map((e => e.ipsMin)).reduce(((e, t) => Math.min(e, t)), Number.MAX_SAFE_INTEGER);
          return {
              version: 1,
              date: (new Date).toString(),
              ipsAvg: n,
              ipsMin: r,
              benchmarks: t,
              scene: {
                  width: e.getWidth(),
                  height: e.getHeight()
              }
          }
      }
      static #Ps(e, t, n) {
          if (t <= 0) throw "Number of iterations must be a positive number";
          return {
              name: e,
              iterations: t,
              nextIteration: n
          }
      }
      static BENCHMARKS = [On.#Ps("sand-fall-q", 500, (function(e, t) {
          e.graphics().drawRectangle(0, 0, -1, 1, U.SAND, !0)
      })), On.#Ps("sand-fall-s", 2e3, (function(e, t) {
          t % 10 == 0 && e.graphics().drawRectangle(0, 0, -1, 1, U.SAND, !0)
      })), On.#Ps("sand-fill", 1e3, (function(e, t) {
          0 === t && e.graphics().drawRectangle(0, 0, -1, -1, U.SAND, !0)
      })), On.#Ps("soil-fall-q", 500, (function(e, t) {
          e.graphics().drawRectangle(0, 0, -1, 1, U.SOIL, !0)
      })), On.#Ps("soil-fall-s", 2e3, (function(e, t) {
          t % 10 == 0 && e.graphics().drawRectangle(0, 0, -1, 1, U.SOIL, !0)
      })), On.#Ps("soil-fill", 1e3, (function(e, t) {
          0 === t && e.graphics().drawRectangle(0, 0, -1, -1, U.SOIL, !0)
      })), On.#Ps("water-fall-q", 500, (function(e, t) {
          e.graphics().drawRectangle(0, 0, -1, 1, U.WATER, !0)
      })), On.#Ps("water-fall-s", 2e3, (function(e, t) {
          t % 10 == 0 && e.graphics().drawRectangle(0, 0, -1, 1, U.WATER, !0)
      })), On.#Ps("water-fill", 1e3, (function(e, t) {
          0 === t && e.graphics().drawRectangle(0, 0, -1, -1, U.WATER, !0)
      })), On.#Ps("sand-into-water", 1e3, (function(e, t) {
          0 === t && (e.graphics().drawRectangle(0, 0, -1, 31, U.SAND, !0), e.graphics().drawRectangle(0, 60, -1, -1, U.WATER, !0))
      })), On.#Ps("soil-into-water", 1e3, (function(e, t) {
          0 === t && (e.graphics().drawRectangle(0, 0, -1, 31, U.SOIL, !0), e.graphics().drawRectangle(0, 60, -1, -1, U.WATER, !0))
      }))]
  }
  class In extends rn {
      static CLASS_PRIMARY = "btn-primary";
      static CLASS_SECONDARY = "btn-secondary";
      static CLASS_INFO = "btn-info";
      static CLASS_SUCCESS = "btn-success";
      static CLASS_WARNING = "btn-warning";
      static CLASS_LIGHT = "btn-light";
      static CLASS_OUTLINE_PRIMARY = "btn-outline-primary";
      static CLASS_OUTLINE_SECONDARY = "btn-outline-secondary";
      static CLASS_OUTLINE_INFO = "btn-outline-info";
      static CLASS_OUTLINE_SUCCESS = "btn-outline-success";
      static CLASS_OUTLINE_WARNING = "btn-outline-warning";
      static CLASS_OUTLINE_LIGHT = "btn-outline-light";
      #Hs;
      #ks;
      #Ws;
      constructor(e, t, n) {
          super(), this.#Hs = e, this.#ks = "function" == typeof n ? sn.create(n) : n, this.#Ws = null == t ? In.CLASS_PRIMARY : t
      }
      createNode(e) {
          return Y.button(this.#Hs, {
              class: "btn " + this.#Ws
          }, (t => {
              this.#ks.performAction(e)
          }))
      }
  }
  class yn extends sn {
      performAction(e) {
          const t = e.getCanvas();
          null !== t && t.toBlob((e => {
              vn.saveAs(e, this.#Ls(new Date) + ".png")
          }))
      }
      #Ls(e) {
          let t = String(e.getDate()).padStart(2, "0"),
              n = String(e.getMonth() + 1).padStart(2, "0");
          return `${e.getFullYear()}-${n}-${t}_${String(e.getHours()).padStart(2,"0")}-${String(e.getMinutes()).padStart(2,"0")}`
      }
  }
  class bn extends sn {
      performAction(e) {
          const t = e.getSandGame();
          if (null === t) return;
          const n = e.getToolManager().getPrimaryTool();
          n.isAreaModeEnabled() && n.applyArea(0, 0, t.getWidth(), t.getHeight(), t.graphics(), !1)
      }
  }
  class Mn extends rn {
      static #Vs = In.CLASS_OUTLINE_SECONDARY;
      static #Ys = In.CLASS_OUTLINE_INFO;
      static #Gs = In.CLASS_OUTLINE_PRIMARY;
      static #zs = In.CLASS_OUTLINE_SUCCESS;
      static COMPONENTS = [new In("All materials", Mn.#Vs, Rn.ALL_MATERIALS), new In("Tree spawn", Mn.#Vs, Rn.TREE_SPAWN_TEST), new In("Tree grow", Mn.#Vs, Rn.treeGrowTest(0)), new In("Tree grown", Mn.#Vs, Rn.treeGrowTest(-1)), new In("Benchmark", Mn.#Gs, new wn), new In("Screenshot", Mn.#Gs, new yn), new In("Fill", Mn.#Gs, new bn), new In("Chunks", Mn.#Ys, sn.createToggle(!1, ((e, t) => e.setShowActiveChunks(t)))), new In("M/webgl", Mn.#Ys, sn.create((e => e.setRendererInitializer(Ae.canvasWebGL())))), new In("M/classic", Mn.#Ys, sn.create((e => e.setRendererInitializer(Ae.canvas2d())))), new In("M/heatmap", Mn.#Ys, sn.create((e => e.setRendererInitializer(Ae.canvas2dHeatmap())))), new In("M/type", Mn.#Ys, sn.create((e => e.setRendererInitializer(Ae.canvas2dElementType())))), new In("M/null", Mn.#Ys, sn.create((e => e.setRendererInitializer(Ae.nullRenderer())))), new In("Pixelated", Mn.#Ys, sn.createToggle(!0, ((e, t) => e.setCanvasImageRenderingStyle(t ? "pixelated" : "auto"))))];
      createNode(e) {
          let t = Y.div({
                  class: "test-tools"
              }, []),
              n = [...Mn.COMPONENTS];
          for (let e of W.TEST_TOOLS) {
              let t = sn.create((t => t.getToolManager().setPrimaryTool(e)));
              n.push(new In(e.getInfo().getDisplayName(), Mn.#zs, t))
          }
          for (let r of n) t.append(r.createNode(e));
          return t
      }
  }
  class Un extends rn {
      #Ws;
      #Ks;
      constructor(e, t) {
          super(), this.#Ws = e, this.#Ks = t
      }
      createNode(e) {
          const t = Y.div({
              class: this.#Ws
          }, []);
          for (let n of this.#Ks) null !== n && t.append(n.createNode(e));
          return t
      }
  }
  class Bn extends rn {
      #qs;
      constructor(e) {
          super(), this.#qs = e
      }
      createNode(e) {
          return this.#qs
      }
  }
  var Fn = '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">\r\n    <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"/>\r\n</svg>';
  class Ln extends In {
      constructor(e) {
          super("", e, sn.create((e => {
              e.switchStartStop(), V.triggerFeatureUsed(V.FEATURE_PAUSE)
          })))
      }
      createNode(e) {
          const t = super.createNode(e);
          return Y.setContent(t, [Y.create(Fn), "Start"]), e.addOnStarted((() => {
              Y.setContent(t, [Y.create('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">\r\n    <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"/>\r\n</svg>'), "Pause"])
          })), e.addOnStopped((() => {
              Y.setContent(t, [Y.create(Fn), "Start"])
          })), t
      }
  }
  class Nn extends rn {
      #_s;
      constructor(e = null) {
          super(), this.#_s = e
      }
      createNode(e) {
          let t = "";
          const n = Y.span(""),
              r = [Y.span("Performance: ", {
                  class: "status-label"
              }), n],
              s = Y.div({
                  class: "btn-group"
              }, [Y.element("button", {
                  type: "button",
                  class: "btn btn-link dropdown-toggle",
                  "data-bs-toggle": "dropdown",
                  "aria-expanded": "false"
              }, r), Y.element("form", {
                  class: "dropdown-menu p-2"
              }, this.#Js(e))]);
          s.addEventListener("show.bs.dropdown", (function() {
              V.triggerFeatureUsed(V.FEATURE_STATUS_DISPLAYED)
          }));
          let i = (e, r) => {
              r !== t && (n.textContent = r.toUpperCase(), n.classList.remove("status-" + t), n.classList.add("status-" + r), t = r)
          };
          return e.addOnStopped((() => i(0, "stopped"))), e.addOnStarted((() => i(0, "started"))), e.addOnInitialized((t => {
              t.addOnRendered((() => {
                  const t = e.getSandGame().getIterationsPerSecond();
                  i(0, 0 !== t ? t > 105 ? "best" : t > 80 ? "good" : t > 50 ? "medium" : t > 40 ? "low" : "poor" : "stopped")
              }))
          })), s
      }
      #Js(e) {
          const t = Y.span(),
              n = Y.span();
          e.addOnInitialized((r => {
              r.addOnRendered((() => {
                  const r = e.getSandGame().getFramesPerSecond(),
                      s = e.getSandGame().getIterationsPerSecond();
                  n.textContent = "= " + r, t.textContent = "= " + s
              }))
          }));
          const r = Y.span(),
              s = () => {
                  const t = e.getCurrentWidthPoints(),
                      n = e.getCurrentHeightPoints();
                  r.textContent = `= ${t.toLocaleString()}${n.toLocaleString()} = ${(t*n).toLocaleString()}`
              };
          return e.addOnInitialized((() => {
              s()
          })), s(), [Y.span("Simulated elements"), Y.element("br"), r, Y.element("br"), Y.span("Simulation iterations /s"), Y.element("br"), t, Y.span(" (target: " + re.OPT_CYCLES_PER_SECOND + ")", {
              style: "color: lightgray;"
          }), Y.element("br"), Y.span("Rendered frames /s"), Y.element("br"), n, Y.span(" (target: " + re.OPT_FRAMES_PER_SECOND + ")", {
              style: "color: lightgray;"
          }), Y.element("br"), this.#_s]
      }
  }
  class Dn extends sn {
      performAction(e) {
          let t = Y.bootstrapDialogBuilder();
          t.setHeaderContent("Restart"), t.setBodyContent([Y.par(null, "Are you sure?")]), t.addSubmitButton("Restart", (() => {
              const t = e.getInitialScene();
              e.openScene(t), V.triggerFeatureUsed(V.FEATURE_RESTART_SCENE)
          })), t.addCloseButton("Close"), t.show(e.getDialogAnchor())
      }
  }
  class xn extends In {
      constructor(e) {
          super("", e, new Dn)
      }
      createNode(e) {
          const t = super.createNode(e);
          return Y.setContent(t, [Y.create('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-clockwise" viewBox="0 0 16 16">\r\n    <path fill-rule="evenodd" d="M8 3.5a4.5 4.5 0 104.546 2.914.5.5 0 011.454-.414A6 6 0 118 2z"/>\r\n    <path d="M8 6V0l5 3L8 6"/>\r\n</svg>'), "Restart"]), t
      }
  }
  class Pn extends sn {
      performAction(e) {
          let t = document.createElement("input");
          t.type = "file", t.onchange = t => {
              e.getIOManager().loadFromFiles(t.target.files)
          }, t.click()
      }
  }
  class Hn extends sn {
      performAction(e) {
          const t = e.createSnapshot(),
              n = Xt.createResourceFromSnapshot(t);
          vn.saveAs(new Blob([n]), this.#Xs()), V.triggerFeatureUsed(V.FEATURE_IO_EXPORT)
      }
      #Xs() {
          return `sand-game-js_${(new Date).toISOString().slice(0,10)}.sgjs`
      }
  }
  const kn = U._LIST,
      Wn = W._LIST;
  e.BrushDefs = U, e.Brushes = C, e.PredicateDefs = class {
      static and(e, t) {
          return function(n, r) {
              return e(n, r) && t(n, r)
          }
      }
      static or(e, t) {
          return function(n, r) {
              return e(n, r) || t(n, r)
          }
      }
      static not(e) {
          return function(t, n) {
              return !e(t, n)
          }
      }
      static IS_WATER = function(e, t) {
          return r.getBehaviour(e) === r.BEHAVIOUR_WATER && r.getTypeClass(e) === r.TYPE_FLUID
      };
      static IS_POWDER = function(e, t) {
          const n = r.getTypeClass(e);
          return n === r.TYPE_POWDER || n === r.TYPE_POWDER_FLOATING || n === r.TYPE_POWDER_WET
      };
      static IS_STATIC = function(e, t) {
          return r.getTypeClass(e) === r.TYPE_STATIC
      };
      static IS_FISH = function(e, t) {
          return r.getBehaviour(e) === r.BEHAVIOUR_FISH
      };
      static IS_FISH_PART = function(e, t) {
          const n = r.getBehaviour(e);
          return n === r.BEHAVIOUR_FISH || n === r.BEHAVIOUR_FISH_BODY
      }
  }, e.ToolDefs = W, e.Tools = k, e.brushes = kn, e.init = function(e, n) {
      void 0 === n && (n = {});
      const {
          width: r,
          height: s,
          scale: i
      } = t.determineOptimalSizes(e), a = {
          scale: i,
          canvasWidthPx: r,
          canvasHeightPx: s,
          version: n.version
      }, o = !0 === n.debug, l = void 0 === n.autoStart || !0 === n.autoStart, h = !(!0 === n.disableRestart), c = !(!0 === n.disableStartStop), d = !(!0 === n.disableImport), u = !(!0 === n.disableExport), E = !(!0 === n.disableSizeChange), A = !(!0 === n.disableSceneSelection);
      let m, g, p, T, f, C, R;

      function v(e, t = null) {
          if ("string" == typeof e) {
              let n = W.byCodeName(e);
              if (null !== n) return n;
              if (o) throw "Tool not found: " + e;
              return t
          }
          if ("object" == typeof e && e instanceof S) return e;
          if (o) throw "Unexpected tool type";
          return t
      }
      if ("string" == typeof n.scene ? (g = n.scene, m = nn.SCENES[g]) : "object" == typeof n.scene ? (g = "n/a", m = new en({
              name: "n/a",
              description: "n/a",
              apply: "function" == typeof n.scene.init ? n.scene.init : () => {}
          })) : (g = o || Math.random() > .1 ? "landscape_1" : "landscape_2", m = nn.SCENES[g]), Array.isArray(n.tools)) {
          T = !1, p = [];
          for (let e of n.tools) {
              let t = v(e, null);
              null !== t && p.push(t)
          }
      } else T = !0, p = W.DEFAULT_TOOLS;
      void 0 !== n.primaryTool && null !== (f = v(n.primaryTool)) || (f = W.SAND), void 0 !== n.secondaryTool && null !== (C = v(n.secondaryTool)) || (C = W.ERASE), void 0 !== n.tertiaryTool && null !== (R = v(n.tertiaryTool)) || (R = W.METEOR);
      const w = Y.div({
          class: "sand-game-dialog-anchor sand-game-component"
      });
      document.body.prepend(w);
      const O = new Ne(f, C, R),
          I = new $t(a, w, O),
          y = new Un("sand-game-component", [new hn(p, T), new mn, new Un("sand-game-options", [d ? new In("Import", In.CLASS_LIGHT, new Pn) : null, u ? new In("Export", In.CLASS_LIGHT, new Hn) : null, h && !A ? new xn(In.CLASS_LIGHT) : null, c ? new Ln(In.CLASS_LIGHT) : null, new Nn(E ? Y.element("span", null, [Y.element("br"), "Tip: adjust scale if needed"]) : null)]), new Un("sand-game-views", [E || A ? new Un(null, [E ? new fn : null, A ? new Bn(Y.span("Scenes", {
              class: "scenes-label"
          })) : null, A ? new Cn(I, nn.SCENES, g) : null]) : null, o ? new Mn : null])]).createNode(I);
      return e.innerHTML = "", e.append(y), I.setup(m), d && I.getIOManager().initFileDragAndDrop(y), I.enableGlobalShortcuts(), l && I.start(), V.triggerFeatureUsed(V.FEATURE_APP_INITIALIZED), I
  }, e.tools = Wn, Object.defineProperty(e, "__esModule", {
      value: !0
  })
}));
//# sourceMappingURL=sand-game-js.umd.min.js.map</script>
  <style>/* Sand Game JS; Patrik Harag, https://harag.cz; all rights reserved */.sand-game-component.drag-and-drop-highlight{outline:thick dashed rgba(0,129,255,.76);outline-offset:2px}.sand-game-component .sand-game-canvas-component .sand-game-canvas{outline:1px solid #b7b7b7}@media (max-width:575px){.sand-game-component .sand-game-canvas-component{margin-left:-15px;margin-right:-15px}.sand-game-component .sand-game-canvas-component .sand-game-canvas{outline:none}}.sand-game-component .sand-game-canvas-overlay{cursor:crosshair;user-select:none}.sand-game-component .sand-game-canvas-overlay .sand-game-marker{font-size:small;padding:3pt}.sand-game-component .sand-game-canvas-overlay .sand-game-splash{background-color:hsla(0,0%,63%,.8);cursor:auto;display:flex;flex-direction:column;margin:auto;max-height:75%;max-width:600px;min-height:200px;padding:1em;pointer-events:auto;position:relative;top:20%;width:70%}.sand-game-component .sand-game-canvas-overlay .sand-game-splash .sand-game-splash-content{flex:1 1 auto;overflow-y:auto}.sand-game-component .sand-game-canvas-overlay .sand-game-splash .sand-game-splash-footer a,.sand-game-component .sand-game-canvas-overlay .sand-game-splash .sand-game-splash-footer button{margin-right:.5em;margin-top:.5em}@media (max-width:768px){.sand-game-component .sand-game-canvas-overlay .sand-game-splash{font-size:90%;max-height:85%;top:10%;width:90%}.sand-game-component .sand-game-canvas-overlay .sand-game-splash .sand-game-splash-footer a,.sand-game-component .sand-game-canvas-overlay .sand-game-splash .sand-game-splash-footer button{font-size:90%}}.sand-game-component .sand-game-canvas-overlay .sand-game-objectives-list{background-color:hsla(0,0%,63%,.8);margin-left:10pt;padding:1em;position:absolute;right:10pt;top:10pt}.sand-game-component .sand-game-canvas-overlay .sand-game-objectives-list .sand-game-objective-icon{margin-right:.5em;vertical-align:.1em}@media (max-width:768px){.sand-game-component .sand-game-canvas-overlay .sand-game-objectives-list{font-size:small;padding:.5em 1em}}.sand-game-component .sand-game-tools{display:inline-block;user-select:none}.sand-game-component .btn-sand-game-tool{border:none;font-size:75%;font-weight:700;line-height:2;margin-bottom:4pt;margin-right:3pt;padding:0 .4em}.sand-game-component .btn.erase,.sand-game-component .btn.move{background-color:#e6e6e6;color:#000}.sand-game-component .btn.move{margin-right:.8em}.sand-game-component .btn.sand{background-color:#b7a643}.sand-game-component .btn.soil{background-color:#8e6848}.sand-game-component .btn.gravel{background-color:#656565}.sand-game-component .btn.rock,.sand-game-component .btn.wall{background-color:#383838}.sand-game-component .btn.wood{background-color:#573005}.sand-game-component .btn.water{background-color:#0487ba}.sand-game-component .btn.fire{background-color:#ff5900}.sand-game-component .btn.fire.selected{outline:1px solid #000}.sand-game-component .btn.meteor{background-color:#ff5900}.sand-game-component .btn.meteor.selected{outline:1px solid #000}.sand-game-component .btn.template{background-color:#82309d;margin-left:.4em}.sand-game-component .btn.selected{outline:1px solid red}.sand-game-component .sand-game-options{display:inline-block;white-space:nowrap}.sand-game-component .sand-game-options .btn{color:gray;font-size:75%;margin-right:.5em;padding:0 .5em;vertical-align:baseline}.sand-game-component .sand-game-options .btn.btn-link{text-decoration:none}.sand-game-component .sand-game-options .btn .bi{height:12px;vertical-align:-1px;width:12px}.sand-game-component .sand-game-options .dropdown-menu .btn{font-size:100%}.sand-game-component .sand-game-options .dropdown-menu{font-size:small;user-select:none}@media (max-width:575px){.sand-game-component .sand-game-options .status-label{display:none}}.sand-game-component .sand-game-options .status-stopped{color:blue}.sand-game-component .sand-game-options .status-best,.sand-game-component .sand-game-options .status-good{color:green}.sand-game-component .sand-game-options .status-medium{color:#fc0}.sand-game-component .sand-game-options .status-low{color:#f40}.sand-game-component .sand-game-options .status-poor{color:red}.sand-game-component .sand-game-views:has(div){margin:1em 0 2em}.sand-game-component .sand-game-views .adjust-scale{height:46px;margin-right:.5em;vertical-align:top}.sand-game-component .sand-game-views .adjust-scale:hover{background-color:#ebebeb}.sand-game-component .sand-game-views .adjust-scale svg{height:30px;width:30px}.sand-game-component .sand-game-views .scenes-label{color:gray;display:inline-block;font-size:small;margin-left:-6px;margin-right:-3px;padding-left:6px;transform:rotate(-70deg);user-select:none}.sand-game-component .sand-game-views .scenes{display:inline}.sand-game-component .sand-game-views .scenes .scene{color:#000;cursor:pointer;display:inline-block;height:46px;margin:0 .5em .5em 0;user-select:none;white-space:nowrap}.sand-game-component .sand-game-views .scenes .scene .card-title{font-size:100%;font-weight:500}.sand-game-component .sand-game-views .scenes .scene.visited-scene,.sand-game-component .sand-game-views .scenes .scene:hover{background-color:#ebebeb}.sand-game-component .sand-game-views .scenes .scene.visited-scene:hover{background-color:#dedede}.sand-game-component .sand-game-views .scenes .scene.selected-scene{background-color:#ffffbd}.sand-game-component .sand-game-views .scenes .scene.selected-scene:hover{background-color:#e8e8a5}.sand-game-component .sand-game-views .card{margin:.5em 0}.sand-game-component .element-size-options{white-space:nowrap}.sand-game-component .element-size-options .card{cursor:pointer;display:inline-block;height:32pt;margin:.5em .5em .5em 0;user-select:none;width:48pt}.sand-game-component .element-size-options .card img{border-radius:.25rem;height:31pt;width:47pt}.sand-game-component .element-size-options .card:hover{background-color:#ebebeb}.sand-game-component .element-size-options .card.selected-size{background-color:#ffffbd}.sand-game-component .element-size-options .card.selected-size:hover{background-color:#e8e8a5}.sand-game-component .test-tools .btn{font-size:75%;line-height:2;margin-bottom:3pt;margin-right:3pt;padding:0 .4em}.sand-game-component .sand-game-templates .template-button{background-position:top;background-position-y:5px;background-repeat:no-repeat;height:100px;margin-right:.5em;margin-top:.5em;padding-top:50px;width:100px}
  /*# sourceMappingURL=sand-game-js.css.map */</style>
  <script>
      // global variables, accessible from browser console
      var sandGame = null;
      var brushes = null;

      document.addEventListener('DOMContentLoaded', () => {
          if (window.SandGameJS !== undefined) {
              const root = document.getElementById('sand-game-root');

              const config = { version: 'dev', debug: true };
              const controller = window.SandGameJS.init(root, config);
              sandGame = controller.getSandGame();
              controller.addOnInitialized(s => {
                  sandGame = s;
              });
              brushes = window.SandGameJS.brushes;
              console.log('Globals:');
              console.log('  sandGame, brushes');
              console.log('Examples:');
              console.log('  sandGame.graphics().drawLine(10, 10, 300, 150, 2, brushes.sand);');
              console.log('  sandGame.graphics().draw(100, 20, brushes.meteor);');
          } else {
              const placeholder = document.getElementById('sand-game-placeholder-content');
              placeholder.innerHTML = '<span style="color: red; font-weight: bold;">' +
                  'Failed to load the game. Possible reasons:<br>' +
                  '&bull; Your browser may not support modern JavaScript<br>' +
                  '&bull; Internet connection<br>' +
                  '&bull; A server side problem' +
                  '</span>';
          }
      });
  </script>
</head>
<body>
<main role="main" class="container">
  <h1>Sand Game JS</h1>
  <div id="sand-game-root">
    <!-- Sand Game JS placeholder -->
    <div style="user-select: none;">
      <div>
        <button disabled class="btn" type="button" style="min-width: 4em; line-height: 2; padding: 0 0.4em 0 0.4em; font-size: 75%; border: none; background-color: rgb(230, 230, 230); color: black;">&nbsp;</button>
      </div>
      <div style="height: 70vh; display: flex; align-items: center; justify-content: center; margin-top: 4pt; padding: 2em; outline: 1px solid #b7b7b7;">
        <div id="sand-game-placeholder-content">
          Loading...
        </div>
      </div>
      <div style="height: 20vh"></div>
    </div>
  </div>
</main>
<footer class="container" style="font-size: small">
  <p>
    <a href="https://github.com/Hartrik/sand-game-js">https://github.com/Hartrik/sand-game-js</a>
  </p>
</footer>
</body>
</html>